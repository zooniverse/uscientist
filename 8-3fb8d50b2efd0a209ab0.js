(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{199:function(t,e,n){"use strict";n.r(e);var r=function(){return new o};function o(){this.reset()}o.prototype={constructor:o,reset:function(){this.s=this.t=0},add:function(t){a(i,t,this.t),a(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new o;function a(t,e,n){var r=t.s=e+n,o=r-e,i=r-o;t.t=e-i+(n-o)}var s=1e-6,u=Math.PI,c=u/2,l=u/4,f=2*u,h=180/u,p=u/180,d=Math.abs,g=Math.atan,v=Math.atan2,y=Math.cos,m=Math.ceil,b=Math.exp,_=(Math.floor,Math.log),w=Math.pow,k=Math.sin,E=Math.sign||function(t){return t>0?1:t<0?-1:0},S=Math.sqrt,O=Math.tan;function P(t){return t>1?0:t<-1?u:Math.acos(t)}function M(t){return t>1?c:t<-1?-c:Math.asin(t)}function j(t){return(t=k(t/2))*t}function T(){}function A(t,e){t&&C.hasOwnProperty(t.type)&&C[t.type](t,e)}var x={Feature:function(t,e){A(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)A(n[r].geometry,e)}},C={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){R(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)R(n[r],e,0)},Polygon:function(t,e){L(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)L(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)A(n[r],e)}};function R(t,e,n){var r,o=-1,i=t.length-n;for(e.lineStart();++o<i;)r=t[o],e.point(r[0],r[1],r[2]);e.lineEnd()}function L(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)R(t[n],e,1);e.polygonEnd()}var U,N,I,z,D,B=function(t,e){t&&x.hasOwnProperty(t.type)?x[t.type](t,e):A(t,e)},q=r(),F=r(),G={point:T,lineStart:T,lineEnd:T,polygonStart:function(){q.reset(),G.lineStart=H,G.lineEnd=Y},polygonEnd:function(){var t=+q;F.add(t<0?f+t:t),this.lineStart=this.lineEnd=this.point=T},sphere:function(){F.add(f)}};function H(){G.point=X}function Y(){J(U,N)}function X(t,e){G.point=J,U=t,N=e,I=t*=p,z=y(e=(e*=p)/2+l),D=k(e)}function J(t,e){var n=(t*=p)-I,r=n>=0?1:-1,o=r*n,i=y(e=(e*=p)/2+l),a=k(e),s=D*a,u=z*i+s*y(o),c=s*r*k(o);q.add(v(c,u)),I=t,z=i,D=a}var K=function(t){return F.reset(),B(t,G),2*F};function W(t){return[v(t[1],t[0]),M(t[2])]}function Q(t){var e=t[0],n=t[1],r=y(n);return[r*y(e),r*k(e),k(n)]}function $(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function V(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Z(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function tt(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function et(t){var e=S(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var nt,rt,ot,it,at,st,ut,ct,lt,ft,ht=r(),pt={point:dt,lineStart:vt,lineEnd:yt,polygonStart:function(){pt.point=mt,pt.lineStart=bt,pt.lineEnd=_t,ht.reset(),G.polygonStart()},polygonEnd:function(){G.polygonEnd(),pt.point=dt,pt.lineStart=vt,pt.lineEnd=yt,q<0?(nt=-(ot=180),rt=-(it=90)):ht>s?it=90:ht<-s&&(rt=-90),ft[0]=nt,ft[1]=ot}};function dt(t,e){lt.push(ft=[nt=t,ot=t]),e<rt&&(rt=e),e>it&&(it=e)}function gt(t,e){var n=Q([t*p,e*p]);if(ct){var r=V(ct,n),o=V([r[1],-r[0],0],r);et(o),o=W(o);var i,a=t-at,s=a>0?1:-1,u=o[0]*h*s,c=d(a)>180;c^(s*at<u&&u<s*t)?(i=o[1]*h)>it&&(it=i):c^(s*at<(u=(u+360)%360-180)&&u<s*t)?(i=-o[1]*h)<rt&&(rt=i):(e<rt&&(rt=e),e>it&&(it=e)),c?t<at?wt(nt,t)>wt(nt,ot)&&(ot=t):wt(t,ot)>wt(nt,ot)&&(nt=t):ot>=nt?(t<nt&&(nt=t),t>ot&&(ot=t)):t>at?wt(nt,t)>wt(nt,ot)&&(ot=t):wt(t,ot)>wt(nt,ot)&&(nt=t)}else lt.push(ft=[nt=t,ot=t]);e<rt&&(rt=e),e>it&&(it=e),ct=n,at=t}function vt(){pt.point=gt}function yt(){ft[0]=nt,ft[1]=ot,pt.point=dt,ct=null}function mt(t,e){if(ct){var n=t-at;ht.add(d(n)>180?n+(n>0?360:-360):n)}else st=t,ut=e;G.point(t,e),gt(t,e)}function bt(){G.lineStart()}function _t(){mt(st,ut),G.lineEnd(),d(ht)>s&&(nt=-(ot=180)),ft[0]=nt,ft[1]=ot,ct=null}function wt(t,e){return(e-=t)<0?e+360:e}function kt(t,e){return t[0]-e[0]}function Et(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var St,Ot,Pt,Mt,jt,Tt,At,xt,Ct,Rt,Lt,Ut,Nt,It,zt,Dt,Bt=function(t){var e,n,r,o,i,a,s;if(it=ot=-(nt=rt=1/0),lt=[],B(t,pt),n=lt.length){for(lt.sort(kt),e=1,i=[r=lt[0]];e<n;++e)Et(r,(o=lt[e])[0])||Et(r,o[1])?(wt(r[0],o[1])>wt(r[0],r[1])&&(r[1]=o[1]),wt(o[0],r[1])>wt(r[0],r[1])&&(r[0]=o[0])):i.push(r=o);for(a=-1/0,e=0,r=i[n=i.length-1];e<=n;r=o,++e)o=i[e],(s=wt(r[1],o[0]))>a&&(a=s,nt=o[0],ot=r[1])}return lt=ft=null,nt===1/0||rt===1/0?[[NaN,NaN],[NaN,NaN]]:[[nt,rt],[ot,it]]},qt={sphere:T,point:Ft,lineStart:Ht,lineEnd:Jt,polygonStart:function(){qt.lineStart=Kt,qt.lineEnd=Wt},polygonEnd:function(){qt.lineStart=Ht,qt.lineEnd=Jt}};function Ft(t,e){t*=p;var n=y(e*=p);Gt(n*y(t),n*k(t),k(e))}function Gt(t,e,n){Pt+=(t-Pt)/++St,Mt+=(e-Mt)/St,jt+=(n-jt)/St}function Ht(){qt.point=Yt}function Yt(t,e){t*=p;var n=y(e*=p);It=n*y(t),zt=n*k(t),Dt=k(e),qt.point=Xt,Gt(It,zt,Dt)}function Xt(t,e){t*=p;var n=y(e*=p),r=n*y(t),o=n*k(t),i=k(e),a=v(S((a=zt*i-Dt*o)*a+(a=Dt*r-It*i)*a+(a=It*o-zt*r)*a),It*r+zt*o+Dt*i);Ot+=a,Tt+=a*(It+(It=r)),At+=a*(zt+(zt=o)),xt+=a*(Dt+(Dt=i)),Gt(It,zt,Dt)}function Jt(){qt.point=Ft}function Kt(){qt.point=Qt}function Wt(){$t(Ut,Nt),qt.point=Ft}function Qt(t,e){Ut=t,Nt=e,t*=p,e*=p,qt.point=$t;var n=y(e);It=n*y(t),zt=n*k(t),Dt=k(e),Gt(It,zt,Dt)}function $t(t,e){t*=p;var n=y(e*=p),r=n*y(t),o=n*k(t),i=k(e),a=zt*i-Dt*o,s=Dt*r-It*i,u=It*o-zt*r,c=S(a*a+s*s+u*u),l=M(c),f=c&&-l/c;Ct+=f*a,Rt+=f*s,Lt+=f*u,Ot+=l,Tt+=l*(It+(It=r)),At+=l*(zt+(zt=o)),xt+=l*(Dt+(Dt=i)),Gt(It,zt,Dt)}var Vt=function(t){St=Ot=Pt=Mt=jt=Tt=At=xt=Ct=Rt=Lt=0,B(t,qt);var e=Ct,n=Rt,r=Lt,o=e*e+n*n+r*r;return o<1e-12&&(e=Tt,n=At,r=xt,Ot<s&&(e=Pt,n=Mt,r=jt),(o=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[v(n,e)*h,M(r/S(o))*h]},Zt=function(t){return function(){return t}},te=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n};function ee(t,e){return[t>u?t-f:t<-u?t+f:t,e]}function ne(t,e,n){return(t%=f)?e||n?te(oe(t),ie(e,n)):oe(t):e||n?ie(e,n):ee}function re(t){return function(e,n){return[(e+=t)>u?e-f:e<-u?e+f:e,n]}}function oe(t){var e=re(t);return e.invert=re(-t),e}function ie(t,e){var n=y(t),r=k(t),o=y(e),i=k(e);function a(t,e){var a=y(e),s=y(t)*a,u=k(t)*a,c=k(e),l=c*n+s*r;return[v(u*o-l*i,s*n-c*r),M(l*o+u*i)]}return a.invert=function(t,e){var a=y(e),s=y(t)*a,u=k(t)*a,c=k(e),l=c*o-u*i;return[v(u*o+c*i,s*n+l*r),M(l*n-s*r)]},a}ee.invert=ee;var ae=function(t){function e(e){return(e=t(e[0]*p,e[1]*p))[0]*=h,e[1]*=h,e}return t=ne(t[0]*p,t[1]*p,t.length>2?t[2]*p:0),e.invert=function(e){return(e=t.invert(e[0]*p,e[1]*p))[0]*=h,e[1]*=h,e},e};function se(t,e,n,r,o,i){if(n){var a=y(e),s=k(e),u=r*n;null==o?(o=e+r*f,i=e-u/2):(o=ue(a,o),i=ue(a,i),(r>0?o<i:o>i)&&(o+=r*f));for(var c,l=o;r>0?l>i:l<i;l-=u)c=W([a,-s*y(l),-s*k(l)]),t.point(c[0],c[1])}}function ue(t,e){(e=Q(e))[0]-=t,et(e);var n=P(-e[1]);return((-e[2]<0?-n:n)+f-s)%f}var ce=function(){var t,e,n=Zt([0,0]),r=Zt(90),o=Zt(6),i={point:function(n,r){t.push(n=e(n,r)),n[0]*=h,n[1]*=h}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*p,u=o.apply(this,arguments)*p;return t=[],e=ne(-a[0]*p,-a[1]*p,0).invert,se(i,s,u,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return a.center=function(t){return arguments.length?(n="function"==typeof t?t:Zt([+t[0],+t[1]]),a):n},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:Zt(+t),a):r},a.precision=function(t){return arguments.length?(o="function"==typeof t?t:Zt(+t),a):o},a},le=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:T,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},fe=function(t,e,n,r,o,i){var a,s=t[0],u=t[1],c=0,l=1,f=e[0]-s,h=e[1]-u;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>c&&(c=a)}if(a=o-s,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<l&&(l=a)}if(a=r-u,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<l&&(l=a)}else if(h>0){if(a>l)return;a>c&&(c=a)}if(a=i-u,h||!(a<0)){if(a/=h,h<0){if(a>l)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<l&&(l=a)}return c>0&&(t[0]=s+c*f,t[1]=u+c*h),l<1&&(e[0]=s+l*f,e[1]=u+l*h),!0}}}}},he=function(t,e){return d(t[0]-e[0])<s&&d(t[1]-e[1])<s};function pe(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var de=function(t,e,n,r,o){var i,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(he(r,a)){for(o.lineStart(),i=0;i<e;++i)o.point((r=t[i])[0],r[1]);o.lineEnd()}else s.push(n=new pe(r,t,null,!0)),u.push(n.o=new pe(r,null,n,!1)),s.push(n=new pe(a,t,null,!1)),u.push(n.o=new pe(a,null,n,!0))}}),s.length){for(u.sort(e),ge(s),ge(u),i=0,a=u.length;i<a;++i)u[i].e=n=!n;for(var c,l,f=s[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(i=0,a=c.length;i<a;++i)o.point((l=c[i])[0],l[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(c=h.p.z,i=c.length-1;i>=0;--i)o.point((l=c[i])[0],l[1]);else r(h.x,h.p.x,-1,o);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);o.lineEnd()}}};function ge(t){if(e=t.length){for(var e,n,r=0,o=t[0];++r<e;)o.n=n=t[r],n.p=o,o=n;o.n=n=t[0],n.p=o}}var ve=n(211),ye=1e9,me=-ye;function be(t,e,n,r){function o(o,i){return t<=o&&o<=n&&e<=i&&i<=r}function i(o,i,s,u){var l=0,f=0;if(null==o||(l=a(o,s))!==(f=a(i,s))||c(o,i)<0^s>0)do{u.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+s+4)%4)!==f);else u.point(i[0],i[1])}function a(r,o){return d(r[0]-t)<s?o>0?0:3:d(r[0]-n)<s?o>0?2:1:d(r[1]-e)<s?o>0?1:0:o>0?3:2}function u(t,e){return c(t.x,e.x)}function c(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var s,c,l,f,h,p,d,g,v,y,m,b=a,_=le(),w={point:k,lineStart:function(){w.point=E,c&&c.push(l=[]);y=!0,v=!1,d=g=NaN},lineEnd:function(){s&&(E(f,h),p&&v&&_.rejoin(),s.push(_.result()));w.point=k,v&&b.lineEnd()},polygonStart:function(){b=_,s=[],c=[],m=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,o=c.length;n<o;++n)for(var i,a,s=c[n],u=1,l=s.length,f=s[0],h=f[0],p=f[1];u<l;++u)i=h,a=p,f=s[u],h=f[0],p=f[1],a<=r?p>r&&(h-i)*(r-a)>(p-a)*(t-i)&&++e:p<=r&&(h-i)*(r-a)<(p-a)*(t-i)&&--e;return e}(),n=m&&e,o=(s=Object(ve.a)(s)).length;(n||o)&&(a.polygonStart(),n&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),o&&de(s,u,e,i,a),a.polygonEnd());b=a,s=c=l=null}};function k(t,e){o(t,e)&&b.point(t,e)}function E(i,a){var s=o(i,a);if(c&&l.push([i,a]),y)f=i,h=a,p=s,y=!1,s&&(b.lineStart(),b.point(i,a));else if(s&&v)b.point(i,a);else{var u=[d=Math.max(me,Math.min(ye,d)),g=Math.max(me,Math.min(ye,g))],_=[i=Math.max(me,Math.min(ye,i)),a=Math.max(me,Math.min(ye,a))];fe(u,_,t,e,n,r)?(v||(b.lineStart(),b.point(u[0],u[1])),b.point(_[0],_[1]),s||b.lineEnd(),m=!1):s&&(b.lineStart(),b.point(i,a),m=!1)}d=i,g=a,v=s}return w}}var _e,we,ke,Ee=function(){var t,e,n,r=0,o=0,i=960,a=500;return n={stream:function(n){return t&&e===n?t:t=be(r,o,i,a)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],o=+s[0][1],i=+s[1][0],a=+s[1][1],t=e=null,n):[[r,o],[i,a]]}}},Se=r(),Oe=function(t,e){var n=e[0],r=e[1],o=[k(n),-y(n),0],i=0,a=0;Se.reset();for(var c=0,h=t.length;c<h;++c)if(d=(p=t[c]).length)for(var p,d,g=p[d-1],m=g[0],b=g[1]/2+l,_=k(b),w=y(b),E=0;E<d;++E,m=O,_=j,w=T,g=S){var S=p[E],O=S[0],P=S[1]/2+l,j=k(P),T=y(P),A=O-m,x=A>=0?1:-1,C=x*A,R=C>u,L=_*j;if(Se.add(v(L*x*k(C),w*T+L*y(C))),i+=R?A+x*f:A,R^m>=n^O>=n){var U=V(Q(g),Q(S));et(U);var N=V(o,U);et(N);var I=(R^A>=0?-1:1)*M(N[2]);(r>I||r===I&&(U[0]||U[1]))&&(a+=R^A>=0?1:-1)}}return(i<-s||i<s&&Se<-s)^1&a},Pe=r(),Me={sphere:T,point:T,lineStart:function(){Me.point=Te,Me.lineEnd=je},lineEnd:T,polygonStart:T,polygonEnd:T};function je(){Me.point=Me.lineEnd=T}function Te(t,e){_e=t*=p,we=k(e*=p),ke=y(e),Me.point=Ae}function Ae(t,e){t*=p;var n=k(e*=p),r=y(e),o=d(t-_e),i=y(o),a=r*k(o),s=ke*n-we*r*i,u=we*n+ke*r*i;Pe.add(v(S(a*a+s*s),u)),_e=t,we=n,ke=r}var xe=function(t){return Pe.reset(),B(t,Me),+Pe},Ce=[null,null],Re={type:"LineString",coordinates:Ce},Le=function(t,e){return Ce[0]=t,Ce[1]=e,xe(Re)},Ue={Feature:function(t,e){return Ie(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)if(Ie(n[r].geometry,e))return!0;return!1}},Ne={Sphere:function(){return!0},Point:function(t,e){return ze(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(ze(n[r],e))return!0;return!1},LineString:function(t,e){return De(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(De(n[r],e))return!0;return!1},Polygon:function(t,e){return Be(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(Be(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)if(Ie(n[r],e))return!0;return!1}};function Ie(t,e){return!(!t||!Ne.hasOwnProperty(t.type))&&Ne[t.type](t,e)}function ze(t,e){return 0===Le(t,e)}function De(t,e){var n=Le(t[0],t[1]);return Le(t[0],e)+Le(e,t[1])<=n+s}function Be(t,e){return!!Oe(t.map(qe),Fe(e))}function qe(t){return(t=t.map(Fe)).pop(),t}function Fe(t){return[t[0]*p,t[1]*p]}var Ge=function(t,e){return(t&&Ue.hasOwnProperty(t.type)?Ue[t.type]:Ie)(t,e)};function He(t,e,n){var r=Object(ve.b)(t,e-s,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function Ye(t,e,n){var r=Object(ve.b)(t,e-s,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function Xe(){var t,e,n,r,o,i,a,u,c,l,f,h,p=10,g=p,v=90,y=360,b=2.5;function _(){return{type:"MultiLineString",coordinates:w()}}function w(){return Object(ve.b)(m(r/v)*v,n,v).map(f).concat(Object(ve.b)(m(u/y)*y,a,y).map(h)).concat(Object(ve.b)(m(e/p)*p,t,p).filter(function(t){return d(t%v)>s}).map(c)).concat(Object(ve.b)(m(i/g)*g,o,g).filter(function(t){return d(t%y)>s}).map(l))}return _.lines=function(){return w().map(function(t){return{type:"LineString",coordinates:t}})},_.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(h(a).slice(1),f(n).reverse().slice(1),h(u).reverse().slice(1))]}},_.extent=function(t){return arguments.length?_.extentMajor(t).extentMinor(t):_.extentMinor()},_.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),u>a&&(t=u,u=a,a=t),_.precision(b)):[[r,u],[n,a]]},_.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],i=+n[0][1],o=+n[1][1],e>t&&(n=e,e=t,t=n),i>o&&(n=i,i=o,o=n),_.precision(b)):[[e,i],[t,o]]},_.step=function(t){return arguments.length?_.stepMajor(t).stepMinor(t):_.stepMinor()},_.stepMajor=function(t){return arguments.length?(v=+t[0],y=+t[1],_):[v,y]},_.stepMinor=function(t){return arguments.length?(p=+t[0],g=+t[1],_):[p,g]},_.precision=function(s){return arguments.length?(b=+s,c=He(i,o,90),l=Ye(e,t,b),f=He(u,a,90),h=Ye(r,n,b),_):b},_.extentMajor([[-180,-90+s],[180,90-s]]).extentMinor([[-180,-80-s],[180,80+s]])}function Je(){return Xe()()}var Ke,We,Qe,$e,Ve=function(t,e){var n=t[0]*p,r=t[1]*p,o=e[0]*p,i=e[1]*p,a=y(r),s=k(r),u=y(i),c=k(i),l=a*y(n),f=a*k(n),d=u*y(o),g=u*k(o),m=2*M(S(j(i-r)+a*u*j(o-n))),b=k(m),_=m?function(t){var e=k(t*=m)/b,n=k(m-t)/b,r=n*l+e*d,o=n*f+e*g,i=n*s+e*c;return[v(o,r)*h,v(i,S(r*r+o*o))*h]}:function(){return[n*h,r*h]};return _.distance=m,_},Ze=function(t){return t},tn=r(),en=r(),nn={point:T,lineStart:T,lineEnd:T,polygonStart:function(){nn.lineStart=rn,nn.lineEnd=sn},polygonEnd:function(){nn.lineStart=nn.lineEnd=nn.point=T,tn.add(d(en)),en.reset()},result:function(){var t=tn/2;return tn.reset(),t}};function rn(){nn.point=on}function on(t,e){nn.point=an,Ke=Qe=t,We=$e=e}function an(t,e){en.add($e*t-Qe*e),Qe=t,$e=e}function sn(){an(Ke,We)}var un=nn,cn=1/0,ln=cn,fn=-cn,hn=fn;var pn,dn,gn,vn,yn={point:function(t,e){t<cn&&(cn=t);t>fn&&(fn=t);e<ln&&(ln=e);e>hn&&(hn=e)},lineStart:T,lineEnd:T,polygonStart:T,polygonEnd:T,result:function(){var t=[[cn,ln],[fn,hn]];return fn=hn=-(ln=cn=1/0),t}},mn=0,bn=0,_n=0,wn=0,kn=0,En=0,Sn=0,On=0,Pn=0,Mn={point:jn,lineStart:Tn,lineEnd:Cn,polygonStart:function(){Mn.lineStart=Rn,Mn.lineEnd=Ln},polygonEnd:function(){Mn.point=jn,Mn.lineStart=Tn,Mn.lineEnd=Cn},result:function(){var t=Pn?[Sn/Pn,On/Pn]:En?[wn/En,kn/En]:_n?[mn/_n,bn/_n]:[NaN,NaN];return mn=bn=_n=wn=kn=En=Sn=On=Pn=0,t}};function jn(t,e){mn+=t,bn+=e,++_n}function Tn(){Mn.point=An}function An(t,e){Mn.point=xn,jn(gn=t,vn=e)}function xn(t,e){var n=t-gn,r=e-vn,o=S(n*n+r*r);wn+=o*(gn+t)/2,kn+=o*(vn+e)/2,En+=o,jn(gn=t,vn=e)}function Cn(){Mn.point=jn}function Rn(){Mn.point=Un}function Ln(){Nn(pn,dn)}function Un(t,e){Mn.point=Nn,jn(pn=gn=t,dn=vn=e)}function Nn(t,e){var n=t-gn,r=e-vn,o=S(n*n+r*r);wn+=o*(gn+t)/2,kn+=o*(vn+e)/2,En+=o,Sn+=(o=vn*t-gn*e)*(gn+t),On+=o*(vn+e),Pn+=3*o,jn(gn=t,vn=e)}var In=Mn;function zn(t){this._context=t}zn.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,f)}},result:T};var Dn,Bn,qn,Fn,Gn,Hn=r(),Yn={point:T,lineStart:function(){Yn.point=Xn},lineEnd:function(){Dn&&Jn(Bn,qn),Yn.point=T},polygonStart:function(){Dn=!0},polygonEnd:function(){Dn=null},result:function(){var t=+Hn;return Hn.reset(),t}};function Xn(t,e){Yn.point=Jn,Bn=Fn=t,qn=Gn=e}function Jn(t,e){Fn-=t,Gn-=e,Hn.add(S(Fn*Fn+Gn*Gn)),Fn=t,Gn=e}var Kn=Yn;function Wn(){this._string=[]}function Qn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Wn.prototype={_circle:Qn(4.5),pointRadius:function(t){return this._circle=Qn(t),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}}};var $n=function(t,e){var n,r,o=4.5;function i(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),B(t,n(r))),r.result()}return i.area=function(t){return B(t,n(un)),un.result()},i.measure=function(t){return B(t,n(Kn)),Kn.result()},i.bounds=function(t){return B(t,n(yn)),yn.result()},i.centroid=function(t){return B(t,n(In)),In.result()},i.projection=function(e){return arguments.length?(n=null==e?(t=null,Ze):(t=e).stream,i):t},i.context=function(t){return arguments.length?(r=null==t?(e=null,new Wn):new zn(e=t),"function"!=typeof o&&r.pointRadius(o),i):e},i.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),i):o},i.projection(t).context(e)},Vn=function(t,e,n,r){return function(o,i){var a,s,u,c=e(i),l=o.invert(r[0],r[1]),f=le(),h=e(f),p=!1,d={point:g,lineStart:y,lineEnd:m,polygonStart:function(){d.point=b,d.lineStart=_,d.lineEnd=w,s=[],a=[]},polygonEnd:function(){d.point=g,d.lineStart=y,d.lineEnd=m,s=Object(ve.a)(s);var t=Oe(a,l);s.length?(p||(i.polygonStart(),p=!0),de(s,tr,t,n,i)):t&&(p||(i.polygonStart(),p=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),p&&(i.polygonEnd(),p=!1),s=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function g(e,n){var r=o(e,n);t(e=r[0],n=r[1])&&i.point(e,n)}function v(t,e){var n=o(t,e);c.point(n[0],n[1])}function y(){d.point=v,c.lineStart()}function m(){d.point=g,c.lineEnd()}function b(t,e){u.push([t,e]);var n=o(t,e);h.point(n[0],n[1])}function _(){h.lineStart(),u=[]}function w(){b(u[0][0],u[0][1]),h.lineEnd();var t,e,n,r,o=h.clean(),c=f.result(),l=c.length;if(u.pop(),a.push(u),u=null,l)if(1&o){if((e=(n=c[0]).length-1)>0){for(p||(i.polygonStart(),p=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else l>1&&2&o&&c.push(c.pop().concat(c.shift())),s.push(c.filter(Zn))}return d}};function Zn(t){return t.length>1}function tr(t,e){return((t=t.x)[0]<0?t[1]-c-s:c-t[1])-((e=e.x)[0]<0?e[1]-c-s:c-e[1])}var er=Vn(function(){return!0},function(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,a){var l=i>0?u:-u,f=d(i-n);d(f-u)<s?(t.point(n,r=(r+a)/2>0?c:-c),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(l,r),t.point(i,r),e=0):o!==l&&f>=u&&(d(n-o)<s&&(n-=o*s),d(i-l)<s&&(i-=l*s),r=function(t,e,n,r){var o,i,a=k(t-n);return d(a)>s?g((k(e)*(i=y(r))*k(n)-k(r)*(o=y(e))*k(t))/(o*i*a)):(e+r)/2}(n,r,i,a),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(l,r),e=0),t.point(n=i,r=a),o=l},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var o;if(null==t)o=n*c,r.point(-u,o),r.point(0,o),r.point(u,o),r.point(u,0),r.point(u,-o),r.point(0,-o),r.point(-u,-o),r.point(-u,0),r.point(-u,o);else if(d(t[0]-e[0])>s){var i=t[0]<e[0]?u:-u;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(e[0],e[1])},[-u,-c]);var nr=function(t,e){var n=y(t),r=n>0,o=d(n)>s;function i(t,e){return y(t)*y(e)>n}function a(t,e,r){var o=[1,0,0],i=V(Q(t),Q(e)),a=$(i,i),c=i[0],l=a-c*c;if(!l)return!r&&t;var f=n*a/l,h=-n*c/l,p=V(o,i),g=tt(o,f);Z(g,tt(i,h));var v=p,y=$(g,v),m=$(v,v),b=y*y-m*($(g,g)-1);if(!(b<0)){var _=S(b),w=tt(v,(-y-_)/m);if(Z(w,g),w=W(w),!r)return w;var k,E=t[0],O=e[0],P=t[1],M=e[1];O<E&&(k=E,E=O,O=k);var j=O-E,T=d(j-u)<s;if(!T&&M<P&&(k=P,P=M,M=k),T||j<s?T?P+M>0^w[1]<(d(w[0]-E)<s?P:M):P<=w[1]&&w[1]<=M:j>u^(E<=w[0]&&w[0]<=O)){var A=tt(v,(-y+_)/m);return Z(A,g),[w,W(A)]}}}function c(e,n){var o=r?t:u-t,i=0;return e<-o?i|=1:e>o&&(i|=2),n<-o?i|=4:n>o&&(i|=8),i}return Vn(i,function(t){var e,n,l,f,h;return{lineStart:function(){f=l=!1,h=1},point:function(p,d){var g,v=[p,d],y=i(p,d),m=r?y?0:c(p,d):y?c(p+(p<0?u:-u),d):0;if(!e&&(f=l=y)&&t.lineStart(),y!==l&&(g=a(e,v),(he(e,g)||he(v,g))&&(v[0]+=s,v[1]+=s,y=i(v[0],v[1]))),y!==l)h=0,y?(t.lineStart(),g=a(v,e),t.point(g[0],g[1])):(g=a(e,v),t.point(g[0],g[1]),t.lineEnd()),e=g;else if(o&&e&&r^y){var b;m&n||!(b=a(v,e,!0))||(h=0,r?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1])))}!y||e&&he(e,v)||t.point(v[0],v[1]),e=v,l=y,n=m},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return h|(f&&l)<<1}}},function(n,r,o,i){se(i,t,e,o,n,r)},r?[0,-t]:[-u,t-u])},rr=function(t){return{stream:or(t)}};function or(t){return function(e){var n=new ir;for(var r in t)n[r]=t[r];return n.stream=e,n}}function ir(){}function ar(t,e,n){var r=e[1][0]-e[0][0],o=e[1][1]-e[0][1],i=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),B(n,t.stream(yn));var a=yn.result(),s=Math.min(r/(a[1][0]-a[0][0]),o/(a[1][1]-a[0][1])),u=+e[0][0]+(r-s*(a[1][0]+a[0][0]))/2,c=+e[0][1]+(o-s*(a[1][1]+a[0][1]))/2;return null!=i&&t.clipExtent(i),t.scale(150*s).translate([u,c])}function sr(t,e,n){return ar(t,[[0,0],e],n)}ir.prototype={constructor:ir,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ur=16,cr=y(30*p),lr=function(t,e){return+e?function(t,e){function n(r,o,i,a,u,c,l,f,h,p,g,y,m,b){var _=l-r,w=f-o,k=_*_+w*w;if(k>4*e&&m--){var E=a+p,O=u+g,P=c+y,j=S(E*E+O*O+P*P),T=M(P/=j),A=d(d(P)-1)<s||d(i-h)<s?(i+h)/2:v(O,E),x=t(A,T),C=x[0],R=x[1],L=C-r,U=R-o,N=w*L-_*U;(N*N/k>e||d((_*L+w*U)/k-.5)>.3||a*p+u*g+c*y<cr)&&(n(r,o,i,a,u,c,C,R,A,E/=j,O/=j,P,m,b),b.point(C,R),n(C,R,A,E,O,P,l,f,h,p,g,y,m,b))}}return function(e){var r,o,i,a,s,u,c,l,f,h,p,d,g={point:v,lineStart:y,lineEnd:b,polygonStart:function(){e.polygonStart(),g.lineStart=_},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function v(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){l=NaN,g.point=m,e.lineStart()}function m(r,o){var i=Q([r,o]),a=t(r,o);n(l,f,c,h,p,d,l=a[0],f=a[1],c=r,h=i[0],p=i[1],d=i[2],ur,e),e.point(l,f)}function b(){g.point=v,e.lineEnd()}function _(){y(),g.point=w,g.lineEnd=k}function w(t,e){m(r=t,e),o=l,i=f,a=h,s=p,u=d,g.point=m}function k(){n(l,f,c,h,p,d,o,i,r,a,s,u,ur,e),g.lineEnd=b,b()}return g}}(t,e):function(t){return or({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)};var fr=or({point:function(t,e){this.stream.point(t*p,e*p)}});function hr(t){return pr(function(){return t})()}function pr(t){var e,n,r,o,i,a,s,u,c,l,f=150,d=480,g=250,v=0,y=0,m=0,b=0,_=0,w=null,k=er,E=null,O=Ze,P=.5,M=lr(A,P);function j(t){return[(t=i(t[0]*p,t[1]*p))[0]*f+n,r-t[1]*f]}function T(t){return(t=i.invert((t[0]-n)/f,(r-t[1])/f))&&[t[0]*h,t[1]*h]}function A(t,o){return[(t=e(t,o))[0]*f+n,r-t[1]*f]}function x(){i=te(o=ne(m,b,_),e);var t=e(v,y);return n=d-t[0]*f,r=g+t[1]*f,C()}function C(){return c=l=null,j}return j.stream=function(t){return c&&l===t?c:c=fr(k(o,M(O(l=t))))},j.clipAngle=function(t){return arguments.length?(k=+t?nr(w=t*p,6*p):(w=null,er),C()):w*h},j.clipExtent=function(t){return arguments.length?(O=null==t?(E=a=s=u=null,Ze):be(E=+t[0][0],a=+t[0][1],s=+t[1][0],u=+t[1][1]),C()):null==E?null:[[E,a],[s,u]]},j.scale=function(t){return arguments.length?(f=+t,x()):f},j.translate=function(t){return arguments.length?(d=+t[0],g=+t[1],x()):[d,g]},j.center=function(t){return arguments.length?(v=t[0]%360*p,y=t[1]%360*p,x()):[v*h,y*h]},j.rotate=function(t){return arguments.length?(m=t[0]%360*p,b=t[1]%360*p,_=t.length>2?t[2]%360*p:0,x()):[m*h,b*h,_*h]},j.precision=function(t){return arguments.length?(M=lr(A,P=t*t),C()):S(P)},j.fitExtent=function(t,e){return ar(j,t,e)},j.fitSize=function(t,e){return sr(j,t,e)},function(){return e=t.apply(this,arguments),j.invert=e.invert&&T,x()}}function dr(t){var e=0,n=u/3,r=pr(t),o=r(e,n);return o.parallels=function(t){return arguments.length?r(e=t[0]*p,n=t[1]*p):[e*h,n*h]},o}function gr(t,e){var n=k(t),r=(n+k(e))/2;if(d(r)<s)return function(t){var e=y(t);function n(t,n){return[t*e,k(n)/e]}return n.invert=function(t,n){return[t/e,M(n*e)]},n}(t);var o=1+n*(2*r-n),i=S(o)/r;function a(t,e){var n=S(o-2*r*k(e))/r;return[n*k(t*=r),i-n*y(t)]}return a.invert=function(t,e){var n=i-e;return[v(t,d(n))/r*E(n),M((o-(t*t+n*n)*r*r)/(2*r))]},a}var vr=function(){return dr(gr).scale(155.424).center([0,33.6442])},yr=function(){return vr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var mr=function(){var t,e,n,r,o,i,a=yr(),u=vr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=vr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){i=[t,e]}};function f(t){var e=t[0],a=t[1];return i=null,n.point(e,a),i||(r.point(e,a),i)||(o.point(e,a),i)}function h(){return t=e=null,f}return f.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?u:o>=.166&&o<.234&&r>=-.214&&r<-.115?c:a).invert(t)},f.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),u.stream(n),c.stream(n)],o=r.length,t={point:function(t,e){for(var n=-1;++n<o;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<o;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<o;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<o;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<o;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<o;)r[t].polygonEnd()}});var r,o},f.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),c.precision(t),h()):a.precision()},f.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),c.scale(t),f.translate(a.translate())):a.scale()},f.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),i=+t[0],f=+t[1];return n=a.translate(t).clipExtent([[i-.455*e,f-.238*e],[i+.455*e,f+.238*e]]).stream(l),r=u.translate([i-.307*e,f+.201*e]).clipExtent([[i-.425*e+s,f+.12*e+s],[i-.214*e-s,f+.234*e-s]]).stream(l),o=c.translate([i-.205*e,f+.212*e]).clipExtent([[i-.214*e+s,f+.166*e+s],[i-.115*e-s,f+.234*e-s]]).stream(l),h()},f.fitExtent=function(t,e){return ar(f,t,e)},f.fitSize=function(t,e){return sr(f,t,e)},f.scale(1070)};function br(t){return function(e,n){var r=y(e),o=y(n),i=t(r*o);return[i*o*k(e),i*k(n)]}}function _r(t){return function(e,n){var r=S(e*e+n*n),o=t(r),i=k(o),a=y(o);return[v(e*i,r*a),M(r&&n*i/r)]}}var wr=br(function(t){return S(2/(1+t))});wr.invert=_r(function(t){return 2*M(t/2)});var kr=function(){return hr(wr).scale(124.75).clipAngle(179.999)},Er=br(function(t){return(t=P(t))&&t/k(t)});Er.invert=_r(function(t){return t});var Sr=function(){return hr(Er).scale(79.4188).clipAngle(179.999)};function Or(t,e){return[t,_(O((c+e)/2))]}Or.invert=function(t,e){return[t,2*g(b(e))-c]};var Pr=function(){return Mr(Or).scale(961/f)};function Mr(t){var e,n,r,o=hr(t),i=o.center,a=o.scale,s=o.translate,c=o.clipExtent,l=null;function f(){var i=u*a(),s=o(ae(o.rotate()).invert([0,0]));return c(null==l?[[s[0]-i,s[1]-i],[s[0]+i,s[1]+i]]:t===Or?[[Math.max(s[0]-i,l),e],[Math.min(s[0]+i,n),r]]:[[l,Math.max(s[1]-i,e)],[n,Math.min(s[1]+i,r)]])}return o.scale=function(t){return arguments.length?(a(t),f()):a()},o.translate=function(t){return arguments.length?(s(t),f()):s()},o.center=function(t){return arguments.length?(i(t),f()):i()},o.clipExtent=function(t){return arguments.length?(null==t?l=e=n=r=null:(l=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),f()):null==l?null:[[l,e],[n,r]]},f()}function jr(t){return O((c+t)/2)}function Tr(t,e){var n=y(t),r=t===e?k(t):_(n/y(e))/_(jr(e)/jr(t)),o=n*w(jr(t),r)/r;if(!r)return Or;function i(t,e){o>0?e<-c+s&&(e=-c+s):e>c-s&&(e=c-s);var n=o/w(jr(e),r);return[n*k(r*t),o-n*y(r*t)]}return i.invert=function(t,e){var n=o-e,i=E(r)*S(t*t+n*n);return[v(t,d(n))/r*E(n),2*g(w(o/i,1/r))-c]},i}var Ar=function(){return dr(Tr).scale(109.5).parallels([30,30])};function xr(t,e){return[t,e]}xr.invert=xr;var Cr=function(){return hr(xr).scale(152.63)};function Rr(t,e){var n=y(t),r=t===e?k(t):(n-y(e))/(e-t),o=n/r+t;if(d(r)<s)return xr;function i(t,e){var n=o-e,i=r*t;return[n*k(i),o-n*y(i)]}return i.invert=function(t,e){var n=o-e;return[v(t,d(n))/r*E(n),o-E(r)*S(t*t+n*n)]},i}var Lr=function(){return dr(Rr).scale(131.154).center([0,13.9389])};function Ur(t,e){var n=y(e),r=y(t)*n;return[n*k(t)/r,k(e)/r]}Ur.invert=_r(g);var Nr=function(){return hr(Ur).scale(144.049).clipAngle(60)};function Ir(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?Ze:or({point:function(o,i){this.stream.point(o*t+n,i*e+r)}})}var zr=function(){var t,e,n,r,o,i,a=1,s=0,u=0,c=1,l=1,f=Ze,h=null,p=Ze;function d(){return r=o=null,i}return i={stream:function(t){return r&&o===t?r:r=f(p(o=t))},clipExtent:function(r){return arguments.length?(p=null==r?(h=t=e=n=null,Ze):be(h=+r[0][0],t=+r[0][1],e=+r[1][0],n=+r[1][1]),d()):null==h?null:[[h,t],[e,n]]},scale:function(t){return arguments.length?(f=Ir((a=+t)*c,a*l,s,u),d()):a},translate:function(t){return arguments.length?(f=Ir(a*c,a*l,s=+t[0],u=+t[1]),d()):[s,u]},reflectX:function(t){return arguments.length?(f=Ir(a*(c=t?-1:1),a*l,s,u),d()):c<0},reflectY:function(t){return arguments.length?(f=Ir(a*c,a*(l=t?-1:1),s,u),d()):l<0},fitExtent:function(t,e){return ar(i,t,e)},fitSize:function(t,e){return sr(i,t,e)}}};function Dr(t,e){return[y(e)*k(t),k(e)]}Dr.invert=_r(M);var Br=function(){return hr(Dr).scale(249.5).clipAngle(90+s)};function qr(t,e){var n=y(e),r=1+y(t)*n;return[n*k(t)/r,k(e)/r]}qr.invert=_r(function(t){return 2*g(t)});var Fr=function(){return hr(qr).scale(250).clipAngle(142)};function Gr(t,e){return[_(O((c+e)/2)),-t]}Gr.invert=function(t,e){return[-e,2*g(b(t))-c]};var Hr=function(){var t=Mr(Gr),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};n.d(e,"geoArea",function(){return K}),n.d(e,"geoBounds",function(){return Bt}),n.d(e,"geoCentroid",function(){return Vt}),n.d(e,"geoCircle",function(){return ce}),n.d(e,"geoClipExtent",function(){return Ee}),n.d(e,"geoContains",function(){return Ge}),n.d(e,"geoDistance",function(){return Le}),n.d(e,"geoGraticule",function(){return Xe}),n.d(e,"geoGraticule10",function(){return Je}),n.d(e,"geoInterpolate",function(){return Ve}),n.d(e,"geoLength",function(){return xe}),n.d(e,"geoPath",function(){return $n}),n.d(e,"geoAlbers",function(){return yr}),n.d(e,"geoAlbersUsa",function(){return mr}),n.d(e,"geoAzimuthalEqualArea",function(){return kr}),n.d(e,"geoAzimuthalEqualAreaRaw",function(){return wr}),n.d(e,"geoAzimuthalEquidistant",function(){return Sr}),n.d(e,"geoAzimuthalEquidistantRaw",function(){return Er}),n.d(e,"geoConicConformal",function(){return Ar}),n.d(e,"geoConicConformalRaw",function(){return Tr}),n.d(e,"geoConicEqualArea",function(){return vr}),n.d(e,"geoConicEqualAreaRaw",function(){return gr}),n.d(e,"geoConicEquidistant",function(){return Lr}),n.d(e,"geoConicEquidistantRaw",function(){return Rr}),n.d(e,"geoEquirectangular",function(){return Cr}),n.d(e,"geoEquirectangularRaw",function(){return xr}),n.d(e,"geoGnomonic",function(){return Nr}),n.d(e,"geoGnomonicRaw",function(){return Ur}),n.d(e,"geoIdentity",function(){return zr}),n.d(e,"geoProjection",function(){return hr}),n.d(e,"geoProjectionMutator",function(){return pr}),n.d(e,"geoMercator",function(){return Pr}),n.d(e,"geoMercatorRaw",function(){return Or}),n.d(e,"geoOrthographic",function(){return Br}),n.d(e,"geoOrthographicRaw",function(){return Dr}),n.d(e,"geoStereographic",function(){return Fr}),n.d(e,"geoStereographicRaw",function(){return qr}),n.d(e,"geoTransverseMercator",function(){return Hr}),n.d(e,"geoTransverseMercatorRaw",function(){return Gr}),n.d(e,"geoRotation",function(){return ae}),n.d(e,"geoStream",function(){return B}),n.d(e,"geoTransform",function(){return rr})},210:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateResizeFactor=function(t,e){return 0===t?1:100/t*e*.01},e.calculateMousePosition=function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:n.center,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:n.width,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:n.height,u={x:0,y:1},c=!!e.rotate,l=!!c&&e.rotate().map(function(t){return-t}),f=l?e.rotate(l)([-i[0],-i[1]]):e([i[0],i[1]]),h=f?(f[u[t]]-(0===u[t]?a:s)/2)*r*(1/o):0;c&&e.rotate([-l[0],-l[1],-l[2]]);return l?h:-h},e.isChildOfType=a,e.createNewChildren=function(t,e){if(!t)return;return t.length?t.map(function(t,n){if(t)return a(t,["Geographies"])?i.default.cloneElement(t,{key:"zoomable-child-"+n,projection:e.projection}):a(t,["Group","Markers","Lines","Annotations","Annotation","Graticule"])?i.default.cloneElement(t,{key:"zoomable-child-"+n,projection:e.projection,zoom:e.zoom,width:e.width,height:e.height,groupName:e.groupName,itemName:e.itemName}):t}):a(t,["Geographies"])?i.default.cloneElement(t,{projection:e.projection}):a(t,["Group","Markers","Lines","Annotations","Annotation","Graticule"])?i.default.cloneElement(t,{projection:e.projection,zoom:e.zoom,width:e.width,height:e.height,groupName:e.groupName,itemName:e.itemName}):t},e.roundPath=function(t,e){if(!t)return;return t.replace(/[\d\.-][\d\.e-]*/g,function(t){return Math.round(t*(1/e))/(1/e)})},e.createConnectorPath=function(t,e,n){var r=e[0],o=e[1];return"M0,0 Q "+(n+1)/2*r+","+(o-(n+1)/2*o)+" "+r+","+o},e.createTextAnchor=function(t){return t>0?"start":t<0?"end":"middle"},e.computeBackdrop=function(t,e){var n=t.rotate,r=n?t.rotate():null,o=n?t.rotate([0,0,0])([e.x[0],e.y[0]]):t([e.x[0],e.y[0]]),i=n?t.rotate([0,0,0])([e.x[1],e.y[1]]):t([e.x[1],e.y[1]]),a=o?o[0]:0,s=i?i[0]:0,u=o?o[1]:0,c=i?i[1]:0,l=s-a,f=c-u;r&&t.rotate(r);return{x:a,y:u,width:l,height:f}};var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r};function a(t,e){return-1!==e.indexOf(t.props.componentIdentifier)}},211:function(t,e,n){"use strict";var r=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN};var o,i;1===(o=r).length&&(i=o,o=function(t,e){return r(i(t),e)});var a=Array.prototype,s=(a.slice,a.map,function(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(o);++r<o;)i[r]=t+r*n;return i});Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var u=function(t){for(var e,n,r,o=t.length,i=-1,a=0;++i<o;)a+=t[i].length;for(n=new Array(a);--o>=0;)for(e=(r=t[o]).length;--e>=0;)n[--a]=r[e];return n};n.d(e,"a",function(){return u}),n.d(e,"b",function(){return s})},213:function(t,e,n){var r=n(214),o=n(215),i=new r(o.host+"/api",{"Content-Type":"application/json",Accept:"application/vnd.api+json; version=1"},{params:o.params,beforeEveryRequest:function(){return n(251).checkBearerToken()},handleError:function(t){var e;if(t instanceof Error)throw t;t.body&&"object"==typeof t.body?t.body.error?(e=t.body.error,t.body.error_description&&(e+=" "+t.error_description)):e=Array.isArray(t.body.errors)?t.body.errors.map(function(t){return"string"==typeof t.message?t.message:"object"==typeof t.message?Object.keys(t.message).map(function(e){return e+" "+t.message[e]}).join("\n"):void 0}).join("\n"):"Unknown error (bad response body)":e="Unknown error (bad response)";var n=new Error(e);throw n.status=t.status,n.statusText=t.statusText,n}});t.exports=i},214:function(t,e,n){(function(){var e,r,o,i,a,s,u,c,l,f,h,p={}.hasOwnProperty,d=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},g=[].slice;f=n(235),h=n(219),r=n(220),c=n(250),i=n(225),u=n(224),e=n(223),s=["meta","links","linked","data"],a=["HEAD","GET"],l=["POST","PUT","DELETE"],o=function(t){var n,r,o,u;function v(t,e,n){this.root=t,this.headers=null!=e?e:{},this.params={},v.__super__.constructor.call(this,null),this._typesCache={},h(this,n)}for(function(t,e){for(var n in e)p.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(v,i),v.prototype.root="/",v.prototype.headers=null,v.prototype.params=null,v.prototype.reads=0,v.prototype.writes=0,v.prototype._typesCache=null,v.prototype.beforeEveryRequest=function(){return Promise.resolve()},v.prototype.request=function(t,n,r,o,i){return this.beforeEveryRequest().then((s=this,function(){var u,c,p,g;return t=t.toUpperCase(),p=s.root+n,c=h({},s.params,r),u=h({},e,s.headers,o),d.call(a,t)>=0?s.update({reads:s.reads+1}):d.call(l,t)>=0&&s.update({writes:s.writes+1}),(g=f(t,p,c,u,i)).catch(function(){return null}).then(function(){return d.call(a,t)>=0?s.update({reads:s.reads-1}):d.call(l,t)>=0?s.update({writes:s.writes-1}):void 0}),g.then(s.processResponse.bind(s)).catch(s.handleError.bind(s))}));var s},n=function(t){return v.prototype[t]=function(){return this.request.apply(this,[t].concat(g.call(arguments)))}},r=0,o=(u=["get","post","put","delete"]).length;r<o;r++)n(u[r]);return v.prototype.processResponse=function(t){var e,n,r,o,i,a,u,c,l,f,h,p,g,v,y,m,b;if(y=function(){try{return JSON.parse(t.text)}catch(e){return{}}}(),e=t.headers,"links"in y&&this._handleLinks(y.links),"linked"in y)for(b in l=y.linked)for(c=l[b],n=0,i=(f=[].concat(c)).length;n<i;n++)g=f[n],this.type(b).create(g,e,y.meta);if(m=[],"data"in y)for(r=0,a=(h=[].concat(y.data)).length;r<a;r++)g=h[r],m.push(this.type(g.type).create(g,e,y.meta));else for(b in y)if(v=y[b],d.call(s,b)<0)for(o=0,u=(p=[].concat(v)).length;o<u;o++)g=p[o],m.push(this.type(b).create(g,e,y.meta));return m},v.prototype._handleLinks=function(t){var e,n,r,o,i,a,s,u;for(s in i=[],t)r=t[s],u=(o=s.split("."))[0],e=o[1],"string"==typeof r?n=r:(n=r.href,a=r.type),i.push(this._handleLink(u,e,n,a));return i},v.prototype._handleLink=function(t,e,n,r){var o,i;if(null==(o=(i=this.type(t))._links)[e]&&(o[e]={}),null!=n&&(i._links[e].href=n),null!=r)return i._links[e].type=r},v.prototype.handleError=function(){return Promise.reject.apply(Promise,arguments)},v.prototype.type=function(t){var e;return null==(e=this._typesCache)[t]&&(e[t]=new c(t,this)),this._typesCache[t]},v}(),t.exports=o,t.exports.makeHTTPRequest=f,t.exports.Emitter=r,t.exports.Type=c,t.exports.Model=i,t.exports.Resource=u}).call(this)},215:function(t,e){var n=g(/\W?panoptes-api-host=([^&]+)/),r=g(/\W?panoptes-api-application=([^&]+)/),o=g(/\W?talk-host=([^&]+)/),i=g(/\W?sugar-host=([^&]+)/),a=g(/\W?stat-host=([^&]+)/),s={}.PANOPTES_API_HOST,u={}.PANOPTES_API_APPLICATION,c={}.TALK_HOST,l={}.SUGAR_HOST,f={}.STAT_HOST,h=g(/\W?env=(\w+)/)||"production";if(!h.match(/^(production|staging|development)$/))throw new Error('Panoptes Javascript Client Error: Invalid Environment; try setting NODE_ENV to "staging" instead of "production".');var p={http_cache:!0};if("undefined"!=typeof location&&null!==location){var d=window.location.search.substring(1);(d=d.split("&")).map(function(t){var e=t.split("="),n=decodeURIComponent(e[0]),r=decodeURIComponent(e[1]);p[n]&&(p[n]=r)})}function g(t){var e;return"undefined"!=typeof location&&null!==location&&(e=location.search.match(t)),e&&e[1]?e[1]:void 0}t.exports={host:n||s||{production:"https://www.zooniverse.org",staging:"https://panoptes-staging.zooniverse.org",development:"https://panoptes-staging.zooniverse.org"}[h],clientAppID:r||u||{production:"f79cf5ea821bb161d8cbb52d061ab9a2321d7cb169007003af66b43f7b79ce2a",staging:"535759b966935c297be11913acee7a9ca17c025f9f15520e7504728e71110a27",development:"535759b966935c297be11913acee7a9ca17c025f9f15520e7504728e71110a27"}[h],talkHost:o||c||{production:"https://talk.zooniverse.org",staging:"https://talk-staging.zooniverse.org",development:"https://talk-staging.zooniverse.org"}[h],sugarHost:i||l||{production:"https://notifications.zooniverse.org",staging:"https://notifications-staging.zooniverse.org",development:"https://notifications-staging.zooniverse.org"}[h],statHost:a||f||{production:"https://stats.zooniverse.org",staging:"https://stats-staging.zooniverse.org",development:"https://stats-staging.zooniverse.org"}[h],oauthHost:{production:"https://panoptes.zooniverse.org",staging:"https://panoptes-staging.zooniverse.org",development:"https://panoptes-staging.zooniverse.org"}[h],params:p}},216:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r};var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),o(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.projection,r=t.style,o=t.zoom,i=t.width,s=t.height,u=t.groupName,c=t.itemName;return a.default.createElement("g",{className:"rsm-"+u,style:r},e?void 0===e.length?a.default.cloneElement(e,{projection:n,zoom:o,width:i,height:s}):e.map(function(t,e){return t?a.default.cloneElement(t,{key:t.key||c+"-"+e,projection:n,zoom:o,width:i,height:s}):null}):null)}}]),e}();s.defaultProps={componentIdentifier:"Group",groupName:"group",itemName:"group-item"},e.default=s},219:function(t,e){(function(){var e={}.hasOwnProperty;t.exports=function(){var t,n,r,o,i,a;for(n=0,o=(i=Array.prototype.slice.call(arguments,1)).length;n<o;n++)if(null!=(t=i[n]))for(r in t)e.call(t,r)&&(a=t[r],arguments[0][r]=a);return arguments[0]}}).call(this)},220:function(t,e){(function(){var e,n,r=[].slice;e=function(t,e){var n,r,o,i;return o=function(){var o,i,a;for(a=[],n=o=0,i=t.length;o<i;n=++o)r=t[n],e[n]===r&&a.push(n);return a}(),t.length===(i=e.length)&&i===o.length},n=function(t,e){var n,o,i;Array.isArray(t)?(o=(i=t)[0],t=i[1],n=3<=i.length?r.call(i,2):[],"string"==typeof t&&(t=o[t])):n=[],t.apply(o,n.concat(e))},t.exports=function(){function t(){this._callbacks={}}return t.prototype._callbacks=null,t.prototype.listen=function(){var t,e,n,o,i;return t=2<=arguments.length?r.call(arguments,0,o=arguments.length-1):(o=0,[]),n=arguments[o++],null==(i=t[0])&&(i="change"),null==(e=this._callbacks)[i]&&(e[i]=[]),this._callbacks[i].push(n),this},t.prototype.stopListening=function(){var t,n,o,i,a,s,u,c,l;if(t=2<=arguments.length?r.call(arguments,0,s=arguments.length-1):(s=0,[]),n=arguments[s++],null==(l=t[0])&&(l="change"),null!=this._callbacks[l])if(null!=n){if(Array.isArray(n)){for(a=-1,i=u=(c=this._callbacks[l]).length-1;u>=0;i=u+=-1)if(o=c[i],Array.isArray(o)&&e(n,o)){a=i;break}}else a=this._callbacks[l].lastIndexOf(n);-1!==a&&this._callbacks[l].splice(a,1)}else this._callbacks[l].splice(0);return this},t.prototype.emit=function(){var t,e,o,i,a,s;if(s=arguments[0],i=2<=arguments.length?r.call(arguments,1):[],null==s&&(s="change"),s in this._callbacks)for(e=0,o=(a=this._callbacks[s]).length;e<o;e++)t=a[e],n(t,i);return this},t.prototype.destroy=function(){var t,e,n,r,o;for(o in this.emit("destroy"),this._callbacks)for(e=0,n=(r=this._callbacks[o]).length;e<n;e++)t=r[e],this.stopListening(o,t)},t}()}).call(this)},222:function(t,e,n){"use strict";t.exports=function(t){return null!==t&&"object"==typeof t}},223:function(t,e){(function(){t.exports={"Content-Type":"application/vnd.api+json",Accept:"application/vnd.api+json"}}).call(this)},224:function(t,e,n){(function(){var e,r,o,i,a={}.hasOwnProperty,s=[].slice;e=n(225),r=/{(.+?)}/g,o=function(t){function n(t){if(this._type=t,null==this._type)throw new Error('Don\'t call the Resource constructor directly, use `client.type("things").create({});`');this._headers={},this._meta={},this._linksCache={},this._savingKeys={},n.__super__.constructor.call(this,null),this._type.emit("change"),this.emit("create")}return function(t,e){for(var n in e)a.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,e),n.prototype._type=null,n.prototype._headers=null,n.prototype._meta=null,n.prototype._linksCache=null,n.prototype._savingKeys=null,n.prototype._write=Promise.resolve(),n.prototype.getMeta=function(t){return null==t&&(t=this._type._name),this._meta[t]},n.prototype.update=function(){var t;return t=n.__super__.update.apply(this,arguments),this.id&&this._type._resourcesCache[this.id]!==this&&(this._type._resourcesCache[this.id]=this,null!=this.href&&(this._type._resourcesCache[this.href]=this),this._type.emit("change")),t},n.prototype.save=function(t){var e,n,r,o,a;for(r in null==t&&(t={}),o={},n=this.toJSON.call(this.getChangesSinceSave()),o[this._type._name]=n,this._changedKeys.splice(0),n)null==(e=this._savingKeys)[r]&&(e[r]=0),this._savingKeys[r]+=1;return this._write=this._write.catch(function(){return null}).then((a=this,function(){var e;return e=a.id?a.refresh(!0,t).then(function(){return a._type._client.put(a._getURL(),o,a._getHeadersForModification(),t)}):a._type._client.post(a._type._getURL(),o,{},t),new i(e.then(function(t){var e;for(r in e=t[0],n)a._savingKeys[r]-=1,0===a._savingKeys[r]&&delete a._savingKeys[r];return e!==a&&(a.update(e),e.destroy()),a.emit("save"),a}))})),this._write},n.prototype.getChangesSinceSave=function(){var t,e,n,r,o;for(t={},e=0,r=(o=this._changedKeys).length;e<r;e++)t[n=o[e]]=this[n];return t},n.prototype.refresh=function(t,e){var n,r;if(null==e&&(e={}),t)return n=this.getChangesSinceSave(),this.refresh(!1,e).then((r=this,function(){return r.update(n)}));if(this.id)return this._type._client.get(this._getURL(),e);throw new Error("Can't refresh a resource with no ID")},n.prototype.uncache=function(){if(this.id)return this.emit("uncache"),delete this._type._resourcesCache[this.id],delete this._type._resourcesCache[this.href];throw new Error("Can't uncache a resource with no ID")},n.prototype.delete=function(t){var e;return null==t&&(t={}),this._write=this._write.catch(function(){return null}).then((e=this,function(){var n;return n=e.id?e.refresh(!0,t).then(function(){return e._type._client.delete(e._getURL(),null,e._getHeadersForModification(),t)}):Promise.resolve(),new i(n.then(function(){return e.emit("delete"),e._type.emit("change"),e.destroy(),null}))})),this._write},n.prototype.get=function(t,e){var n,r,o,a,s,u,c,l,f,h,p,d,g,v,y;return null!=this._linksCache[t]&&null==e?this._linksCache[t]:(p=null!=(u=this.links)?u[t]:void 0,v=this._type._links[t],(d=null!=p||null!=v?(o=null!=(c=null!=p?p.href:void 0)?c:null!=v?v.href:void 0,g=null!=(l=null!=p?p.type:void 0)?l:null!=v?v.type:void 0,null!=(a=null!=(f=null!=p?p.id:void 0)?f:null!=v?v.id:void 0)||(a="string"==typeof p?p:void 0),null!=(s=null!=(h=null!=p?p.ids:void 0)?h:null!=v?v.ids:void 0)||(s=Array.isArray(p)?p:void 0),null!=o?(r=this._applyHREF(o),null!=(n=this._type._client.type(g)._resourcesCache[r])&&null==e?Promise.resolve(n):this._type._client.get(r,e).then(function(t){return null!=a?t[0]:t})):null!=g?this._type._client.type(g).get(null!=a?a:s,e).then(function(t){return null!=a?t[0]:t}):void 0):t in this?Promise.resolve(this[t]):this._type._client.get(this._getURL(t))).then((y=this,function(){if(null==e)return y._linksCache[t]=d})),new i(d))},n.prototype._applyHREF=function(t){var e;return(e={})[this._type._name]=this,t.replace(r,function(n,r){var o,i,a,s,u;for(s=r.split("."),u=e;0!==s.length;)u=null!=(o=u[a=s.shift()])?o:null!=(i=u.links)?i[a]:void 0;if(Array.isArray(u)&&(u=u.join(",")),"string"!=typeof u)throw new Error("Value for '"+r+"' in '"+t+"' should be a string.");return u})},n.prototype.addLink=function(t,e){var n,r,o;return r=this._getURL("links",t),(n={})[t]=e,this._type._client.post(r,n).then((o=this,function(){return o.uncacheLink(t),o.refresh()}))},n.prototype.removeLink=function(t,e){var n,r;return n=this._getURL("links",t,[].concat(e).join(",")),this._type._client.delete(n).then((r=this,function(){return r.uncacheLink(t),r.refresh()}))},n.prototype.uncacheLink=function(t){return delete this._linksCache[t]},n.prototype._getHeadersForModification=function(){var t,e;for(t in e={"If-Unmodified-Since":this._getHeader("Last-Modified"),"If-Match":this._getHeader("ETag")})null==e[t]&&delete e[t];return e},n.prototype._getHeader=function(t){var e,n;return t=t.toLowerCase(),function(){var r,o;for(e in o=[],r=this._headers)n=r[e],e.toLowerCase()===t&&o.push(n);return o}.call(this)[0]},n.prototype._getURL=function(){var t;return this.href?[this.href].concat(s.call(arguments)).join("/"):(t=this._type)._getURL.apply(t,[this.id].concat(s.call(arguments)))},n}(),i=function(){var t,e;function n(t){if(this._promise=t,!(this._promise instanceof Promise))throw new Error("ResourcePromise requires a real promise instance")}for(t in n.prototype._promise=null,n.prototype.then=function(){var t;return(t=this._promise).then.apply(t,arguments)},n.prototype.catch=function(){var t;return(t=this._promise).catch.apply(t,arguments)},n.prototype.index=function(t){return this._promise=this._promise.then(function(e){var n,r;return n=t,r=e.length,e[t=(+n%(r=+r)+r)%r]}),this},e=o.prototype)"function"!=typeof e[t]||t in n.prototype||function(t){n.prototype[t]=function(){var e,n;return e=1<=arguments.length?s.call(arguments,0):[],this._promise=this._promise.then((n=this,function(r){var o,i,a;return a=function(){var n,a,s,u;for(u=[],n=0,a=(s=[].concat(r)).length;n<a;n++)o=s[n],(i=o[t].apply(o,e))instanceof this.constructor&&(i=i._promise),u.push(i);return u}.call(n),Array.isArray(r)?Promise.all(a):a[0]})),this}}(t);return n}(),t.exports=o,t.exports.Promise=i}).call(this)},225:function(t,e,n){(function(){var e,r,o,i,a={}.hasOwnProperty,s=[].slice,u=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};e=n(220),o=n(219),r=function(t){var e;return(e=parseInt(t,10)).toString(10)===t&&!isNaN(e)},i=function(t){var e,n,r,o,a,s;if(Array.isArray(t)){for(a=[],e=0,r=t.length;e<r;e++)s=t[e],a.push(i(s));return a}if(null!=t&&"object"==typeof t){for(n in o={},t)s=t[n],"_"!==n.charAt(0)&&(o[n]=i(s));return o}return t},t.exports=function(t){function n(){var t;t=1<=arguments.length?s.call(arguments,0):[],n.__super__.constructor.apply(this,arguments),this._changedKeys=[],o.apply(null,[this].concat(s.call(t))),this.emit("create")}return function(t,e){for(var n in e)a.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,e),n.prototype._changedKeys=null,n.prototype.update=function(t){var e,n,o,i,s,c,l,f,h,p;if(null==t&&(t={}),"string"==typeof t)for(n=0,s=arguments.length;n<s;n++)o=arguments[n],u.call(this._changedKeys,o)<0&&(f=this._changedKeys).push.apply(f,arguments);else for(o in t)if(a.call(t,o)){for(p=t[o],h=(l=o.split("."))[0],e=this;1!==l.length;)null==e[c=l[0]]&&(e[c]=r(l[1])?[]:{}),e=e[l.shift()];i=l.shift(),void 0===p?Array.isArray(e)?e.splice(i,1):delete e[i]:e[i]=p,u.call(this._changedKeys,h)<0&&this._changedKeys.push(h)}return this.emit("change"),this},n.prototype.hasUnsavedChanges=function(){return 0!==this._changedKeys.length},n.prototype.toJSON=function(){return i(this)},n.prototype.destroy=function(){return this._changedKeys.splice(0),n.__super__.destroy.apply(this,arguments)},n}()}).call(this)},226:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={scale:160,xOffset:0,yOffset:0,rotation:[0,0,0],precision:.1}},235:function(t,e,n){(function(){var e,r,o,i,a;a=n(236),e=n(223),i=n(242),r={},null!=a.agent&&(a=a.agent()),null==a.parse&&(a.parse={}),a.parse[e.Accept]=JSON.parse.bind(JSON),o=function(t,e,n,s,u){var c,l,f,h,p;if(null==s&&(s={}),l=Array.prototype.slice.call(arguments),t=t.toLowerCase(),e=i(e),"get"===t){for(c in n)p=n[c],Array.isArray(p)&&(n[c]=p.join(","));if(h=e+" "+JSON.stringify(n),null!=r[h])return r[h]}return f=new Promise(function(i,c){var f;return null!=(f=(f=function(){switch(t){case"get":return a.get(e).query(n);case"head":return a.head(e).query(n);case"put":return a.put(e).query(u).send(n);case"post":return a.post(e).query(u).send(n);case"delete":return a.del(e).query(u).query(n)}}()).set(s)).withCredentials&&(f=f.withCredentials()),f.end(function(t,e){return delete r[h],408===(null!=t?t.status:void 0)?i(o.apply(null,l)):null!=t?c(null!=e?e:t):i(e)})}),"get"===t&&(r[h]=f),f},t.exports=o}).call(this)},236:function(t,e,n){var r;"undefined"!=typeof window?r=window:"undefined"!=typeof self?r=self:(console.warn("Using browser-only version of superagent in non-browser environment"),r=this);var o=n(237),i=n(238),a=n(222),s=n(239),u=n(241);function c(){}var l=e=t.exports=function(t,n){return"function"==typeof n?new e.Request("GET",t).end(n):1==arguments.length?new e.Request("GET",t):new e.Request(t,n)};e.Request=y,l.getXHR=function(){if(!(!r.XMLHttpRequest||r.location&&"file:"==r.location.protocol&&r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("Browser-only version of superagent could not find XHR")};var f="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function h(t){if(!a(t))return t;var e=[];for(var n in t)p(e,n,t[n]);return e.join("&")}function p(t,e,n){if(null!=n)if(Array.isArray(n))n.forEach(function(n){p(t,e,n)});else if(a(n))for(var r in n)p(t,e+"["+r+"]",n[r]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));else null===n&&t.push(encodeURIComponent(e))}function d(t){for(var e,n,r={},o=t.split("&"),i=0,a=o.length;i<a;++i)-1==(n=(e=o[i]).indexOf("="))?r[decodeURIComponent(e)]="":r[decodeURIComponent(e.slice(0,n))]=decodeURIComponent(e.slice(n+1));return r}function g(t){return/[\/+]json($|[^-\w])/.test(t)}function v(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.header=this.headers=function(t){for(var e,n,r,o,i=t.split(/\r?\n/),a={},s=0,u=i.length;s<u;++s)-1!==(e=(n=i[s]).indexOf(":"))&&(r=n.slice(0,e).toLowerCase(),o=f(n.slice(e+1)),a[r]=o);return a}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function y(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t,e=null,r=null;try{r=new v(n)}catch(o){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=o,n.xhr?(e.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,e.status=n.xhr.status?n.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),n.callback(e)}n.emit("response",r);try{n._isResponseOK(r)||(t=new Error(r.statusText||"Unsuccessful HTTP response"))}catch(i){t=i}t?(t.original=e,t.response=r,t.status=r.status,n.callback(t,r)):n.callback(null,r)})}function m(t,e,n){var r=l("DELETE",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}l.serializeObject=h,l.parseString=d,l.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},l.serialize={"application/x-www-form-urlencoded":h,"application/json":JSON.stringify},l.parse={"application/x-www-form-urlencoded":d,"application/json":JSON.parse},s(v.prototype),v.prototype._parseBody=function(t){var e=l.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&g(this.type)&&(e=l.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null)},v.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",o=new Error(r);return o.status=this.status,o.method=e,o.url=n,o},l.Response=v,o(y.prototype),i(y.prototype),y.prototype.type=function(t){return this.set("Content-Type",l.types[t]||t),this},y.prototype.accept=function(t){return this.set("Accept",l.types[t]||t),this},y.prototype.auth=function(t,e,n){1===arguments.length&&(e=""),"object"==typeof e&&null!==e&&(n=e,e=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});return this._auth(t,e,n,function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")})},y.prototype.query=function(t){return"string"!=typeof t&&(t=h(t)),t&&this._query.push(t),this},y.prototype.attach=function(t,e,n){if(e){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,n||e.name)}return this},y.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},y.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var n=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),n(t,e)},y.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},y.prototype.buffer=y.prototype.ca=y.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},y.prototype.pipe=y.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},y.prototype._isHost=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},y.prototype.end=function(t){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||c,this._finalizeQueryString(),this._end()},y.prototype._end=function(){var t=this,e=this.xhr=l.getXHR(),n=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var n=e.readyState;if(n>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4==n){var r;try{r=e.status}catch(o){r=0}if(!r){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var r=function(e,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=e,t.emit("progress",n)};if(this.hasListeners("progress"))try{e.onprogress=r.bind(null,"download"),e.upload&&(e.upload.onprogress=r.bind(null,"upload"))}catch(s){}try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(u){return this.callback(u)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var o=this._header["content-type"],i=this._serializer||l.serialize[o?o.split(";")[0]:""];!i&&g(o)&&(i=l.serialize["application/json"]),i&&(n=i(n))}for(var a in this.header)null!=this.header[a]&&this.header.hasOwnProperty(a)&&e.setRequestHeader(a,this.header[a]);return this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0!==n?n:null),this},l.agent=function(){return new u},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(t){u.prototype[t.toLowerCase()]=function(e,n){var r=new l.Request(t,e);return this._setDefaults(r),n&&r.end(n),r}}),u.prototype.del=u.prototype.delete,l.get=function(t,e,n){var r=l("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},l.head=function(t,e,n){var r=l("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},l.options=function(t,e,n){var r=l("OPTIONS",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},l.del=m,l.delete=m,l.patch=function(t,e,n){var r=l("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},l.post=function(t,e,n){var r=l("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},l.put=function(t,e,n){var r=l("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}},237:function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<r.length;o++)if((n=r[o])===e||n.fn===e){r.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},238:function(t,e,n){"use strict";var r=n(222);function o(t){if(t)return function(t){for(var e in o.prototype)t[e]=o.prototype[e];return t}(t)}t.exports=o,o.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},o.prototype.parse=function(t){return this._parser=t,this},o.prototype.responseType=function(t){return this._responseType=t,this},o.prototype.serialize=function(t){return this._serializer=t,this},o.prototype.timeout=function(t){if(!t||"object"!=typeof t)return this._timeout=t,this._responseTimeout=0,this;for(var e in t)switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;default:console.warn("Unknown timeout option",e)}return this},o.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var i=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];o.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(t,e);if(!0===n)return!0;if(!1===n)return!1}catch(r){console.error(r)}if(e&&e.status&&e.status>=500&&501!=e.status)return!0;if(t){if(t.code&&~i.indexOf(t.code))return!0;if(t.timeout&&"ECONNABORTED"==t.code)return!0;if(t.crossDomain)return!0}return!1},o.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},o.prototype.then=function(t,e){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(t,e){n.end(function(n,r){n?e(n):t(r)})})}return this._fullfilledPromise.then(t,e)},o.prototype.catch=function(t){return this.then(void 0,t)},o.prototype.use=function(t){return t(this),this},o.prototype.ok=function(t){if("function"!=typeof t)throw Error("Callback required");return this._okCallback=t,this},o.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},o.prototype.get=function(t){return this._header[t.toLowerCase()]},o.prototype.getHeader=o.prototype.get,o.prototype.set=function(t,e){if(r(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},o.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},o.prototype.field=function(t,e){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),r(t)){for(var n in t)this.field(n,t[n]);return this}if(Array.isArray(e)){for(var o in e)this.field(t,e[o]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=""+e),this._getFormData().append(t,e),this},o.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},o.prototype._auth=function(t,e,n,r){switch(n.type){case"basic":this.set("Authorization","Basic "+r(t+":"+e));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer "+t)}return this},o.prototype.withCredentials=function(t){return null==t&&(t=!0),this._withCredentials=t,this},o.prototype.redirects=function(t){return this._maxRedirects=t,this},o.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw TypeError("Invalid argument");return this._maxResponseSize=t,this},o.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},o.prototype.send=function(t){var e=r(t),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(e&&r(this._data))for(var o in t)this._data[o]=t[o];else"string"==typeof t?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(n||this.type("json"),this)},o.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},o.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var n=this.url.substring(e+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,e)+"?"+n.join("&")}}},o.prototype._appendQueryString=function(){console.trace("Unsupported")},o.prototype._timeoutError=function(t,e,n){if(!this._aborted){var r=new Error(t+e+"ms exceeded");r.timeout=e,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.abort(),this.callback(r)}},o.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},239:function(t,e,n){"use strict";var r=n(240);function o(t){if(t)return function(t){for(var e in o.prototype)t[e]=o.prototype[e];return t}(t)}t.exports=o,o.prototype.get=function(t){return this.header[t.toLowerCase()]},o.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=r.type(e);var n=r.params(e);for(var o in n)this[o]=n[o];this.links={};try{t.link&&(this.links=r.parseLinks(t.link))}catch(i){}},o.prototype._setStatusProperties=function(t){var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.redirect=3==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.created=201==t,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.forbidden=403==t,this.notFound=404==t,this.unprocessableEntity=422==t}},240:function(t,e,n){"use strict";e.type=function(t){return t.split(/ *; */).shift()},e.params=function(t){return t.split(/ *; */).reduce(function(t,e){var n=e.split(/ *= */),r=n.shift(),o=n.shift();return r&&o&&(t[r]=o),t},{})},e.parseLinks=function(t){return t.split(/ *, */).reduce(function(t,e){var n=e.split(/ *; */),r=n[0].slice(1,-1);return t[n[1].split(/ *= */)[1].slice(1,-1)]=r,t},{})},e.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t}},241:function(t,e){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(t){n.prototype[t]=function(){return this._defaults.push({fn:t,arguments:arguments}),this}}),n.prototype._setDefaults=function(t){this._defaults.forEach(function(e){t[e.fn].apply(t,e.arguments)})},t.exports=n},242:function(t,e,n){t.exports=function(t){for(var e=[],n={},r={},o=0;o<256;o+=1){for(var i=String.fromCharCode(o),a=o.toString(16).toUpperCase();a.length<2;)a="0"+a;r[a]=i,i!==encodeURIComponent(i)&&(n[a]=!0,o<128&&"/"!==i&&"%"!==i&&"="!==i&&e.push(o))}var s=new RegExp("["+e.map(function(t){var e=t.toString("16");return"\\x"+(e.length<2?"0":"")+e}).join("")+"]","g");function u(t,e){return t.replace(/%([0-9a-f]{2})/gi,function(t,e){var o=e.toUpperCase();return n[o]?"%"+o:r[o]}).replace(s,e?function(t){return e[t]?t:encodeURIComponent(t)}:encodeURIComponent)}function c(t,e){if(t=t||"","protocol"===e)t=t.toLowerCase();else if("string"==typeof t)if(e&&"path"!==e&&"pathname"!==e)"hash"===e||"search"===e?t.length>0&&(t=t[0]+u(t.substr(1),{"?":!0,"#":"hash"===e})):t="host"===e?u(t,{":":!0}):"auth"===e?u(t,{":":!0,"@":!0}):u(t);else{var n,r=t.match(/^(\/\/[^\/]+)(\/.*)?$/);r&&(t=r[2]||""),t=(t=u(t)).replace(/\/\.(\/|$)/g,"$1");do{n=0,t=t.replace(/\/[^\/]+\/\.\.(\/|$)/g,function(t,e){return n+=1,e})}while(n>0);r&&(t=r[1]+t),t=t||"/"}return t}return function(e){var n,r=e&&"object"==typeof e;if(r)n=function(t){for(var e=1;e<arguments.length;e+=1){var n=arguments[e];if(n)for(var r in n)t[r]=n[r]}return t}({},e);else{if(!t||!t.parse){if(/^[\w\+]+:|^\/\//.test(e))throw new Error("Cannot normalize absolute and protocol-relative urls passed as a string without the node.js url module");var o=e.match(/^([^?#]*)(\?[^#]*)?(#(.*))?$/);return c(o[1],"pathname")+c(o[2],"search")+c(o[3],"hash")}n=t.parse(e)}return delete n.href,delete n.path,Object.keys(n).forEach(function(t){n[t]=c(n[t],t)}),r?(t&&(n.href=t.format(n),(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||""))),n):t.format(n)}}(n(243))},243:function(t,e,n){"use strict";var r=n(244),o=n(246);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){o.isString(t)&&(t=b(t));return t instanceof i?t.format():i.prototype.format.call(t)},e.Url=i;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),h=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=n(247);function b(t,e,n){if(t&&o.isObject(t)&&t instanceof i)return t;var r=new i;return r.parse(t,e,n),r}i.prototype.parse=function(t,e,n){if(!o.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),s=-1!==i&&i<t.indexOf("#")?"?":"#",c=t.split(s);c[0]=c[0].replace(/\\/g,"/");var b=t=c.join(s);if(b=b.trim(),!n&&1===t.split("#").length){var _=u.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=e?m.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=a.exec(b);if(w){var k=(w=w[0]).toLowerCase();this.protocol=k,b=b.substr(w.length)}if(n||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===b.substr(0,2);!E||w&&v[w]||(b=b.substr(2),this.slashes=!0)}if(!v[w]&&(E||w&&!y[w])){for(var S,O,P=-1,M=0;M<h.length;M++){-1!==(j=b.indexOf(h[M]))&&(-1===P||j<P)&&(P=j)}-1!==(O=-1===P?b.lastIndexOf("@"):b.lastIndexOf("@",P))&&(S=b.slice(0,O),b=b.slice(O+1),this.auth=decodeURIComponent(S)),P=-1;for(M=0;M<f.length;M++){var j;-1!==(j=b.indexOf(f[M]))&&(-1===P||j<P)&&(P=j)}-1===P&&(P=b.length),this.host=b.slice(0,P),b=b.slice(P),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var A=this.hostname.split(/\./),x=(M=0,A.length);M<x;M++){var C=A[M];if(C&&!C.match(p)){for(var R="",L=0,U=C.length;L<U;L++)C.charCodeAt(L)>127?R+="x":R+=C[L];if(!R.match(p)){var N=A.slice(0,M),I=A.slice(M+1),z=C.match(d);z&&(N.push(z[1]),I.unshift(z[2])),I.length&&(b="/"+I.join(".")+b),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=r.toASCII(this.hostname));var D=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+D,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[k])for(M=0,x=l.length;M<x;M++){var q=l[M];if(-1!==b.indexOf(q)){var F=encodeURIComponent(q);F===q&&(F=escape(q)),b=b.split(q).join(F)}}var G=b.indexOf("#");-1!==G&&(this.hash=b.substr(G),b=b.slice(0,G));var H=b.indexOf("?");if(-1!==H?(this.search=b.substr(H),this.query=b.substr(H+1),e&&(this.query=m.parse(this.query)),b=b.slice(0,H)):e&&(this.search="",this.query={}),b&&(this.pathname=b),y[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){D=this.pathname||"";var Y=this.search||"";this.path=D+Y}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=m.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+i+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(o.isString(t)){var e=new i;e.parse(t,!1,!0),t=e}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=t[l])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!y[t.protocol]){for(var f=Object.keys(t),h=0;h<f.length;h++){var p=f[h];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||v[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var g=n.pathname||"",m=n.search||"";n.path=g+m}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),_=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=_||b||n.host&&t.pathname,k=w,E=n.pathname&&n.pathname.split("/")||[],S=(d=t.pathname&&t.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),w=w&&(""===d[0]||""===E[0])),_)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,E=d;else if(d.length)E||(E=[]),E.pop(),E=E.concat(d),n.search=t.search,n.query=t.query;else if(!o.isNullOrUndefined(t.search)){if(S)n.hostname=n.host=E.shift(),(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift());return n.search=t.search,n.query=t.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var O=E.slice(-1)[0],P=(n.host||t.host||E.length>1)&&("."===O||".."===O)||""===O,M=0,j=E.length;j>=0;j--)"."===(O=E[j])?E.splice(j,1):".."===O?(E.splice(j,1),M++):M&&(E.splice(j,1),M--);if(!w&&!k)for(;M--;M)E.unshift("..");!w||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),P&&"/"!==E.join("/").substr(-1)&&E.push("");var T,A=""===E[0]||E[0]&&"/"===E[0].charAt(0);S&&(n.hostname=n.host=A?"":E.length?E.shift():"",(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift()));return(w=w||n.host&&E.length)&&!A&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},244:function(t,e,n){(function(t,r){var o;!function(i){e&&e.nodeType,t&&t.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,c=36,l=1,f=26,h=38,p=700,d=72,g=128,v="-",y=/^xn--/,m=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-l,k=Math.floor,E=String.fromCharCode;function S(t){throw new RangeError(_[t])}function O(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function P(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+O((t=t.replace(b,".")).split("."),e).join(".")}function M(t){for(var e,n,r=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(n=t.charCodeAt(o++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--):r.push(e);return r}function j(t){return O(t,function(t){var e="";return t>65535&&(e+=E((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=E(t)}).join("")}function T(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function A(t,e,n){var r=0;for(t=n?k(t/p):t>>1,t+=k(t/e);t>w*f>>1;r+=c)t=k(t/w);return k(r+(w+1)*t/(t+h))}function x(t){var e,n,r,o,i,a,s,h,p,y,m,b=[],_=t.length,w=0,E=g,O=d;for((n=t.lastIndexOf(v))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&S("not-basic"),b.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<_;){for(i=w,a=1,s=c;o>=_&&S("invalid-input"),((h=(m=t.charCodeAt(o++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:c)>=c||h>k((u-w)/a))&&S("overflow"),w+=h*a,!(h<(p=s<=O?l:s>=O+f?f:s-O));s+=c)a>k(u/(y=c-p))&&S("overflow"),a*=y;O=A(w-i,e=b.length+1,0==i),k(w/e)>u-E&&S("overflow"),E+=k(w/e),w%=e,b.splice(w++,0,E)}return j(b)}function C(t){var e,n,r,o,i,a,s,h,p,y,m,b,_,w,O,P=[];for(b=(t=M(t)).length,e=g,n=0,i=d,a=0;a<b;++a)(m=t[a])<128&&P.push(E(m));for(r=o=P.length,o&&P.push(v);r<b;){for(s=u,a=0;a<b;++a)(m=t[a])>=e&&m<s&&(s=m);for(s-e>k((u-n)/(_=r+1))&&S("overflow"),n+=(s-e)*_,e=s,a=0;a<b;++a)if((m=t[a])<e&&++n>u&&S("overflow"),m==e){for(h=n,p=c;!(h<(y=p<=i?l:p>=i+f?f:p-i));p+=c)O=h-y,w=c-y,P.push(E(T(y+O%w,0))),h=k(O/w);P.push(E(T(h,0))),i=A(n,_,r==o),n=0,++r}++n,++e}return P.join("")}s={version:"1.4.1",ucs2:{decode:M,encode:j},decode:x,encode:C,toASCII:function(t){return P(t,function(t){return m.test(t)?"xn--"+C(t):t})},toUnicode:function(t){return P(t,function(t){return y.test(t)?x(t.slice(4).toLowerCase()):t})}},void 0===(o=function(){return s}.call(e,n,e,t))||(t.exports=o)}()}).call(this,n(245)(t),n(84))},245:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},246:function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},247:function(t,e,n){"use strict";e.decode=e.parse=n(248),e.encode=e.stringify=n(249)},248:function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,i){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,h,p,d,g=t[l].replace(s,"%20"),v=g.indexOf(n);v>=0?(f=g.substr(0,v),h=g.substr(v+1)):(f=g,h=""),p=decodeURIComponent(f),d=decodeURIComponent(h),r(a,p)?o(a[p])?a[p].push(d):a[p]=[a[p],d]:a[p]=d}return a};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},249:function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?i(a(t),function(a){var s=encodeURIComponent(r(a))+n;return o(t[a])?i(t[a],function(t){return s+encodeURIComponent(r(t))}).join(e):s+encodeURIComponent(r(t[a]))}).join(e):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},250:function(t,e,n){(function(){var e,r,o,i={}.hasOwnProperty,a=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},s=[].slice;e=n(220),r=n(224),o=n(219),t.exports=function(t){function n(t,e){if(this._name=t,this._client=e,n.__super__.constructor.apply(this,arguments),this._links={},this._resourcesCache={},!this._name||null==this._client)throw new Error('Don\'t call the Type constructor directly, use `client.type("things");`')}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,e),n.prototype.Resource=r,n.prototype._name="",n.prototype._client=null,n.prototype._links=null,n.prototype._resourcesCache=null,n.prototype.create=function(t,e,n){var r,i,s,u,c;if(null==t&&(t={}),null==e&&(e={}),null==n&&(n={}),t.type&&t.type!==this._name)return(i=this._client.type(t.type)).create.apply(i,arguments);if(u=null!=(s=this._resourcesCache[t.id])?s:new this.Resource(this),o(u._headers,e),o(u._meta,n),null!=t.id){for(r in t)c=t[r],a.call(u._changedKeys,r)<0&&!(r in u._savingKeys)&&(u[r]=c);this._resourcesCache[u.id]=u,u.emit("change")}else u.update(t);return u},n.prototype.get=function(){return new r.Promise("string"==typeof arguments[0]?this._getByID.apply(this,arguments):Array.isArray(arguments[0])?this._getByIDs.apply(this,arguments):this._getByQuery.apply(this,arguments))},n.prototype._getByID=function(){var t,e;return t=arguments[0],e=2<=arguments.length?s.call(arguments,1):[],this._getByIDs.apply(this,[[t]].concat(s.call(e))).then(function(t){return t[0]})},n.prototype._getByIDs=function(){var t,e,n,r;return e=arguments[0],n=2<=arguments.length?s.call(arguments,1):[],r=function(){var r,o,i,a;for(a=[],r=0,o=e.length;r<o;r++)(t=e[r])in this._resourcesCache&&(0===n.length||null==n[0])?a.push(Promise.resolve(this._resourcesCache[t])):a.push((i=this._client).get.apply(i,[this._getURL(t)].concat(s.call(n))).then(function(t){return t[0]}));return a}.call(this),Promise.all(r)},n.prototype._getByQuery=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?s.call(arguments,1):[],(n=this._client).get.apply(n,[this._getURL(),e].concat(s.call(t)))},n.prototype._getURL=function(){return["",this._name].concat(s.call(arguments)).join("/")},n}()}).call(this)},251:function(t,e,n){var r=n(214),o=r.Model,i=r.makeHTTPRequest,a=n(215),s=n(213),u={"Content-Type":"application/json",Accept:"application/json"};t.exports=new o({_currentUserPromise:null,_bearerToken:"",_bearerTokenExpiration:NaN,_refreshToken:"",_tokenRefreshPromise:null,_getAuthToken:function(){console.log("Getting auth token");var t=a.host+"/users/sign_in/?now="+Date.now();return i("GET",t,null,u).then(function(t){var e=t.header["x-csrf-token"];return console.info("Got auth token",e.slice(-6)),e}).catch(function(t){console.error("Failed to get auth token"),s.handleError(t)})},_getBearerToken:function(){if(console.log("Getting bearer token"),this._bearerToken)return console.info("Already had a bearer token",this._bearerToken),Promise.resolve(this._bearerToken);var t=a.host+"/oauth/token",e={grant_type:"password",client_id:a.clientAppID};return i("POST",t,e,u).then(function(t){var e=this._handleNewBearerToken(t);return console.info("Got bearer token",e.slice(-6)),e}.bind(this)).catch(function(t){return console.error("Failed to get bearer token"),s.handleError(t)})},_handleNewBearerToken:function(t){var e=JSON.parse(t.text);return this._bearerToken=e.access_token,s.headers.Authorization="Bearer "+this._bearerToken,this._bearerTokenExpiration=Date.now()+1e3*e.expires_in,this._refreshToken=e.refresh_token,this._bearerToken},_bearerTokenIsExpired:function(){return Date.now()>=this._bearerTokenExpiration-6e4},_refreshBearerToken:function(){if(null===this._tokenRefreshPromise){console.log("Refreshing expired bearer token");var t=a.host+"/oauth/token",e={grant_type:"refresh_token",refresh_token:this._refreshToken,client_id:a.clientAppID};this._tokenRefreshPromise=i("POST",t,e,u).then(function(t){var e=this._handleNewBearerToken(t);console.info("Refreshed bearer token",e.slice(-6))}.bind(this)).catch(function(t){console.error("Failed to refresh bearer token"),s.handleError(t)}).then(function(){this._tokenRefreshPromise=null}.bind(this))}return this._tokenRefreshPromise},_deleteBearerToken:function(){this._bearerToken="",delete s.headers.Authorization,this._bearerTokenExpiration=NaN,this._refreshToken="",console.log("Deleted bearer token")},_getSession:function(){return console.log("Getting session"),s.get("/me").then(function(t){var e=t[0];return console.info("Got session",e.login,e.id),e}).catch(function(t){throw console.error("Failed to get session"),t})},register:function(t){var e=arguments;return this.checkCurrent().then(function(n){if(n)return this.signOut().then(function(){return this.register.apply(this,e)}.bind(this));console.log("Registering new account",t.login);var r=this._getAuthToken().then(function(e){var n={authenticity_token:e,user:{login:t.login,email:t.email,password:t.password,credited_name:t.credited_name,global_email_communication:t.global_email_communication,project_id:t.project_id,beta_email_communication:t.beta_email_communication,project_email_communication:t.project_email_communication}};return s.post("/../users",n,u).then(function(){return this._getBearerToken().then(function(){return this._getSession().then(function(t){return console.info("Registered account",t.login,t.id),t})}.bind(this))}.bind(this)).catch(function(t){throw console.error("Failed to register"),t})}.bind(this));return this.update({_currentUserPromise:r.catch(function(){return null})}),r}.bind(this))},checkCurrent:function(){return this._currentUserPromise||(console.log("Checking current user"),this.update({_currentUserPromise:this._getBearerToken().then(function(){return this._getSession()}.bind(this)).catch(function(){return console.info("No current user"),null})})),this._currentUserPromise},checkBearerToken:function(){return this._bearerTokenIsExpired()?this._refreshBearerToken():Promise.resolve(this._bearerToken)},signIn:function(t){var e=arguments;return this.checkCurrent().then(function(n){if(n)return this.signOut().then(function(){return this.signIn.apply(this,e)}.bind(this));console.log("Signing in",t.login);var r=this._getAuthToken().then(function(e){var n=a.host+"/users/sign_in",r={authenticity_token:e,user:{login:t.login,password:t.password,remember_me:!0}};return i("POST",n,r,u).then(function(){return this._getBearerToken().then(function(){return this._getSession().then(function(t){return console.info("Signed in",t.login,t.id),t}.bind(this))}.bind(this))}.bind(this)).catch(function(t){console.error("Failed to sign in"),s.handleError(t)})}.bind(this));return this.update({_currentUserPromise:r.catch(function(){return null})}),r}.bind(this))},changePassword:function(t){return this.checkCurrent().then(function(e){if(e)return this._getAuthToken().then(function(n){var r={authenticity_token:n,user:{current_password:t.current,password:t.replacement,password_confirmation:t.replacement}};return s.put("/../users",r,u).then(function(){return this.signOut()}.bind(this)).then(function(){return this.signIn({login:e.login,password:t.replacement})}.bind(this))}.bind(this));throw new Error("No signed-in user to change the password for")}.bind(this))},requestPasswordReset:function(t){return this._getAuthToken().then(function(e){var n={authenticity_token:e,user:{email:t.email}};return s.post("/../users/password",n,u)}.bind(this))},resetPassword:function(t){return this._getAuthToken().then(function(e){var n={authenticity_token:e,user:{password:t.password,password_confirmation:t.confirmation,reset_password_token:t.token}};return s.put("/../users/password",n,u)}.bind(this))},disableAccount:function(){return console.log("Disabling account"),this.checkCurrent().then(function(t){if(t)return t.delete().then(function(){return this._deleteBearerToken(),this.update({_currentUserPromise:Promise.resolve(null)}),console.info("Disabled account"),null}.bind(this));throw new Error("Failed to disable account; not signed in")}.bind(this))},signOut:function(){return console.log("Signing out"),this.checkCurrent().then(function(t){if(t)return this._getAuthToken().then(function(t){var e=a.host+"/users/sign_out",n=Object.create(u);return n["X-CSRF-Token"]=t,i("DELETE",e,null,n).then(function(){return this._deleteBearerToken(),this.update({_currentUserPromise:Promise.resolve(null)}),console.info("Signed out"),null}.bind(this)).catch(function(t){return console.error("Failed to sign out"),s.handleError(t)}.bind(this))}.bind(this));throw new Error("Failed to sign out; not signed in")}.bind(this))},unsubscribeEmail:function(t){return this._getAuthToken().then(function(e){var n=a.host+"/unsubscribe",r={authenticity_token:e,email:t.email};return i("POST",n,r,u)}.bind(this))}})},252:function(t,e,n){var r;r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";var r=n(1);t.exports=r.default},function(t,e,n){"use strict";var r=n(2),o=n(9),i=n(24),a=n(39),s=n(40),u=n(41),c=n(12),l=n(5),f=n(71),h=n(8),p=n(43),d=n(14),g=function(){function t(e,n){var c=this;if(function(t){if(null==t)throw"You must pass your app key when you instantiate Pusher."}(e),!(n=n||{}).cluster&&!n.wsHost&&!n.httpHost){var g=d.default.buildLogSuffix("javascriptQuickStart");h.default.warn("You should always specify a cluster when connecting. "+g)}this.key=e,this.config=o.extend(f.getGlobalConfig(),n.cluster?f.getClusterConfig(n.cluster):{},n),this.channels=p.default.createChannels(),this.global_emitter=new i.default,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new a.default(this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:s.default.INFO,version:l.default.VERSION}),this.config.disableStats||(this.timelineSender=p.default.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+r.default.TimelineTransport.name}));this.connection=p.default.createConnectionManager(this.key,o.extend({getStrategy:function(t){var e=o.extend({},c.config,t);return u.build(r.default.getDefaultStrategy(e),e)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{useTLS:this.shouldUseTLS()})),this.connection.bind("connected",function(){c.subscribeAll(),c.timelineSender&&c.timelineSender.send(c.connection.isUsingTLS())}),this.connection.bind("message",function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var n=c.channel(t.channel);n&&n.handleEvent(t)}e||c.global_emitter.emit(t.event,t.data)}),this.connection.bind("connecting",function(){c.channels.disconnect()}),this.connection.bind("disconnected",function(){c.channels.disconnect()}),this.connection.bind("error",function(t){h.default.warn("Error",t)}),t.instances.push(this),this.timeline.info({instances:t.instances.length}),t.isReady&&this.connect()}return t.ready=function(){t.isReady=!0;for(var e=0,n=t.instances.length;e<n;e++)t.instances[e].connect()},t.log=function(e){t.logToConsole&&window.console&&window.console.log&&window.console.log(e)},t.getClientFeatures=function(){return o.keys(o.filterObject({ws:r.default.Transports.ws},function(t){return t.isSupported({})}))},t.prototype.channel=function(t){return this.channels.find(t)},t.prototype.allChannels=function(){return this.channels.all()},t.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isUsingTLS(),e=this.timelineSender;this.timelineSenderTimer=new c.PeriodicTimer(6e4,function(){e.send(t)})}},t.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.prototype.bind=function(t,e,n){return this.global_emitter.bind(t,e,n),this},t.prototype.unbind=function(t,e,n){return this.global_emitter.unbind(t,e,n),this},t.prototype.bind_global=function(t){return this.global_emitter.bind_global(t),this},t.prototype.unbind_global=function(t){return this.global_emitter.unbind_global(t),this},t.prototype.unbind_all=function(t){return this.global_emitter.unbind_all(),this},t.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},t.prototype.subscribe=function(t){var e=this.channels.add(t,this);return e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.connection.state||e.subscribe(),e},t.prototype.unsubscribe=function(t){var e=this.channels.find(t);e&&e.subscriptionPending?e.cancelSubscription():(e=this.channels.remove(t))&&"connected"===this.connection.state&&e.unsubscribe()},t.prototype.send_event=function(t,e,n){return this.connection.send_event(t,e,n)},t.prototype.shouldUseTLS=function(){return"https:"===r.default.getProtocol()||(!0===this.config.forceTLS||Boolean(this.config.encrypted))},t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=r.default,t.ScriptReceivers=r.default.ScriptReceivers,t.DependenciesReceivers=r.default.DependenciesReceivers,t.auth_callbacks=r.default.auth_callbacks,t}();e.__esModule=!0,e.default=g,r.default.setup(g)},function(t,e,n){"use strict";var r=n(3),o=n(7),i=n(15),a=n(16),s=n(17),u=n(4),c=n(18),l=n(19),f=n(26),h=n(27),p=n(28),d=n(29),g={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:u.ScriptReceivers,DependenciesReceivers:r.DependenciesReceivers,getDefaultStrategy:h.default,Transports:l.default,transportConnectionInitializer:p.default,HTTPFactory:d.default,TimelineTransport:c.default,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var n=function(){e.onDocumentBody(t.ready)};window.JSON?n():r.Dependencies.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:o.default,jsonp:i.default}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout(function(){e.onDocumentBody(t)},0)},createJSONPRequest:function(t,e){return new s.default(t,e)},createScriptRequest:function(t){return new a.default(t)},getLocalStorage:function(){try{return window.localStorage}catch(t){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return f.Network},createWebSocket:function(t){return new(this.getWebSocketAPI())(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(0===e.indexOf("https:")))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported:function(t){var e=t?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===e},addUnloadListener:function(t){void 0!==window.addEventListener?window.addEventListener("unload",t,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){void 0!==window.addEventListener?window.removeEventListener("unload",t,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",t)}};e.__esModule=!0,e.default=g},function(t,e,n){"use strict";var r=n(4),o=n(5),i=n(6);e.DependenciesReceivers=new r.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),e.Dependencies=new i.default({cdn_http:o.default.cdn_http,cdn_https:o.default.cdn_https,version:o.default.VERSION,suffix:o.default.dependency_suffix,receivers:e.DependenciesReceivers})},function(t,e){"use strict";var n=function(){function t(t,e){this.lastId=0,this.prefix=t,this.name=e}return t.prototype.create=function(t){this.lastId++;var e=this.lastId,n=this.prefix+e,r=this.name+"["+e+"]",o=!1,i=function(){o||(t.apply(null,arguments),o=!0)};return this[e]=i,{number:e,id:n,name:r,callback:i}},t.prototype.remove=function(t){delete this[t.number]},t}();e.ScriptReceiverFactory=n,e.ScriptReceivers=new n("_pusher_script_","Pusher.ScriptReceivers")},function(t,e){"use strict";e.__esModule=!0,e.default={VERSION:"4.4.0",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,ws_path:"",sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""}},function(t,e,n){"use strict";var r=n(4),o=n(2),i=function(){function t(t){this.options=t,this.receivers=t.receivers||r.ScriptReceivers,this.loading={}}return t.prototype.load=function(t,e,n){var r=this;if(r.loading[t]&&r.loading[t].length>0)r.loading[t].push(n);else{r.loading[t]=[n];var i=o.default.createScriptRequest(r.getPath(t,e)),a=r.receivers.create(function(e){if(r.receivers.remove(a),r.loading[t]){var n=r.loading[t];delete r.loading[t];for(var o=function(t){t||i.cleanup()},s=0;s<n.length;s++)n[s](e,o)}});i.send(a)}},t.prototype.getRoot=function(t){var e=o.default.getDocument().location.protocol;return(t&&t.useTLS||"https:"===e?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},t.prototype.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"},t}();e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=n(8),o=n(2),i=n(14);e.__esModule=!0,e.default=function(t,e,n){var a;for(var s in(a=o.default.createXHR()).open("POST",this.options.authEndpoint,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.authOptions.headers)a.setRequestHeader(s,this.authOptions.headers[s]);return a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status){var t,e=!1;try{t=JSON.parse(a.responseText),e=!0}catch(s){n(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+a.responseText)}e&&n(!1,t)}else{var o=i.default.buildLogSuffix("authenticationEndpoint");r.default.warn("Couldn't retrieve authentication info. "+a.status+"Clients must be authenticated to join private or presence channels. "+o),n(!0,a.status)}},a.send(this.composeQuery(e)),a}},function(t,e,n){"use strict";var r=n(9),o=n(1),i={debug:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];o.default.log&&o.default.log(r.stringify.apply(this,arguments))},warn:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=r.stringify.apply(this,arguments);o.default.log?o.default.log(n):window.console&&(window.console.warn?window.console.warn(n):window.console.log&&window.console.log(n))}};e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=n(10),o=n(11);function i(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function a(t,e){for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r,t,n));return n}function s(t,e){var n={};return i(t,function(t,r){n[r]=e(t)}),n}function u(t,e){var n={};return i(t,function(r,o){(e&&e(r,o,t,n)||Boolean(r))&&(n[o]=r)}),n}function c(t){var e=[];return i(t,function(t,n){e.push([n,t])}),e}function l(t){return s(t,function(t){return"object"==typeof t&&(t=h(t)),encodeURIComponent(r.default(t.toString()))})}function f(t){var e=[],n=[];return function t(r,o){var i,a,s;switch(typeof r){case"object":if(!r)return null;for(i=0;i<e.length;i+=1)if(e[i]===r)return{$ref:n[i]};if(e.push(r),n.push(o),"[object Array]"===Object.prototype.toString.apply(r))for(s=[],i=0;i<r.length;i+=1)s[i]=t(r[i],o+"["+i+"]");else for(a in s={},r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=t(r[a],o+"["+JSON.stringify(a)+"]"));return s;case"number":case"string":case"boolean":return r}}(t,"$")}function h(t){try{return JSON.stringify(t)}catch(e){return JSON.stringify(f(t))}}e.extend=function t(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var o=0;o<n.length;o++){var i=n[o];for(var a in i)i[a]&&i[a].constructor&&i[a].constructor===Object?e[a]=t(e[a]||{},i[a]):e[a]=i[a]}return e},e.stringify=function(){for(var t=["Pusher"],e=0;e<arguments.length;e++)"string"==typeof arguments[e]?t.push(arguments[e]):t.push(h(arguments[e]));return t.join(" : ")},e.arrayIndexOf=function(t,e){var n=Array.prototype.indexOf;if(null===t)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var r=0,o=t.length;r<o;r++)if(t[r]===e)return r;return-1},e.objectApply=i,e.keys=function(t){var e=[];return i(t,function(t,n){e.push(n)}),e},e.values=function(t){var e=[];return i(t,function(t){e.push(t)}),e},e.apply=function(t,e,n){for(var r=0;r<t.length;r++)e.call(n||window,t[r],r,t)},e.map=a,e.mapObject=s,e.filter=function(t,e){e=e||function(t){return!!t};for(var n=[],r=0;r<t.length;r++)e(t[r],r,t,n)&&n.push(t[r]);return n},e.filterObject=u,e.flatten=c,e.any=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},e.all=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0},e.encodeParamsObject=l,e.buildQueryString=function(t){return a(c(l(u(t,function(t){return void 0!==t}))),o.default.method("join","=")).join("&")},e.decycleObject=f,e.safeJSONStringify=h},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return f(c(t))};for(var r=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={},a=0,s=o.length;a<s;a++)i[o.charAt(a)]=a;var u=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?r(192|e>>>6)+r(128|63&e):r(224|e>>>12&15)+r(128|e>>>6&63)+r(128|63&e)},c=function(t){return t.replace(/[^\x00-\x7F]/g,u)},l=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[o.charAt(n>>>18),o.charAt(n>>>12&63),e>=2?"=":o.charAt(n>>>6&63),e>=1?"=":o.charAt(63&n)].join("")},f=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,l)}},function(t,e,n){"use strict";var r=n(12),o={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new r.OneOffTimer(0,t)},method:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(e){return e[t].apply(e,r.concat(arguments))}}};e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=n(13);function i(t){window.clearTimeout(t)}function a(t){window.clearInterval(t)}var s=function(t){function e(e,n){t.call(this,setTimeout,i,e,function(t){return n(),null})}return r(e,t),e}(o.default);e.OneOffTimer=s;var u=function(t){function e(e,n){t.call(this,setInterval,a,e,function(t){return n(),t})}return r(e,t),e}(o.default);e.PeriodicTimer=u},function(t,e){"use strict";var n=function(){function t(t,e,n,r){var o=this;this.clear=e,this.timer=t(function(){o.timer&&(o.timer=r(o.timer))},n)}return t.prototype.isRunning=function(){return null!==this.timer},t.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},t}();e.__esModule=!0,e.default=n},function(t,e){"use strict";var n={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/authenticating_users"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"}}};e.__esModule=!0,e.default={buildLogSuffix:function(t){var e,r=n.urls[t];return r?(r.fullUrl?e=r.fullUrl:r.path&&(e=n.baseUrl+r.path),e?"See: "+e:""):""}}},function(t,e,n){"use strict";var r=n(8);e.__esModule=!0,e.default=function(t,e,n){void 0!==this.authOptions.headers&&r.default.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var o=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var i=t.getDocument(),a=i.createElement("script");t.auth_callbacks[o]=function(t){n(!1,t)};var s="Pusher.auth_callbacks['"+o+"']";a.src=this.options.authEndpoint+"?callback="+encodeURIComponent(s)+"&"+this.composeQuery(e);var u=i.getElementsByTagName("head")[0]||i.documentElement;u.insertBefore(a,u.firstChild)}},function(t,e){"use strict";var n=function(){function t(t){this.src=t}return t.prototype.send=function(t){var e=this,n="Error loading "+e.src;e.script=document.createElement("script"),e.script.id=t.id,e.script.src=e.src,e.script.type="text/javascript",e.script.charset="UTF-8",e.script.addEventListener?(e.script.onerror=function(){t.callback(n)},e.script.onload=function(){t.callback(null)}):e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||t.callback(null)},void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=t.id+"_error",e.errorScript.text=t.name+"('"+n+"');",e.script.async=e.errorScript.async=!1):e.script.async=!0;var r=document.getElementsByTagName("head")[0];r.insertBefore(e.script,r.firstChild),e.errorScript&&r.insertBefore(e.errorScript,e.script.nextSibling)},t.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},t}();e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var r=n(9),o=n(2),i=function(){function t(t,e){this.url=t,this.data=e}return t.prototype.send=function(t){if(!this.request){var e=r.buildQueryString(this.data),n=this.url+"/"+t.number+"?"+e;this.request=o.default.createScriptRequest(n),this.request.send(t)}},t.prototype.cleanup=function(){this.request&&this.request.cleanup()},t}();e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=n(2),o=n(4),i={name:"jsonp",getAgent:function(t,e){return function(n,i){var a="http"+(e?"s":"")+"://"+(t.host||t.options.host)+t.options.path,s=r.default.createJSONPRequest(a,n),u=r.default.ScriptReceivers.create(function(e,n){o.ScriptReceivers.remove(u),s.cleanup(),n&&n.host&&(t.host=n.host),i&&i(e,n)});s.send(u)}}};e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=n(20),o=n(22),i=n(21),a=n(2),s=n(3),u=n(9),c=new o.default({file:"sockjs",urls:i.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:s.Dependencies.getPath("sockjs",{useTLS:e.useTLS}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),l={isSupported:function(t){return a.default.isXDRSupported(t.useTLS)}},f=new o.default(u.extend({},r.streamingConfiguration,l)),h=new o.default(u.extend({},r.pollingConfiguration,l));r.default.xdr_streaming=f,r.default.xdr_polling=h,r.default.sockjs=c,e.__esModule=!0,e.default=r.default},function(t,e,n){"use strict";var r=n(21),o=n(22),i=n(9),a=n(2),s=new o.default({urls:r.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(a.default.getWebSocketAPI())},isSupported:function(){return Boolean(a.default.getWebSocketAPI())},getSocket:function(t){return a.default.createWebSocket(t)}}),u={urls:r.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}};e.streamingConfiguration=i.extend({getSocket:function(t){return a.default.HTTPFactory.createStreamingSocket(t)}},u),e.pollingConfiguration=i.extend({getSocket:function(t){return a.default.HTTPFactory.createPollingSocket(t)}},u);var c={isSupported:function(){return a.default.isXHRSupported()}},l={ws:s,xhr_streaming:new o.default(i.extend({},e.streamingConfiguration,c)),xhr_polling:new o.default(i.extend({},e.pollingConfiguration,c))};e.__esModule=!0,e.default=l},function(t,e,n){"use strict";var r=n(5);function o(t,e,n){return t+(e.useTLS?"s":"")+"://"+(e.useTLS?e.hostTLS:e.hostNonTLS)+n}function i(t,e){return"/app/"+t+("?protocol="+r.default.PROTOCOL+"&client=js&version="+r.default.VERSION+(e?"&"+e:""))}e.ws={getInitial:function(t,e){return o("ws",e,(e.httpPath||"")+i(t,"flash=false"))}},e.http={getInitial:function(t,e){return o("http",e,(e.httpPath||"/pusher")+i(t))}},e.sockjs={getInitial:function(t,e){return o("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return i(t)}}},function(t,e,n){"use strict";var r=n(23),o=function(){function t(t){this.hooks=t}return t.prototype.isSupported=function(t){return this.hooks.isSupported(t)},t.prototype.createConnection=function(t,e,n,o){return new r.default(this.hooks,t,e,n,o)},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=n(11),i=n(9),a=n(24),s=n(8),u=n(2),c=function(t){function e(e,n,r,o,i){t.call(this),this.initialize=u.default.transportConnectionInitializer,this.hooks=e,this.name=n,this.priority=r,this.key=o,this.options=i,this.state="new",this.timeline=i.timeline,this.activityTimeout=i.activityTimeout,this.id=this.timeline.generateUniqueID()}return r(e,t),e.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.prototype.connect=function(){var t=this;if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(n){return o.default.defer(function(){t.onError(n),t.changeState("closed")}),!1}return this.bindListeners(),s.default.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0},e.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},e.prototype.send=function(t){var e=this;return"open"===this.state&&(o.default.defer(function(){e.socket&&e.socket.send(t)}),!0)},e.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))},e.prototype.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(t){this.emit("message",t)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var t=this;this.socket.onopen=function(){t.onOpen()},this.socket.onerror=function(e){t.onError(e)},this.socket.onclose=function(e){t.onClose(e)},this.socket.onmessage=function(e){t.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=function(){t.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},e.prototype.buildTimelineMessage=function(t){return i.extend({cid:this.id},t)},e}(a.default);e.__esModule=!0,e.default=c},function(t,e,n){"use strict";var r=n(9),o=n(25),i=function(){function t(t){this.callbacks=new o.default,this.global_callbacks=[],this.failThrough=t}return t.prototype.bind=function(t,e,n){return this.callbacks.add(t,e,n),this},t.prototype.bind_global=function(t){return this.global_callbacks.push(t),this},t.prototype.unbind=function(t,e,n){return this.callbacks.remove(t,e,n),this},t.prototype.unbind_global=function(t){return t?(this.global_callbacks=r.filter(this.global_callbacks||[],function(e){return e!==t}),this):(this.global_callbacks=[],this)},t.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},t.prototype.emit=function(t,e,n){for(var r=0;r<this.global_callbacks.length;r++)this.global_callbacks[r](t,e);var o=this.callbacks.get(t),i=[];if(n?i.push(e,n):e&&i.push(e),o&&o.length>0)for(r=0;r<o.length;r++)o[r].fn.apply(o[r].context||window,i);else this.failThrough&&this.failThrough(t,e);return this},t}();e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=n(9),o=function(){function t(){this._callbacks={}}return t.prototype.get=function(t){return this._callbacks[i(t)]},t.prototype.add=function(t,e,n){var r=i(t);this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push({fn:e,context:n})},t.prototype.remove=function(t,e,n){if(t||e||n){var o=t?[i(t)]:r.keys(this._callbacks);e||n?this.removeCallback(o,e,n):this.removeAllCallbacks(o)}else this._callbacks={}},t.prototype.removeCallback=function(t,e,n){r.apply(t,function(t){this._callbacks[t]=r.filter(this._callbacks[t]||[],function(t){return e&&e!==t.fn||n&&n!==t.context}),0===this._callbacks[t].length&&delete this._callbacks[t]},this)},t.prototype.removeAllCallbacks=function(t){r.apply(t,function(t){delete this._callbacks[t]},this)},t}();function i(t){return"_"+t}e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=function(t){function e(){t.call(this);var e=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){e.emit("online")},!1),window.addEventListener("offline",function(){e.emit("offline")},!1))}return r(e,t),e.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},e}(n(24).default);e.NetInfo=o,e.Network=new o},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){var e;return e=t.useTLS?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],[[":def","ws_options",{hostNonTLS:t.wsHost+":"+t.wsPort,hostTLS:t.wsHost+":"+t.wssPort,httpPath:t.wsPath}],[":def","wss_options",[":extend",":ws_options",{useTLS:!0}]],[":def","sockjs_options",{hostNonTLS:t.httpHost+":"+t.httpPort,hostTLS:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],e,":http_fallback_loop"]]]]]}},function(t,e,n){"use strict";var r=n(3);e.__esModule=!0,e.default=function(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.useTLS?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),r.Dependencies.load(t.hooks.file,{useTLS:t.options.useTLS},function(e,n){t.hooks.isInitialized()?(t.changeState("initialized"),n(!0)):(e&&t.onError(e),t.onClose(),n(!1))})):t.onClose()}},function(t,e,n){"use strict";var r=n(30),o=n(32);o.default.createXDR=function(t,e){return this.createRequest(r.default,t,e)},e.__esModule=!0,e.default=o.default},function(t,e,n){"use strict";var r=n(31),o={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new r.RequestTimedOut),t.close()},e.onerror=function(e){t.emit("error",e),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}};e.__esModule=!0,e.default=o},function(t,e){"use strict";var n=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},r=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.BadEventName=r;var o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.RequestTimedOut=o;var i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.TransportPriorityTooLow=i;var a=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.TransportClosed=a;var s=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.UnsupportedFeature=s;var u=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.UnsupportedTransport=u;var c=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.UnsupportedStrategy=c},function(t,e,n){"use strict";var r=n(33),o=n(34),i=n(36),a=n(37),s=n(38),u={createStreamingSocket:function(t){return this.createSocket(i.default,t)},createPollingSocket:function(t){return this.createSocket(a.default,t)},createSocket:function(t,e){return new o.default(t,e)},createXHR:function(t,e){return this.createRequest(s.default,t,e)},createRequest:function(t,e,n){return new r.default(t,e,n)}};e.__esModule=!0,e.default=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=n(2),i=n(24),a=function(t){function e(e,n,r){t.call(this),this.hooks=e,this.method=n,this.url=r}return r(e,t),e.prototype.start=function(t){var e=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){e.close()},o.default.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)},e.prototype.close=function(){this.unloader&&(o.default.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(t,e){for(;;){var n=this.advanceBuffer(e);if(!n)break;this.emit("chunk",{status:t,data:n})}this.isBufferTooLong(e)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(t){var e=t.slice(this.position),n=e.indexOf("\n");return-1!==n?(this.position+=n+1,e.slice(0,n)):null},e.prototype.isBufferTooLong=function(t){return this.position===t.length&&t.length>262144},e}(i.default);e.__esModule=!0,e.default=a},function(t,e,n){"use strict";var r=n(35),o=n(11),i=n(2),a=1,s=function(){function t(t,e){this.hooks=t,this.session=c(1e3)+"/"+function(t){for(var e=[],n=0;n<t;n++)e.push(c(32).toString(32));return e.join("")}(8),this.location=function(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}(e),this.readyState=r.default.CONNECTING,this.openStream()}return t.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},t.prototype.ping=function(){this.hooks.sendHeartbeat(this)},t.prototype.close=function(t,e){this.onClose(t,e,!0)},t.prototype.sendRaw=function(t){if(this.readyState!==r.default.OPEN)return!1;try{return i.default.createSocketRequest("POST",u((e=this.location,n=this.session,e.base+"/"+n+"/xhr_send"))).start(t),!0}catch(o){return!1}var e,n},t.prototype.reconnect=function(){this.closeStream(),this.openStream()},t.prototype.onClose=function(t,e,n){this.closeStream(),this.readyState=r.default.CLOSED,this.onclose&&this.onclose({code:t,reason:e,wasClean:n})},t.prototype.onChunk=function(t){var e;if(200===t.status)switch(this.readyState===r.default.OPEN&&this.onActivity(),t.data.slice(0,1)){case"o":e=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var n=0;n<e.length;n++)this.onEvent(e[n]);break;case"m":e=JSON.parse(t.data.slice(1)||"null"),this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]"),this.onClose(e[0],e[1],!0)}},t.prototype.onOpen=function(t){var e,n,o;this.readyState===r.default.CONNECTING?(t&&t.hostname&&(this.location.base=(e=this.location.base,n=t.hostname,(o=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(e))[1]+n+o[3])),this.readyState=r.default.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},t.prototype.onEvent=function(t){this.readyState===r.default.OPEN&&this.onmessage&&this.onmessage({data:t})},t.prototype.onActivity=function(){this.onactivity&&this.onactivity()},t.prototype.onError=function(t){this.onerror&&this.onerror(t)},t.prototype.openStream=function(){var t=this;this.stream=i.default.createSocketRequest("POST",u(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(e){t.onChunk(e)}),this.stream.bind("finished",function(e){t.hooks.onFinished(t,e)}),this.stream.bind("buffer_too_long",function(){t.reconnect()});try{this.stream.start()}catch(e){o.default.defer(function(){t.onError(e),t.onClose(1006,"Could not start streaming",!1)})}},t.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},t}();function u(t){var e=-1===t.indexOf("?")?"?":"&";return t+e+"t="+ +new Date+"&n="+a++}function c(t){return Math.floor(Math.random()*t)}e.__esModule=!0,e.default=s},function(t,e){"use strict";var n;!function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"}(n||(n={})),e.__esModule=!0,e.default=n},function(t,e){"use strict";e.__esModule=!0,e.default={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}}},function(t,e){"use strict";e.__esModule=!0,e.default={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}}},function(t,e,n){"use strict";var r=n(2),o={getRequest:function(t){var e=new(r.default.getXHRAPI());return e.onreadystatechange=e.onprogress=function(){switch(e.readyState){case 3:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText);break;case 4:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText),t.emit("finished",e.status),t.close()}},e},abortRequest:function(t){t.onreadystatechange=null,t.abort()}};e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=n(9),o=n(11),i=n(40),a=function(){function t(t,e,n){this.key=t,this.session=e,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}return t.prototype.log=function(t,e){t<=this.options.level&&(this.events.push(r.extend({},e,{timestamp:o.default.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.prototype.error=function(t){this.log(i.default.ERROR,t)},t.prototype.info=function(t){this.log(i.default.INFO,t)},t.prototype.debug=function(t){this.log(i.default.DEBUG,t)},t.prototype.isEmpty=function(){return 0===this.events.length},t.prototype.send=function(t,e){var n=this,o=r.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(o,function(t,r){t||n.sent++,e&&e(t,r)}),!0},t.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},t}();e.__esModule=!0,e.default=a},function(t,e){"use strict";var n;!function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"}(n||(n={})),e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var r=n(9),o=n(11),i=n(42),a=n(31),s=n(64),u=n(65),c=n(66),l=n(67),f=n(68),h=n(69),p=n(70),d=n(2).default.Transports;e.build=function(t,e){return w(t,r.extend({},y,e))[1].strategy};var g={isSupported:function(){return!1},connect:function(t,e){var n=o.default.defer(function(){e(new a.UnsupportedStrategy)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}};function v(t){return function(e){return[t.apply(this,arguments),e]}}var y={extend:function(t,e,n){return[r.extend({},e,n),t]},def:function(t,e,n){if(void 0!==t[e])throw"Redefining symbol "+e;return t[e]=n,[void 0,t]},def_transport:function(t,e,n,o,i,u){var c,l=d[n];if(!l)throw new a.UnsupportedTransport(n);c=!(t.enabledTransports&&-1===r.arrayIndexOf(t.enabledTransports,e)||t.disabledTransports&&-1!==r.arrayIndexOf(t.disabledTransports,e))?new s.default(e,o,u?u.getAssistant(l):l,r.extend({key:t.key,useTLS:t.useTLS,timeline:t.timeline,ignoreNullOrigin:t.ignoreNullOrigin},i)):g;var f=t.def(t,e,c)[1];return f.Transports=t.Transports||{},f.Transports[e]=c,[void 0,f]},transport_manager:v(function(t,e){return new i.default(e)}),sequential:v(function(t,e){var n=Array.prototype.slice.call(arguments,2);return new u.default(n,e)}),cached:v(function(t,e,n){return new l.default(n,t.Transports,{ttl:e,timeline:t.timeline,useTLS:t.useTLS})}),first_connected:v(function(t,e){return new p.default(e)}),best_connected_ever:v(function(){var t=Array.prototype.slice.call(arguments,1);return new c.default(t)}),delayed:v(function(t,e,n){return new f.default(n,{delay:e})}),if:v(function(t,e,n,r){return new h.default(e,n,r)}),is_supported:v(function(t,e){return function(){return e.isSupported()}})};function m(t){return"string"==typeof t&&":"===t.charAt(0)}function b(t,e){return e[t.slice(1)]}function _(t,e){if(m(t[0])){var n=b(t[0],e);if(t.length>1){if("function"!=typeof n)throw"Calling non-function "+t[0];var o=[r.extend({},e)].concat(r.map(t.slice(1),function(t){return w(t,r.extend({},e))[0]}));return n.apply(this,o)}return[n,e]}return function t(e,n){if(0===e.length)return[[],n];var r=w(e[0],n),o=t(e.slice(1),r[1]);return[[r[0]].concat(o[0]),o[1]]}(t,e)}function w(t,e){return"string"==typeof t?function(t,e){if(!m(t))return[t,e];var n=b(t,e);if(void 0===n)throw"Undefined symbol "+t;return[n,e]}(t,e):"object"==typeof t&&t instanceof Array&&t.length>0?_(t,e):[t,e]}},function(t,e,n){"use strict";var r=n(43),o=function(){function t(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return t.prototype.getAssistant=function(t){return r.default.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.prototype.isAlive=function(){return this.livesLeft>0},t.prototype.reportDeath=function(){this.livesLeft-=1},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=n(44),o=n(45),i=n(48),a=n(49),s=n(50),u=n(51),c=n(54),l=n(52),f=n(62),h=n(63),p={createChannels:function(){return new h.default},createConnectionManager:function(t,e){return new f.default(t,e)},createChannel:function(t,e){return new l.default(t,e)},createPrivateChannel:function(t,e){return new u.default(t,e)},createPresenceChannel:function(t,e){return new s.default(t,e)},createEncryptedChannel:function(t,e){return new c.default(t,e)},createTimelineSender:function(t,e){return new a.default(t,e)},createAuthorizer:function(t,e){return e.authorizer?e.authorizer(t,e):new i.default(t,e)},createHandshake:function(t,e){return new o.default(t,e)},createAssistantToTheTransportManager:function(t,e,n){return new r.default(t,e,n)}};e.__esModule=!0,e.default=p},function(t,e,n){"use strict";var r=n(11),o=n(9),i=function(){function t(t,e,n){this.manager=t,this.transport=e,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}return t.prototype.createConnection=function(t,e,n,i){var a=this;i=o.extend({},i,{activityTimeout:this.pingDelay});var s=this.transport.createConnection(t,e,n,i),u=null,c=function(){s.unbind("open",c),s.bind("closed",l),u=r.default.now()},l=function(t){if(s.unbind("closed",l),1002===t.code||1003===t.code)a.manager.reportDeath();else if(!t.wasClean&&u){var e=r.default.now()-u;e<2*a.maxPingDelay&&(a.manager.reportDeath(),a.pingDelay=Math.max(e/2,a.minPingDelay))}};return s.bind("open",c),s},t.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},t}();e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=n(9),o=n(46),i=n(47),a=function(){function t(t,e){this.transport=t,this.callback=e,this.bindListeners()}return t.prototype.close=function(){this.unbindListeners(),this.transport.close()},t.prototype.bindListeners=function(){var t=this;this.onMessage=function(e){var n;t.unbindListeners();try{n=o.processHandshake(e)}catch(r){return t.finish("error",{error:r}),void t.transport.close()}"connected"===n.action?t.finish("connected",{connection:new i.default(n.id,t.transport),activityTimeout:n.activityTimeout}):(t.finish(n.action,{error:n.error}),t.transport.close())},this.onClosed=function(e){t.unbindListeners();var n=o.getCloseAction(e)||"backoff",r=o.getCloseError(e);t.finish(n,{error:r})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.prototype.finish=function(t,e){this.callback(r.extend({transport:this.transport,action:t},e))},t}();e.__esModule=!0,e.default=a},function(t,e){"use strict";e.decodeMessage=function(t){try{var e=JSON.parse(t.data),n=e.data;if("string"==typeof n)try{n=JSON.parse(e.data)}catch(o){}var r={event:e.event,channel:e.channel,data:n};return e.user_id&&(r.user_id=e.user_id),r}catch(o){throw{type:"MessageParseError",error:o,data:t.data}}},e.encodeMessage=function(t){return JSON.stringify(t)},e.processHandshake=function(t){var n=e.decodeMessage(t);if("pusher:connection_established"===n.event){if(!n.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:n.data.socket_id,activityTimeout:1e3*n.data.activity_timeout}}if("pusher:error"===n.event)return{action:this.getCloseAction(n.data),error:this.getCloseError(n.data)};throw"Invalid handshake"},e.getCloseAction=function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"tls_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},e.getCloseError=function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=n(9),i=n(24),a=n(46),s=n(8),u=function(t){function e(e,n){t.call(this),this.id=e,this.transport=n,this.activityTimeout=n.activityTimeout,this.bindListeners()}return r(e,t),e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(t){return this.transport.send(t)},e.prototype.send_event=function(t,e,n){var r={event:t,data:e};return n&&(r.channel=n),s.default.debug("Event sent",r),this.send(a.encodeMessage(r))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var t=this,e={message:function(e){var n;try{n=a.decodeMessage(e)}catch(r){t.emit("error",{type:"MessageParseError",error:r,data:e.data})}if(void 0!==n){switch(s.default.debug("Event recd",n),n.event){case"pusher:error":t.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong")}t.emit("message",n)}},activity:function(){t.emit("activity")},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(e){n(),e&&e.code&&t.handleCloseEvent(e),t.transport=null,t.emit("closed")}},n=function(){o.objectApply(e,function(e,n){t.transport.unbind(n,e)})};o.objectApply(e,function(e,n){t.transport.bind(n,e)})},e.prototype.handleCloseEvent=function(t){var e=a.getCloseAction(t),n=a.getCloseError(t);n&&this.emit("error",n),e&&this.emit(e,{action:e,error:n})},e}(i.default);e.__esModule=!0,e.default=u},function(t,e,n){"use strict";var r=n(2),o=function(){function t(t,e){this.channel=t;var n=e.authTransport;if(void 0===r.default.getAuthorizers()[n])throw"'"+n+"' is not a recognized auth transport";this.type=n,this.options=e,this.authOptions=(e||{}).auth||{}}return t.prototype.composeQuery=function(t){var e="socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var n in this.authOptions.params)e+="&"+encodeURIComponent(n)+"="+encodeURIComponent(this.authOptions.params[n]);return e},t.prototype.authorize=function(e,n){return t.authorizers=t.authorizers||r.default.getAuthorizers(),t.authorizers[this.type].call(this,r.default,e,n)},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=n(2),o=function(){function t(t,e){this.timeline=t,this.options=e||{}}return t.prototype.send=function(t,e){this.timeline.isEmpty()||this.timeline.send(r.default.TimelineTransport.getAgent(this,t),e)},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=n(51),i=n(8),a=n(53),s=n(14),u=function(t){function e(e,n){t.call(this,e,n),this.members=new a.default}return r(e,t),e.prototype.authorize=function(e,n){var r=this;t.prototype.authorize.call(this,e,function(t,e){if(!t){if(void 0===e.channel_data){var o=s.default.buildLogSuffix("authenticationEndpoint");return i.default.warn("Invalid auth response for channel '"+r.name+"',expected 'channel_data' field. "+o),void n("Invalid auth response")}var a=JSON.parse(e.channel_data);r.members.setMyID(a.user_id)}n(t,e)})},e.prototype.handleEvent=function(t){var e=t.event;if(0===e.indexOf("pusher_internal:"))this.handleInternalEvent(t);else{var n=t.data,r={};t.user_id&&(r.user_id=t.user_id),this.emit(e,n,r)}},e.prototype.handleInternalEvent=function(t){var e=t.event,n=t.data;switch(e){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(t);break;case"pusher_internal:member_added":var r=this.members.addMember(n);this.emit("pusher:member_added",r);break;case"pusher_internal:member_removed":var o=this.members.removeMember(n);o&&this.emit("pusher:member_removed",o)}},e.prototype.handleSubscriptionSucceededEvent=function(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(t.data),this.emit("pusher:subscription_succeeded",this.members))},e.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},e}(o.default);e.__esModule=!0,e.default=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=n(43),i=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.authorize=function(t,e){return o.default.createAuthorizer(this,this.pusher.config).authorize(t,e)},e}(n(52).default);e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=n(24),i=n(31),a=n(8),s=n(14),u=function(t){function e(e,n){t.call(this,function(t,n){a.default.debug("No callbacks on "+e+" for "+t)}),this.name=e,this.pusher=n,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}return r(e,t),e.prototype.authorize=function(t,e){return e(!1,{})},e.prototype.trigger=function(t,e){if(0!==t.indexOf("client-"))throw new i.BadEventName("Event '"+t+"' does not start with 'client-'");if(!this.subscribed){var n=s.default.buildLogSuffix("triggeringClientEvents");a.default.warn("Client event triggered before channel 'subscription_succeeded' event . "+n)}return this.pusher.send_event(t,e,this.name)},e.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},e.prototype.handleEvent=function(t){var e=t.event,n=t.data;if("pusher_internal:subscription_succeeded"===e)this.handleSubscriptionSucceededEvent(t);else if(0!==e.indexOf("pusher_internal:")){this.emit(e,n,{})}},e.prototype.handleSubscriptionSucceededEvent=function(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",t.data)},e.prototype.subscribe=function(){var t=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(e,n){e?t.emit("pusher:subscription_error",n):t.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:t.name})}))},e.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},e.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},e}(o.default);e.__esModule=!0,e.default=u},function(t,e,n){"use strict";var r=n(9),o=function(){function t(){this.reset()}return t.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},t.prototype.each=function(t){var e=this;r.objectApply(this.members,function(n,r){t(e.get(r))})},t.prototype.setMyID=function(t){this.myID=t},t.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},t.prototype.addMember=function(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},t.prototype.removeMember=function(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e},t.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=n(51),i=n(31),a=n(8),s=n(55),u=n(57),c=function(t){function e(){t.apply(this,arguments),this.key=null}return r(e,t),e.prototype.authorize=function(e,n){var r=this;t.prototype.authorize.call(this,e,function(t,e){if(t)n(!0,e);else{var o=e.shared_secret;if(!o){var i="No shared_secret key in auth payload for encrypted channel: "+r.name;return n(!0,i),void a.default.warn("Error: "+i)}r.key=u.decodeBase64(o),delete e.shared_secret,n(!1,e)}})},e.prototype.trigger=function(t,e){throw new i.UnsupportedFeature("Client events are not currently supported for encrypted channels")},e.prototype.handleEvent=function(e){var n=e.event,r=e.data;0!==n.indexOf("pusher_internal:")&&0!==n.indexOf("pusher:")?this.handleEncryptedEvent(n,r):t.prototype.handleEvent.call(this,e)},e.prototype.handleEncryptedEvent=function(t,e){var n=this;if(this.key)if(e.ciphertext&&e.nonce){var r=u.decodeBase64(e.ciphertext);if(r.length<s.secretbox.overheadLength)a.default.warn("Expected encrypted event ciphertext length to be "+s.secretbox.overheadLength+", got: "+r.length);else{var o=u.decodeBase64(e.nonce);if(o.length<s.secretbox.nonceLength)a.default.warn("Expected encrypted event nonce length to be "+s.secretbox.nonceLength+", got: "+o.length);else{var i=s.secretbox.open(r,o,this.key);if(null===i)return a.default.debug("Failed to decrypted an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),void this.authorize(this.pusher.connection.socket_id,function(e,c){e?a.default.warn("Failed to make a request to the authEndpoint: "+c+". Unable to fetch new key, so dropping encrypted event"):null!==(i=s.secretbox.open(r,o,n.key))?n.emitJSON(t,u.encodeUTF8(i)):a.default.warn("Failed to decrypt event with new key. Dropping encrypted event")});this.emitJSON(t,u.encodeUTF8(i))}}}else a.default.warn("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+e);else a.default.debug("Received encrypted event before key has been retrieved from the authEndpoint")},e.prototype.emitJSON=function(t,e){try{this.emit(t,JSON.parse(e))}catch(n){this.emit(t,e)}return this},e}(o.default);e.__esModule=!0,e.default=c},function(t,e,n){!function(t){"use strict";var e=function(t){var e,n=new Float64Array(16);if(t)for(e=0;e<t.length;e++)n[e]=t[e];return n},r=function(){throw new Error("no PRNG")},o=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var a=e(),s=e([1]),u=e([56129,1]),c=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(t,e,n,r){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n,t[e+4]=r>>24&255,t[e+5]=r>>16&255,t[e+6]=r>>8&255,t[e+7]=255&r}function g(t,e,n,r,o){var i,a=0;for(i=0;i<o;i++)a|=t[e+i]^n[r+i];return(1&a-1>>>8)-1}function v(t,e,n,r){return g(t,e,n,r,16)}function y(t,e,n,r){return g(t,e,n,r,32)}function m(t,e,n,r){!function(t,e,n,r){for(var o,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,v=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,y=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,m=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,_=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,w=i,k=a,E=s,S=u,O=c,P=l,M=f,j=h,T=p,A=d,x=g,C=v,R=y,L=m,U=b,N=_,I=0;I<20;I+=2)w^=(o=(R^=(o=(T^=(o=(O^=(o=w+R|0)<<7|o>>>25)+w|0)<<9|o>>>23)+O|0)<<13|o>>>19)+T|0)<<18|o>>>14,P^=(o=(k^=(o=(L^=(o=(A^=(o=P+k|0)<<7|o>>>25)+P|0)<<9|o>>>23)+A|0)<<13|o>>>19)+L|0)<<18|o>>>14,x^=(o=(M^=(o=(E^=(o=(U^=(o=x+M|0)<<7|o>>>25)+x|0)<<9|o>>>23)+U|0)<<13|o>>>19)+E|0)<<18|o>>>14,N^=(o=(C^=(o=(j^=(o=(S^=(o=N+C|0)<<7|o>>>25)+N|0)<<9|o>>>23)+S|0)<<13|o>>>19)+j|0)<<18|o>>>14,w^=(o=(S^=(o=(E^=(o=(k^=(o=w+S|0)<<7|o>>>25)+w|0)<<9|o>>>23)+k|0)<<13|o>>>19)+E|0)<<18|o>>>14,P^=(o=(O^=(o=(j^=(o=(M^=(o=P+O|0)<<7|o>>>25)+P|0)<<9|o>>>23)+M|0)<<13|o>>>19)+j|0)<<18|o>>>14,x^=(o=(A^=(o=(T^=(o=(C^=(o=x+A|0)<<7|o>>>25)+x|0)<<9|o>>>23)+C|0)<<13|o>>>19)+T|0)<<18|o>>>14,N^=(o=(U^=(o=(L^=(o=(R^=(o=N+U|0)<<7|o>>>25)+N|0)<<9|o>>>23)+R|0)<<13|o>>>19)+L|0)<<18|o>>>14;w=w+i|0,k=k+a|0,E=E+s|0,S=S+u|0,O=O+c|0,P=P+l|0,M=M+f|0,j=j+h|0,T=T+p|0,A=A+d|0,x=x+g|0,C=C+v|0,R=R+y|0,L=L+m|0,U=U+b|0,N=N+_|0,t[0]=w>>>0&255,t[1]=w>>>8&255,t[2]=w>>>16&255,t[3]=w>>>24&255,t[4]=k>>>0&255,t[5]=k>>>8&255,t[6]=k>>>16&255,t[7]=k>>>24&255,t[8]=E>>>0&255,t[9]=E>>>8&255,t[10]=E>>>16&255,t[11]=E>>>24&255,t[12]=S>>>0&255,t[13]=S>>>8&255,t[14]=S>>>16&255,t[15]=S>>>24&255,t[16]=O>>>0&255,t[17]=O>>>8&255,t[18]=O>>>16&255,t[19]=O>>>24&255,t[20]=P>>>0&255,t[21]=P>>>8&255,t[22]=P>>>16&255,t[23]=P>>>24&255,t[24]=M>>>0&255,t[25]=M>>>8&255,t[26]=M>>>16&255,t[27]=M>>>24&255,t[28]=j>>>0&255,t[29]=j>>>8&255,t[30]=j>>>16&255,t[31]=j>>>24&255,t[32]=T>>>0&255,t[33]=T>>>8&255,t[34]=T>>>16&255,t[35]=T>>>24&255,t[36]=A>>>0&255,t[37]=A>>>8&255,t[38]=A>>>16&255,t[39]=A>>>24&255,t[40]=x>>>0&255,t[41]=x>>>8&255,t[42]=x>>>16&255,t[43]=x>>>24&255,t[44]=C>>>0&255,t[45]=C>>>8&255,t[46]=C>>>16&255,t[47]=C>>>24&255,t[48]=R>>>0&255,t[49]=R>>>8&255,t[50]=R>>>16&255,t[51]=R>>>24&255,t[52]=L>>>0&255,t[53]=L>>>8&255,t[54]=L>>>16&255,t[55]=L>>>24&255,t[56]=U>>>0&255,t[57]=U>>>8&255,t[58]=U>>>16&255,t[59]=U>>>24&255,t[60]=N>>>0&255,t[61]=N>>>8&255,t[62]=N>>>16&255,t[63]=N>>>24&255}(t,e,n,r)}function b(t,e,n,r){!function(t,e,n,r){for(var o,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,v=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,y=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,m=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,_=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,w=0;w<20;w+=2)i^=(o=(y^=(o=(p^=(o=(c^=(o=i+y|0)<<7|o>>>25)+i|0)<<9|o>>>23)+c|0)<<13|o>>>19)+p|0)<<18|o>>>14,l^=(o=(a^=(o=(m^=(o=(d^=(o=l+a|0)<<7|o>>>25)+l|0)<<9|o>>>23)+d|0)<<13|o>>>19)+m|0)<<18|o>>>14,g^=(o=(f^=(o=(s^=(o=(b^=(o=g+f|0)<<7|o>>>25)+g|0)<<9|o>>>23)+b|0)<<13|o>>>19)+s|0)<<18|o>>>14,_^=(o=(v^=(o=(h^=(o=(u^=(o=_+v|0)<<7|o>>>25)+_|0)<<9|o>>>23)+u|0)<<13|o>>>19)+h|0)<<18|o>>>14,i^=(o=(u^=(o=(s^=(o=(a^=(o=i+u|0)<<7|o>>>25)+i|0)<<9|o>>>23)+a|0)<<13|o>>>19)+s|0)<<18|o>>>14,l^=(o=(c^=(o=(h^=(o=(f^=(o=l+c|0)<<7|o>>>25)+l|0)<<9|o>>>23)+f|0)<<13|o>>>19)+h|0)<<18|o>>>14,g^=(o=(d^=(o=(p^=(o=(v^=(o=g+d|0)<<7|o>>>25)+g|0)<<9|o>>>23)+v|0)<<13|o>>>19)+p|0)<<18|o>>>14,_^=(o=(b^=(o=(m^=(o=(y^=(o=_+b|0)<<7|o>>>25)+_|0)<<9|o>>>23)+y|0)<<13|o>>>19)+m|0)<<18|o>>>14;t[0]=i>>>0&255,t[1]=i>>>8&255,t[2]=i>>>16&255,t[3]=i>>>24&255,t[4]=l>>>0&255,t[5]=l>>>8&255,t[6]=l>>>16&255,t[7]=l>>>24&255,t[8]=g>>>0&255,t[9]=g>>>8&255,t[10]=g>>>16&255,t[11]=g>>>24&255,t[12]=_>>>0&255,t[13]=_>>>8&255,t[14]=_>>>16&255,t[15]=_>>>24&255,t[16]=f>>>0&255,t[17]=f>>>8&255,t[18]=f>>>16&255,t[19]=f>>>24&255,t[20]=h>>>0&255,t[21]=h>>>8&255,t[22]=h>>>16&255,t[23]=h>>>24&255,t[24]=p>>>0&255,t[25]=p>>>8&255,t[26]=p>>>16&255,t[27]=p>>>24&255,t[28]=d>>>0&255,t[29]=d>>>8&255,t[30]=d>>>16&255,t[31]=d>>>24&255}(t,e,n,r)}var _=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(t,e,n,r,o,i,a){var s,u,c=new Uint8Array(16),l=new Uint8Array(64);for(u=0;u<16;u++)c[u]=0;for(u=0;u<8;u++)c[u]=i[u];for(;o>=64;){for(m(l,c,a,_),u=0;u<64;u++)t[e+u]=n[r+u]^l[u];for(s=1,u=8;u<16;u++)s=s+(255&c[u])|0,c[u]=255&s,s>>>=8;o-=64,e+=64,r+=64}if(o>0)for(m(l,c,a,_),u=0;u<o;u++)t[e+u]=n[r+u]^l[u];return 0}function k(t,e,n,r,o){var i,a,s=new Uint8Array(16),u=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=r[a];for(;n>=64;){for(m(u,s,o,_),a=0;a<64;a++)t[e+a]=u[a];for(i=1,a=8;a<16;a++)i=i+(255&s[a])|0,s[a]=255&i,i>>>=8;n-=64,e+=64}if(n>0)for(m(u,s,o,_),a=0;a<n;a++)t[e+a]=u[a];return 0}function E(t,e,n,r,o){var i=new Uint8Array(32);b(i,r,o,_);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=r[s+16];return k(t,e,n,a,i)}function S(t,e,n,r,o,i,a){var s=new Uint8Array(32);b(s,i,a,_);for(var u=new Uint8Array(8),c=0;c<8;c++)u[c]=i[c+16];return w(t,e,n,r,o,u,s)}var O=function(t){var e,n,r,o,i,a,s,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,n=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|n<<3),r=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(n>>>10|r<<6),o=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(r>>>7|o<<9),i=255&t[8]|(255&t[9])<<8,this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,a=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(i>>>14|a<<2),s=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(a>>>11|s<<5),u=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(s>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function P(t,e,n,r,o,i){var a=new O(i);return a.update(n,r,o),a.finish(t,e),0}function M(t,e,n,r,o,i){var a=new Uint8Array(16);return P(a,0,n,r,o,i),v(t,e,a,0)}function j(t,e,n,r,o){var i;if(n<32)return-1;for(S(t,0,e,0,n,r,o),P(t,16,t,32,n-32,t),i=0;i<16;i++)t[i]=0;return 0}function T(t,e,n,r,o){var i,a=new Uint8Array(32);if(n<32)return-1;if(E(a,0,32,r,o),0!==M(e,16,e,32,n-32,a))return-1;for(S(t,0,e,0,n,r,o),i=0;i<32;i++)t[i]=0;return 0}function A(t,e){var n;for(n=0;n<16;n++)t[n]=0|e[n]}function x(t){var e,n,r=1;for(e=0;e<16;e++)n=t[e]+r+65535,r=Math.floor(n/65536),t[e]=n-65536*r;t[0]+=r-1+37*(r-1)}function C(t,e,n){for(var r,o=~(n-1),i=0;i<16;i++)r=o&(t[i]^e[i]),t[i]^=r,e[i]^=r}function R(t,n){var r,o,i,a=e(),s=e();for(r=0;r<16;r++)s[r]=n[r];for(x(s),x(s),x(s),o=0;o<2;o++){for(a[0]=s[0]-65517,r=1;r<15;r++)a[r]=s[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),i=a[15]>>16&1,a[14]&=65535,C(s,a,1-i)}for(r=0;r<16;r++)t[2*r]=255&s[r],t[2*r+1]=s[r]>>8}function L(t,e){var n=new Uint8Array(32),r=new Uint8Array(32);return R(n,t),R(r,e),y(n,0,r,0)}function U(t){var e=new Uint8Array(32);return R(e,t),1&e[0]}function N(t,e){var n;for(n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}function I(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]+n[r]}function z(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]-n[r]}function D(t,e,n){var r,o,i=0,a=0,s=0,u=0,c=0,l=0,f=0,h=0,p=0,d=0,g=0,v=0,y=0,m=0,b=0,_=0,w=0,k=0,E=0,S=0,O=0,P=0,M=0,j=0,T=0,A=0,x=0,C=0,R=0,L=0,U=0,N=n[0],I=n[1],z=n[2],D=n[3],B=n[4],q=n[5],F=n[6],G=n[7],H=n[8],Y=n[9],X=n[10],J=n[11],K=n[12],W=n[13],Q=n[14],$=n[15];i+=(r=e[0])*N,a+=r*I,s+=r*z,u+=r*D,c+=r*B,l+=r*q,f+=r*F,h+=r*G,p+=r*H,d+=r*Y,g+=r*X,v+=r*J,y+=r*K,m+=r*W,b+=r*Q,_+=r*$,a+=(r=e[1])*N,s+=r*I,u+=r*z,c+=r*D,l+=r*B,f+=r*q,h+=r*F,p+=r*G,d+=r*H,g+=r*Y,v+=r*X,y+=r*J,m+=r*K,b+=r*W,_+=r*Q,w+=r*$,s+=(r=e[2])*N,u+=r*I,c+=r*z,l+=r*D,f+=r*B,h+=r*q,p+=r*F,d+=r*G,g+=r*H,v+=r*Y,y+=r*X,m+=r*J,b+=r*K,_+=r*W,w+=r*Q,k+=r*$,u+=(r=e[3])*N,c+=r*I,l+=r*z,f+=r*D,h+=r*B,p+=r*q,d+=r*F,g+=r*G,v+=r*H,y+=r*Y,m+=r*X,b+=r*J,_+=r*K,w+=r*W,k+=r*Q,E+=r*$,c+=(r=e[4])*N,l+=r*I,f+=r*z,h+=r*D,p+=r*B,d+=r*q,g+=r*F,v+=r*G,y+=r*H,m+=r*Y,b+=r*X,_+=r*J,w+=r*K,k+=r*W,E+=r*Q,S+=r*$,l+=(r=e[5])*N,f+=r*I,h+=r*z,p+=r*D,d+=r*B,g+=r*q,v+=r*F,y+=r*G,m+=r*H,b+=r*Y,_+=r*X,w+=r*J,k+=r*K,E+=r*W,S+=r*Q,O+=r*$,f+=(r=e[6])*N,h+=r*I,p+=r*z,d+=r*D,g+=r*B,v+=r*q,y+=r*F,m+=r*G,b+=r*H,_+=r*Y,w+=r*X,k+=r*J,E+=r*K,S+=r*W,O+=r*Q,P+=r*$,h+=(r=e[7])*N,p+=r*I,d+=r*z,g+=r*D,v+=r*B,y+=r*q,m+=r*F,b+=r*G,_+=r*H,w+=r*Y,k+=r*X,E+=r*J,S+=r*K,O+=r*W,P+=r*Q,M+=r*$,p+=(r=e[8])*N,d+=r*I,g+=r*z,v+=r*D,y+=r*B,m+=r*q,b+=r*F,_+=r*G,w+=r*H,k+=r*Y,E+=r*X,S+=r*J,O+=r*K,P+=r*W,M+=r*Q,j+=r*$,d+=(r=e[9])*N,g+=r*I,v+=r*z,y+=r*D,m+=r*B,b+=r*q,_+=r*F,w+=r*G,k+=r*H,E+=r*Y,S+=r*X,O+=r*J,P+=r*K,M+=r*W,j+=r*Q,T+=r*$,g+=(r=e[10])*N,v+=r*I,y+=r*z,m+=r*D,b+=r*B,_+=r*q,w+=r*F,k+=r*G,E+=r*H,S+=r*Y,O+=r*X,P+=r*J,M+=r*K,j+=r*W,T+=r*Q,A+=r*$,v+=(r=e[11])*N,y+=r*I,m+=r*z,b+=r*D,_+=r*B,w+=r*q,k+=r*F,E+=r*G,S+=r*H,O+=r*Y,P+=r*X,M+=r*J,j+=r*K,T+=r*W,A+=r*Q,x+=r*$,y+=(r=e[12])*N,m+=r*I,b+=r*z,_+=r*D,w+=r*B,k+=r*q,E+=r*F,S+=r*G,O+=r*H,P+=r*Y,M+=r*X,j+=r*J,T+=r*K,A+=r*W,x+=r*Q,C+=r*$,m+=(r=e[13])*N,b+=r*I,_+=r*z,w+=r*D,k+=r*B,E+=r*q,S+=r*F,O+=r*G,P+=r*H,M+=r*Y,j+=r*X,T+=r*J,A+=r*K,x+=r*W,C+=r*Q,R+=r*$,b+=(r=e[14])*N,_+=r*I,w+=r*z,k+=r*D,E+=r*B,S+=r*q,O+=r*F,P+=r*G,M+=r*H,j+=r*Y,T+=r*X,A+=r*J,x+=r*K,C+=r*W,R+=r*Q,L+=r*$,_+=(r=e[15])*N,a+=38*(k+=r*z),s+=38*(E+=r*D),u+=38*(S+=r*B),c+=38*(O+=r*q),l+=38*(P+=r*F),f+=38*(M+=r*G),h+=38*(j+=r*H),p+=38*(T+=r*Y),d+=38*(A+=r*X),g+=38*(x+=r*J),v+=38*(C+=r*K),y+=38*(R+=r*W),m+=38*(L+=r*Q),b+=38*(U+=r*$),i=(r=(i+=38*(w+=r*I))+(o=1)+65535)-65536*(o=Math.floor(r/65536)),a=(r=a+o+65535)-65536*(o=Math.floor(r/65536)),s=(r=s+o+65535)-65536*(o=Math.floor(r/65536)),u=(r=u+o+65535)-65536*(o=Math.floor(r/65536)),c=(r=c+o+65535)-65536*(o=Math.floor(r/65536)),l=(r=l+o+65535)-65536*(o=Math.floor(r/65536)),f=(r=f+o+65535)-65536*(o=Math.floor(r/65536)),h=(r=h+o+65535)-65536*(o=Math.floor(r/65536)),p=(r=p+o+65535)-65536*(o=Math.floor(r/65536)),d=(r=d+o+65535)-65536*(o=Math.floor(r/65536)),g=(r=g+o+65535)-65536*(o=Math.floor(r/65536)),v=(r=v+o+65535)-65536*(o=Math.floor(r/65536)),y=(r=y+o+65535)-65536*(o=Math.floor(r/65536)),m=(r=m+o+65535)-65536*(o=Math.floor(r/65536)),b=(r=b+o+65535)-65536*(o=Math.floor(r/65536)),_=(r=_+o+65535)-65536*(o=Math.floor(r/65536)),i=(r=(i+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(r/65536)),a=(r=a+o+65535)-65536*(o=Math.floor(r/65536)),s=(r=s+o+65535)-65536*(o=Math.floor(r/65536)),u=(r=u+o+65535)-65536*(o=Math.floor(r/65536)),c=(r=c+o+65535)-65536*(o=Math.floor(r/65536)),l=(r=l+o+65535)-65536*(o=Math.floor(r/65536)),f=(r=f+o+65535)-65536*(o=Math.floor(r/65536)),h=(r=h+o+65535)-65536*(o=Math.floor(r/65536)),p=(r=p+o+65535)-65536*(o=Math.floor(r/65536)),d=(r=d+o+65535)-65536*(o=Math.floor(r/65536)),g=(r=g+o+65535)-65536*(o=Math.floor(r/65536)),v=(r=v+o+65535)-65536*(o=Math.floor(r/65536)),y=(r=y+o+65535)-65536*(o=Math.floor(r/65536)),m=(r=m+o+65535)-65536*(o=Math.floor(r/65536)),b=(r=b+o+65535)-65536*(o=Math.floor(r/65536)),_=(r=_+o+65535)-65536*(o=Math.floor(r/65536)),i+=o-1+37*(o-1),t[0]=i,t[1]=a,t[2]=s,t[3]=u,t[4]=c,t[5]=l,t[6]=f,t[7]=h,t[8]=p,t[9]=d,t[10]=g,t[11]=v,t[12]=y,t[13]=m,t[14]=b,t[15]=_}function B(t,e){D(t,e,e)}function q(t,n){var r,o=e();for(r=0;r<16;r++)o[r]=n[r];for(r=253;r>=0;r--)B(o,o),2!==r&&4!==r&&D(o,o,n);for(r=0;r<16;r++)t[r]=o[r]}function F(t,n,r){var o,i,a=new Uint8Array(32),s=new Float64Array(80),c=e(),l=e(),f=e(),h=e(),p=e(),d=e();for(i=0;i<31;i++)a[i]=n[i];for(a[31]=127&n[31]|64,a[0]&=248,N(s,r),i=0;i<16;i++)l[i]=s[i],h[i]=c[i]=f[i]=0;for(c[0]=h[0]=1,i=254;i>=0;--i)C(c,l,o=a[i>>>3]>>>(7&i)&1),C(f,h,o),I(p,c,f),z(c,c,f),I(f,l,h),z(l,l,h),B(h,p),B(d,c),D(c,f,c),D(f,l,p),I(p,c,f),z(c,c,f),B(l,c),z(f,h,d),D(c,f,u),I(c,c,h),D(f,f,c),D(c,h,d),D(h,l,s),B(l,p),C(c,l,o),C(f,h,o);for(i=0;i<16;i++)s[i+16]=c[i],s[i+32]=f[i],s[i+48]=l[i],s[i+64]=h[i];var g=s.subarray(32),v=s.subarray(16);return q(g,g),D(v,v,g),R(t,v),0}function G(t,e){return F(t,e,i)}function H(t,e){return r(e,32),G(t,e)}function Y(t,e,n){var r=new Uint8Array(32);return F(r,n,e),b(t,o,r,_)}O.prototype.blocks=function(t,e,n){for(var r,o,i,a,s,u,c,l,f,h,p,d,g,v,y,m,b,_,w,k=this.fin?0:2048,E=this.h[0],S=this.h[1],O=this.h[2],P=this.h[3],M=this.h[4],j=this.h[5],T=this.h[6],A=this.h[7],x=this.h[8],C=this.h[9],R=this.r[0],L=this.r[1],U=this.r[2],N=this.r[3],I=this.r[4],z=this.r[5],D=this.r[6],B=this.r[7],q=this.r[8],F=this.r[9];n>=16;)h=f=0,h+=(E+=8191&(r=255&t[e+0]|(255&t[e+1])<<8))*R,h+=(S+=8191&(r>>>13|(o=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*F),h+=(O+=8191&(o>>>10|(i=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*q),h+=(P+=8191&(i>>>7|(a=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*B),f=(h+=(M+=8191&(a>>>4|(s=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*D))>>>13,h&=8191,h+=(j+=s>>>1&8191)*(5*z),h+=(T+=8191&(s>>>14|(u=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*I),h+=(A+=8191&(u>>>11|(c=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*N),h+=(x+=8191&(c>>>8|(l=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*U),p=f+=(h+=(C+=l>>>5|k)*(5*L))>>>13,p+=E*L,p+=S*R,p+=O*(5*F),p+=P*(5*q),f=(p+=M*(5*B))>>>13,p&=8191,p+=j*(5*D),p+=T*(5*z),p+=A*(5*I),p+=x*(5*N),f+=(p+=C*(5*U))>>>13,p&=8191,d=f,d+=E*U,d+=S*L,d+=O*R,d+=P*(5*F),f=(d+=M*(5*q))>>>13,d&=8191,d+=j*(5*B),d+=T*(5*D),d+=A*(5*z),d+=x*(5*I),g=f+=(d+=C*(5*N))>>>13,g+=E*N,g+=S*U,g+=O*L,g+=P*R,f=(g+=M*(5*F))>>>13,g&=8191,g+=j*(5*q),g+=T*(5*B),g+=A*(5*D),g+=x*(5*z),v=f+=(g+=C*(5*I))>>>13,v+=E*I,v+=S*N,v+=O*U,v+=P*L,f=(v+=M*R)>>>13,v&=8191,v+=j*(5*F),v+=T*(5*q),v+=A*(5*B),v+=x*(5*D),y=f+=(v+=C*(5*z))>>>13,y+=E*z,y+=S*I,y+=O*N,y+=P*U,f=(y+=M*L)>>>13,y&=8191,y+=j*R,y+=T*(5*F),y+=A*(5*q),y+=x*(5*B),m=f+=(y+=C*(5*D))>>>13,m+=E*D,m+=S*z,m+=O*I,m+=P*N,f=(m+=M*U)>>>13,m&=8191,m+=j*L,m+=T*R,m+=A*(5*F),m+=x*(5*q),b=f+=(m+=C*(5*B))>>>13,b+=E*B,b+=S*D,b+=O*z,b+=P*I,f=(b+=M*N)>>>13,b&=8191,b+=j*U,b+=T*L,b+=A*R,b+=x*(5*F),_=f+=(b+=C*(5*q))>>>13,_+=E*q,_+=S*B,_+=O*D,_+=P*z,f=(_+=M*I)>>>13,_&=8191,_+=j*N,_+=T*U,_+=A*L,_+=x*R,w=f+=(_+=C*(5*F))>>>13,w+=E*F,w+=S*q,w+=O*B,w+=P*D,f=(w+=M*z)>>>13,w&=8191,w+=j*I,w+=T*N,w+=A*U,w+=x*L,E=h=8191&(f=(f=((f+=(w+=C*R)>>>13)<<2)+f|0)+(h&=8191)|0),S=p+=f>>>=13,O=d&=8191,P=g&=8191,M=v&=8191,j=y&=8191,T=m&=8191,A=b&=8191,x=_&=8191,C=w&=8191,e+=16,n-=16;this.h[0]=E,this.h[1]=S,this.h[2]=O,this.h[3]=P,this.h[4]=M,this.h[5]=j,this.h[6]=T,this.h[7]=A,this.h[8]=x,this.h[9]=C},O.prototype.finish=function(t,e){var n,r,o,i,a=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=n,n=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,a[0]=this.h[0]+5,n=a[0]>>>13,a[0]&=8191,i=1;i<10;i++)a[i]=this.h[i]+n,n=a[i]>>>13,a[i]&=8191;for(a[9]-=8192,r=(1^n)-1,i=0;i<10;i++)a[i]&=r;for(r=~r,i=0;i<10;i++)this.h[i]=this.h[i]&r|a[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,i=1;i<8;i++)o=(this.h[i]+this.pad[i]|0)+(o>>>16)|0,this.h[i]=65535&o;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},O.prototype.update=function(t,e,n){var r,o;if(this.leftover){for((o=16-this.leftover)>n&&(o=n),r=0;r<o;r++)this.buffer[this.leftover+r]=t[e+r];if(n-=o,e+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(o=n-n%16,this.blocks(t,e,o),e+=o,n-=o),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=t[e+r];this.leftover+=n}};var X=j,J=T;var K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function W(t,e,n,r){for(var o,i,a,s,u,c,l,f,h,p,d,g,v,y,m,b,_,w,k,E,S,O,P,M,j,T,A=new Int32Array(16),x=new Int32Array(16),C=t[0],R=t[1],L=t[2],U=t[3],N=t[4],I=t[5],z=t[6],D=t[7],B=e[0],q=e[1],F=e[2],G=e[3],H=e[4],Y=e[5],X=e[6],J=e[7],W=0;r>=128;){for(k=0;k<16;k++)E=8*k+W,A[k]=n[E+0]<<24|n[E+1]<<16|n[E+2]<<8|n[E+3],x[k]=n[E+4]<<24|n[E+5]<<16|n[E+6]<<8|n[E+7];for(k=0;k<80;k++)if(o=C,i=R,a=L,s=U,u=N,c=I,l=z,D,h=B,p=q,d=F,g=G,v=H,y=Y,m=X,J,P=65535&(O=J),M=O>>>16,j=65535&(S=D),T=S>>>16,P+=65535&(O=(H>>>14|N<<18)^(H>>>18|N<<14)^(N>>>9|H<<23)),M+=O>>>16,j+=65535&(S=(N>>>14|H<<18)^(N>>>18|H<<14)^(H>>>9|N<<23)),T+=S>>>16,P+=65535&(O=H&Y^~H&X),M+=O>>>16,j+=65535&(S=N&I^~N&z),T+=S>>>16,S=K[2*k],P+=65535&(O=K[2*k+1]),M+=O>>>16,j+=65535&S,T+=S>>>16,S=A[k%16],M+=(O=x[k%16])>>>16,j+=65535&S,T+=S>>>16,j+=(M+=(P+=65535&O)>>>16)>>>16,P=65535&(O=w=65535&P|M<<16),M=O>>>16,j=65535&(S=_=65535&j|(T+=j>>>16)<<16),T=S>>>16,P+=65535&(O=(B>>>28|C<<4)^(C>>>2|B<<30)^(C>>>7|B<<25)),M+=O>>>16,j+=65535&(S=(C>>>28|B<<4)^(B>>>2|C<<30)^(B>>>7|C<<25)),T+=S>>>16,M+=(O=B&q^B&F^q&F)>>>16,j+=65535&(S=C&R^C&L^R&L),T+=S>>>16,f=65535&(j+=(M+=(P+=65535&O)>>>16)>>>16)|(T+=j>>>16)<<16,b=65535&P|M<<16,P=65535&(O=g),M=O>>>16,j=65535&(S=s),T=S>>>16,M+=(O=w)>>>16,j+=65535&(S=_),T+=S>>>16,R=o,L=i,U=a,N=s=65535&(j+=(M+=(P+=65535&O)>>>16)>>>16)|(T+=j>>>16)<<16,I=u,z=c,D=l,C=f,q=h,F=p,G=d,H=g=65535&P|M<<16,Y=v,X=y,J=m,B=b,k%16==15)for(E=0;E<16;E++)S=A[E],P=65535&(O=x[E]),M=O>>>16,j=65535&S,T=S>>>16,S=A[(E+9)%16],P+=65535&(O=x[(E+9)%16]),M+=O>>>16,j+=65535&S,T+=S>>>16,_=A[(E+1)%16],P+=65535&(O=((w=x[(E+1)%16])>>>1|_<<31)^(w>>>8|_<<24)^(w>>>7|_<<25)),M+=O>>>16,j+=65535&(S=(_>>>1|w<<31)^(_>>>8|w<<24)^_>>>7),T+=S>>>16,_=A[(E+14)%16],M+=(O=((w=x[(E+14)%16])>>>19|_<<13)^(_>>>29|w<<3)^(w>>>6|_<<26))>>>16,j+=65535&(S=(_>>>19|w<<13)^(w>>>29|_<<3)^_>>>6),T+=S>>>16,T+=(j+=(M+=(P+=65535&O)>>>16)>>>16)>>>16,A[E]=65535&j|T<<16,x[E]=65535&P|M<<16;P=65535&(O=B),M=O>>>16,j=65535&(S=C),T=S>>>16,S=t[0],M+=(O=e[0])>>>16,j+=65535&S,T+=S>>>16,T+=(j+=(M+=(P+=65535&O)>>>16)>>>16)>>>16,t[0]=C=65535&j|T<<16,e[0]=B=65535&P|M<<16,P=65535&(O=q),M=O>>>16,j=65535&(S=R),T=S>>>16,S=t[1],M+=(O=e[1])>>>16,j+=65535&S,T+=S>>>16,T+=(j+=(M+=(P+=65535&O)>>>16)>>>16)>>>16,t[1]=R=65535&j|T<<16,e[1]=q=65535&P|M<<16,P=65535&(O=F),M=O>>>16,j=65535&(S=L),T=S>>>16,S=t[2],M+=(O=e[2])>>>16,j+=65535&S,T+=S>>>16,T+=(j+=(M+=(P+=65535&O)>>>16)>>>16)>>>16,t[2]=L=65535&j|T<<16,e[2]=F=65535&P|M<<16,P=65535&(O=G),M=O>>>16,j=65535&(S=U),T=S>>>16,S=t[3],M+=(O=e[3])>>>16,j+=65535&S,T+=S>>>16,T+=(j+=(M+=(P+=65535&O)>>>16)>>>16)>>>16,t[3]=U=65535&j|T<<16,e[3]=G=65535&P|M<<16,P=65535&(O=H),M=O>>>16,j=65535&(S=N),T=S>>>16,S=t[4],M+=(O=e[4])>>>16,j+=65535&S,T+=S>>>16,T+=(j+=(M+=(P+=65535&O)>>>16)>>>16)>>>16,t[4]=N=65535&j|T<<16,e[4]=H=65535&P|M<<16,P=65535&(O=Y),M=O>>>16,j=65535&(S=I),T=S>>>16,S=t[5],M+=(O=e[5])>>>16,j+=65535&S,T+=S>>>16,T+=(j+=(M+=(P+=65535&O)>>>16)>>>16)>>>16,t[5]=I=65535&j|T<<16,e[5]=Y=65535&P|M<<16,P=65535&(O=X),M=O>>>16,j=65535&(S=z),T=S>>>16,S=t[6],M+=(O=e[6])>>>16,j+=65535&S,T+=S>>>16,T+=(j+=(M+=(P+=65535&O)>>>16)>>>16)>>>16,t[6]=z=65535&j|T<<16,e[6]=X=65535&P|M<<16,P=65535&(O=J),M=O>>>16,j=65535&(S=D),T=S>>>16,S=t[7],M+=(O=e[7])>>>16,j+=65535&S,T+=S>>>16,T+=(j+=(M+=(P+=65535&O)>>>16)>>>16)>>>16,t[7]=D=65535&j|T<<16,e[7]=J=65535&P|M<<16,W+=128,r-=128}return r}function Q(t,e,n){var r,o=new Int32Array(8),i=new Int32Array(8),a=new Uint8Array(256),s=n;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,W(o,i,e,n),n%=128,r=0;r<n;r++)a[r]=e[s-n+r];for(a[n]=128,a[(n=256-128*(n<112?1:0))-9]=0,d(a,n-8,s/536870912|0,s<<3),W(o,i,a,n),r=0;r<8;r++)d(t,8*r,o[r],i[r]);return 0}function $(t,n){var r=e(),o=e(),i=e(),a=e(),s=e(),u=e(),c=e(),f=e(),h=e();z(r,t[1],t[0]),z(h,n[1],n[0]),D(r,r,h),I(o,t[0],t[1]),I(h,n[0],n[1]),D(o,o,h),D(i,t[3],n[3]),D(i,i,l),D(a,t[2],n[2]),I(a,a,a),z(s,o,r),z(u,a,i),I(c,a,i),I(f,o,r),D(t[0],s,u),D(t[1],f,c),D(t[2],c,u),D(t[3],s,f)}function V(t,e,n){var r;for(r=0;r<4;r++)C(t[r],e[r],n)}function Z(t,n){var r=e(),o=e(),i=e();q(i,n[2]),D(r,n[0],i),D(o,n[1],i),R(t,o),t[31]^=U(r)<<7}function tt(t,e,n){var r,o;for(A(t[0],a),A(t[1],s),A(t[2],s),A(t[3],a),o=255;o>=0;--o)V(t,e,r=n[o/8|0]>>(7&o)&1),$(e,t),$(t,t),V(t,e,r)}function et(t,n){var r=[e(),e(),e(),e()];A(r[0],f),A(r[1],h),A(r[2],s),D(r[3],f,h),tt(t,r,n)}function nt(t,n,o){var i,a=new Uint8Array(64),s=[e(),e(),e(),e()];for(o||r(n,32),Q(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64,et(s,a),Z(t,s),i=0;i<32;i++)n[i+32]=t[i];return 0}var rt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ot(t,e){var n,r,o,i;for(r=63;r>=32;--r){for(n=0,o=r-32,i=r-12;o<i;++o)e[o]+=n-16*e[r]*rt[o-(r-32)],n=e[o]+128>>8,e[o]-=256*n;e[o]+=n,e[r]=0}for(n=0,o=0;o<32;o++)e[o]+=n-(e[31]>>4)*rt[o],n=e[o]>>8,e[o]&=255;for(o=0;o<32;o++)e[o]-=n*rt[o];for(r=0;r<32;r++)e[r+1]+=e[r]>>8,t[r]=255&e[r]}function it(t){var e,n=new Float64Array(64);for(e=0;e<64;e++)n[e]=t[e];for(e=0;e<64;e++)t[e]=0;ot(t,n)}function at(t,n,r,o){var i,a,s=new Uint8Array(64),u=new Uint8Array(64),c=new Uint8Array(64),l=new Float64Array(64),f=[e(),e(),e(),e()];Q(s,o,32),s[0]&=248,s[31]&=127,s[31]|=64;var h=r+64;for(i=0;i<r;i++)t[64+i]=n[i];for(i=0;i<32;i++)t[32+i]=s[32+i];for(Q(c,t.subarray(32),r+32),it(c),et(f,c),Z(t,f),i=32;i<64;i++)t[i]=o[i];for(Q(u,t,r+64),it(u),i=0;i<64;i++)l[i]=0;for(i=0;i<32;i++)l[i]=c[i];for(i=0;i<32;i++)for(a=0;a<32;a++)l[i+a]+=u[i]*s[a];return ot(t.subarray(32),l),h}function st(t,n){var r=e(),o=e(),i=e(),u=e(),l=e(),f=e(),h=e();return A(t[2],s),N(t[1],n),B(i,t[1]),D(u,i,c),z(i,i,t[2]),I(u,t[2],u),B(l,u),B(f,l),D(h,f,l),D(r,h,i),D(r,r,u),function(t,n){var r,o=e();for(r=0;r<16;r++)o[r]=n[r];for(r=250;r>=0;r--)B(o,o),1!==r&&D(o,o,n);for(r=0;r<16;r++)t[r]=o[r]}(r,r),D(r,r,i),D(r,r,u),D(r,r,u),D(t[0],r,u),B(o,t[0]),D(o,o,u),L(o,i)&&D(t[0],t[0],p),B(o,t[0]),D(o,o,u),L(o,i)?-1:(U(t[0])===n[31]>>7&&z(t[0],a,t[0]),D(t[3],t[0],t[1]),0)}function ut(t,n,r,o){var i,a=new Uint8Array(32),s=new Uint8Array(64),u=[e(),e(),e(),e()],c=[e(),e(),e(),e()];if(-1,r<64)return-1;if(st(c,o))return-1;for(i=0;i<r;i++)t[i]=n[i];for(i=0;i<32;i++)t[i+32]=o[i];if(Q(s,t,r),it(s),tt(u,c,s),et(c,n.subarray(32)),$(u,c),Z(a,u),r-=64,y(n,0,a,0)){for(i=0;i<r;i++)t[i]=0;return-1}for(i=0;i<r;i++)t[i]=n[i+64];return r}var ct=32,lt=24,ft=32,ht=32,pt=lt;function dt(t,e){if(t.length!==ct)throw new Error("bad key size");if(e.length!==lt)throw new Error("bad nonce size")}function gt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function vt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:b,crypto_stream_xor:S,crypto_stream:E,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:k,crypto_onetimeauth:P,crypto_onetimeauth_verify:M,crypto_verify_16:v,crypto_verify_32:y,crypto_secretbox:j,crypto_secretbox_open:T,crypto_scalarmult:F,crypto_scalarmult_base:G,crypto_box_beforenm:Y,crypto_box_afternm:X,crypto_box:function(t,e,n,r,o,i){var a=new Uint8Array(32);return Y(a,o,i),X(t,e,n,r,a)},crypto_box_open:function(t,e,n,r,o,i){var a=new Uint8Array(32);return Y(a,o,i),J(t,e,n,r,a)},crypto_box_keypair:H,crypto_hash:Q,crypto_sign:at,crypto_sign_keypair:nt,crypto_sign_open:ut,crypto_secretbox_KEYBYTES:ct,crypto_secretbox_NONCEBYTES:lt,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:ft,crypto_box_SECRETKEYBYTES:ht,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:pt,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},t.randomBytes=function(t){var e=new Uint8Array(t);return r(e,t),e},t.secretbox=function(t,e,n){gt(t,e,n),dt(n,e);for(var r=new Uint8Array(32+t.length),o=new Uint8Array(r.length),i=0;i<t.length;i++)r[i+32]=t[i];return j(o,r,r.length,e,n),o.subarray(16)},t.secretbox.open=function(t,e,n){gt(t,e,n),dt(n,e);for(var r=new Uint8Array(16+t.length),o=new Uint8Array(r.length),i=0;i<t.length;i++)r[i+16]=t[i];return r.length<32?null:0!==T(o,r,r.length,e,n)?null:o.subarray(32)},t.secretbox.keyLength=ct,t.secretbox.nonceLength=lt,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(gt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var n=new Uint8Array(32);return F(n,t,e),n},t.scalarMult.base=function(t){if(gt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return G(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,n,r,o){var i=t.box.before(r,o);return t.secretbox(e,n,i)},t.box.before=function(t,e){gt(t,e),function(t,e){if(t.length!==ft)throw new Error("bad public key size");if(e.length!==ht)throw new Error("bad secret key size")}(t,e);var n=new Uint8Array(32);return Y(n,t,e),n},t.box.after=t.secretbox,t.box.open=function(e,n,r,o){var i=t.box.before(r,o);return t.secretbox.open(e,n,i)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(ft),e=new Uint8Array(ht);return H(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(gt(t),t.length!==ht)throw new Error("bad secret key size");var e=new Uint8Array(ft);return G(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=ft,t.box.secretKeyLength=ht,t.box.sharedKeyLength=32,t.box.nonceLength=pt,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(gt(t,e),64!==e.length)throw new Error("bad secret key size");var n=new Uint8Array(64+t.length);return at(n,t,t.length,e),n},t.sign.open=function(t,e){if(gt(t,e),32!==e.length)throw new Error("bad public key size");var n=new Uint8Array(t.length),r=ut(n,t,t.length,e);if(r<0)return null;for(var o=new Uint8Array(r),i=0;i<o.length;i++)o[i]=n[i];return o},t.sign.detached=function(e,n){for(var r=t.sign(e,n),o=new Uint8Array(64),i=0;i<o.length;i++)o[i]=r[i];return o},t.sign.detached.verify=function(t,e,n){if(gt(t,e,n),64!==e.length)throw new Error("bad signature size");if(32!==n.length)throw new Error("bad public key size");var r,o=new Uint8Array(64+t.length),i=new Uint8Array(64+t.length);for(r=0;r<64;r++)o[r]=e[r];for(r=0;r<t.length;r++)o[r+64]=t[r];return ut(i,o,o.length,n)>=0},t.sign.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(64);return nt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(gt(t),64!==t.length)throw new Error("bad secret key size");for(var e=new Uint8Array(32),n=0;n<e.length;n++)e[n]=t[32+n];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(gt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(32),n=new Uint8Array(64),r=0;r<32;r++)n[r]=t[r];return nt(e,n,!0),{publicKey:e,secretKey:n}},t.sign.publicKeyLength=32,t.sign.secretKeyLength=64,t.sign.seedLength=32,t.sign.signatureLength=64,t.hash=function(t){gt(t);var e=new Uint8Array(64);return Q(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return gt(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===g(t,0,e,0,t.length))},t.setPRNG=function(t){r=t},function(){var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){t.setPRNG(function(t,n){var r,o=new Uint8Array(n);for(r=0;r<n;r+=65536)e.getRandomValues(o.subarray(r,r+Math.min(n-r,65536)));for(r=0;r<n;r++)t[r]=o[r];vt(o)})}else(e=n(56))&&e.randomBytes&&t.setPRNG(function(t,n){var r,o=e.randomBytes(n);for(r=0;r<n;r++)t[r]=o[r];vt(o)})}()}(void 0!==t&&t.exports?t.exports:self.nacl=self.nacl||{})},function(t,e){},function(t,e,n){(function(e){!function(e,n){"use strict";void 0!==t&&t.exports?t.exports=n():e.nacl?e.nacl.util=n():(e.nacl={},e.nacl.util=n())}(this,function(){"use strict";var t={};function n(t){if(!/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t))throw new TypeError("invalid encoding")}return t.decodeUTF8=function(t){if("string"!=typeof t)throw new TypeError("expected string");var e,n=unescape(encodeURIComponent(t)),r=new Uint8Array(n.length);for(e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r},t.encodeUTF8=function(t){var e,n=[];for(e=0;e<t.length;e++)n.push(String.fromCharCode(t[e]));return decodeURIComponent(escape(n.join("")))},"undefined"==typeof atob?void 0!==e.from?(t.encodeBase64=function(t){return e.from(t).toString("base64")},t.decodeBase64=function(t){return n(t),new Uint8Array(Array.prototype.slice.call(e.from(t,"base64"),0))}):(t.encodeBase64=function(t){return new e(t).toString("base64")},t.decodeBase64=function(t){return n(t),new Uint8Array(Array.prototype.slice.call(new e(t,"base64"),0))}):(t.encodeBase64=function(t){var e,n=[],r=t.length;for(e=0;e<r;e++)n.push(String.fromCharCode(t[e]));return btoa(n.join(""))},t.decodeBase64=function(t){n(t);var e,r=atob(t),o=new Uint8Array(r.length);for(e=0;e<r.length;e++)o[e]=r.charCodeAt(e);return o}),t})}).call(e,n(58).Buffer)},function(t,e,n){"use strict";var r=n(59),o=n(60),i=n(61);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),o=(t=s(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):h(t,e);if("Buffer"===e.type&&i(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(r)return B(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,o);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,o){var i,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=n;i<s;i++)if(c(t,i)===c(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var f=!0,h=0;h<u;h++)if(c(t,i+h)!==c(e,h)){f=!1;break}if(f)return i}return-1}function m(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function b(t,e,n,r){return F(B(e,t.length-n),t,n,r)}function _(t,e,n,r){return F(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return _(t,e,n,r)}function k(t,e,n,r){return F(q(e),t,n,r)}function E(t,e,n,r){return F(function(t,e){for(var n,r,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,a,s,u,c=t[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=t[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(t){var e=t.length;if(e<=P)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=P));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==window.TYPED_ARRAY_SUPPORT?window.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return M(this,e,n);case"latin1":case"binary":return j(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,o){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(i,a),c=this.slice(r,o),l=t.slice(e,n),f=0;f<s;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function M(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function j(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function T(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=D(t[i]);return o}function A(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function x(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,n,r,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function R(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function L(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function U(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(t,e,n,r,i){return i||U(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function I(t,e,n,r,i){return i||U(t,0,n,8),o.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var o=e-t;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},u.prototype.readUInt8=function(t,e){return e||x(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||x(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||x(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return e||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||x(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||x(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||x(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||x(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||x(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||x(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||C(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||C(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);C(this,t,e,n,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);C(this,t,e,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return I(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return I(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=u.isBuffer(t)?t:B(new u(t,r).toString()),s=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%s]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function D(t){return t<16?"0"+t.toString(16):t.toString(16)}function B(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function q(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function F(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}},function(t,e){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=u(t),i=n[0],a=n[1],s=new o(function(t,e,n){return 3*(e+n)/4-n}(0,i,a)),c=0,l=a>0?i-4:i,f=0;f<l;f+=4)e=r[t.charCodeAt(f)]<<18|r[t.charCodeAt(f+1)]<<12|r[t.charCodeAt(f+2)]<<6|r[t.charCodeAt(f+3)],s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;2===a&&(e=r[t.charCodeAt(f)]<<2|r[t.charCodeAt(f+1)]>>4,s[c++]=255&e);1===a&&(e=r[t.charCodeAt(f)]<<10|r[t.charCodeAt(f+1)]<<4|r[t.charCodeAt(f+2)]>>2,s[c++]=e>>8&255,s[c++]=255&e);return s},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,i=[],a=0,s=r-o;a<s;a+=16383)i.push(c(t,a,a+16383>s?s:a+16383));1===o?(e=t[r-1],i.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],i.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=i.length;a<s;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,r){for(var o,i,a=[],s=e;s<r;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?o-1:0,h=n?-1:1,p=t[e+f];for(f+=h,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+t[e+f],f+=h,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+p]=255&s,p+=d,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=n(24),i=n(12),a=n(8),s=n(9),u=n(2),c=function(t){function e(e,n){var r=this;t.call(this),this.key=e,this.options=n||{},this.state="initialized",this.connection=null,this.usingTLS=!!n.useTLS,this.timeline=this.options.timeline,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var o=u.default.getNetwork();o.bind("online",function(){r.timeline.info({netinfo:"online"}),"connecting"!==r.state&&"unavailable"!==r.state||r.retryIn(0)}),o.bind("offline",function(){r.timeline.info({netinfo:"offline"}),r.connection&&r.sendActivityCheck()}),this.updateStrategy()}return r(e,t),e.prototype.connect=function(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},e.prototype.send=function(t){return!!this.connection&&this.connection.send(t)},e.prototype.send_event=function(t,e,n){return!!this.connection&&this.connection.send_event(t,e,n)},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isUsingTLS=function(){return this.usingTLS},e.prototype.startConnecting=function(){var t=this,e=function(n,r){n?t.runner=t.strategy.connect(0,e):"error"===r.action?(t.emit("error",{type:"HandshakeError",error:r.error}),t.timeline.error({handshakeError:r.error})):(t.abortConnecting(),t.handshakeCallbacks[r.action](r))};this.runner=this.strategy.connect(0,e)},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection)&&this.abandonConnection().close()},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},e.prototype.retryIn=function(t){var e=this;this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new i.OneOffTimer(t||0,function(){e.disconnectInternally(),e.connect()})},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var t=this;this.unavailableTimer=new i.OneOffTimer(this.options.unavailableTimeout,function(){t.updateState("unavailable")})},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new i.OneOffTimer(this.options.pongTimeout,function(){t.timeline.error({pong_timed_out:t.options.pongTimeout}),t.retryIn(0)})},e.prototype.resetActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new i.OneOffTimer(this.activityTimeout,function(){t.sendActivityCheck()}))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(t){var e=this;return s.extend({},t,{message:function(t){e.resetActivityCheck(),e.emit("message",t)},ping:function(){e.send_event("pusher:pong",{})},activity:function(){e.resetActivityCheck()},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(){e.abandonConnection(),e.shouldRetry()&&e.retryIn(1e3)}})},e.prototype.buildHandshakeCallbacks=function(t){var e=this;return s.extend({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected",{socket_id:e.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var t=this,e=function(e){return function(n){n.error&&t.emit("error",{type:"WebSocketError",error:n.error}),e(n)}};return{tls_only:e(function(){t.usingTLS=!0,t.updateStrategy(),t.retryIn(0)}),refused:e(function(){t.disconnect()}),backoff:e(function(){t.retryIn(1e3)}),retry:e(function(){t.retryIn(0)})}},e.prototype.setConnection=function(t){for(var e in this.connection=t,this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(this.connection){for(var t in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}},e.prototype.updateState=function(t,e){var n=this.state;if(this.state=t,n!==t){var r=t;"connected"===r&&(r+=" with new socket ID "+e.socket_id),a.default.debug("State changed",n+" -> "+r),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:n,current:t}),this.emit(t,e)}},e.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},e}(o.default);e.__esModule=!0,e.default=c},function(t,e,n){"use strict";var r=n(9),o=n(43),i=n(31),a=function(){function t(){this.channels={}}return t.prototype.add=function(t,e){return this.channels[t]||(this.channels[t]=function(t,e){if(0===t.indexOf("private-encrypted-")){if("ReactNative"==navigator.product){throw new i.UnsupportedFeature("Encrypted channels are not yet supported when using React Native builds.")}return o.default.createEncryptedChannel(t,e)}return 0===t.indexOf("private-")?o.default.createPrivateChannel(t,e):0===t.indexOf("presence-")?o.default.createPresenceChannel(t,e):o.default.createChannel(t,e)}(t,e)),this.channels[t]},t.prototype.all=function(){return r.values(this.channels)},t.prototype.find=function(t){return this.channels[t]},t.prototype.remove=function(t){var e=this.channels[t];return delete this.channels[t],e},t.prototype.disconnect=function(){r.objectApply(this.channels,function(t){t.disconnect()})},t}();e.__esModule=!0,e.default=a},function(t,e,n){"use strict";var r=n(43),o=n(11),i=n(31),a=n(9),s=function(){function t(t,e,n,r){this.name=t,this.priority=e,this.transport=n,this.options=r||{}}return t.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},t.prototype.connect=function(t,e){var n=this;if(!this.isSupported())return u(new i.UnsupportedStrategy,e);if(this.priority<t)return u(new i.TransportPriorityTooLow,e);var o=!1,s=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),c=null,l=function(){s.unbind("initialized",l),s.connect()},f=function(){c=r.default.createHandshake(s,function(t){o=!0,d(),e(null,t)})},h=function(t){d(),e(t)},p=function(){var t;d(),t=a.safeJSONStringify(s),e(new i.TransportClosed(t))},d=function(){s.unbind("initialized",l),s.unbind("open",f),s.unbind("error",h),s.unbind("closed",p)};return s.bind("initialized",l),s.bind("open",f),s.bind("error",h),s.bind("closed",p),s.initialize(),{abort:function(){o||(d(),c?c.close():s.close())},forceMinPriority:function(t){o||n.priority<t&&(c?c.close():s.close())}}},t}();function u(t,e){return o.default.defer(function(){e(t)}),{abort:function(){},forceMinPriority:function(){}}}e.__esModule=!0,e.default=s},function(t,e,n){"use strict";var r=n(9),o=n(11),i=n(12),a=function(){function t(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}return t.prototype.isSupported=function(){return r.any(this.strategies,o.default.method("isSupported"))},t.prototype.connect=function(t,e){var n=this,r=this.strategies,o=0,i=this.timeout,a=null,s=function(u,c){c?e(null,c):(o+=1,n.loop&&(o%=r.length),o<r.length?(i&&(i*=2,n.timeoutLimit&&(i=Math.min(i,n.timeoutLimit))),a=n.tryStrategy(r[o],t,{timeout:i,failFast:n.failFast},s)):e(!0))};return a=this.tryStrategy(r[o],t,{timeout:i,failFast:this.failFast},s),{abort:function(){a.abort()},forceMinPriority:function(e){t=e,a&&a.forceMinPriority(e)}}},t.prototype.tryStrategy=function(t,e,n,r){var o=null,a=null;return n.timeout>0&&(o=new i.OneOffTimer(n.timeout,function(){a.abort(),r(!0)})),a=t.connect(e,function(t,e){t&&o&&o.isRunning()&&!n.failFast||(o&&o.ensureAborted(),r(t,e))}),{abort:function(){o&&o.ensureAborted(),a.abort()},forceMinPriority:function(t){a.forceMinPriority(t)}}},t}();e.__esModule=!0,e.default=a},function(t,e,n){"use strict";var r=n(9),o=n(11),i=function(){function t(t){this.strategies=t}return t.prototype.isSupported=function(){return r.any(this.strategies,o.default.method("isSupported"))},t.prototype.connect=function(t,e){return function(t,e,n){var o=r.map(t,function(t,r,o,i){return t.connect(e,n(r,i))});return{abort:function(){r.apply(o,a)},forceMinPriority:function(t){r.apply(o,function(e){e.forceMinPriority(t)})}}}(this.strategies,t,function(t,n){return function(o,i){n[t].error=o,o?function(t){return r.all(t,function(t){return Boolean(t.error)})}(n)&&e(!0):(r.apply(n,function(t){t.forceMinPriority(i.transport.priority)}),e(null,i))}})},t}();function a(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=n(11),o=n(2),i=n(65),a=n(9),s=function(){function t(t,e,n){this.strategy=t,this.transports=e,this.ttl=n.ttl||18e5,this.usingTLS=n.useTLS,this.timeline=n.timeline}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.usingTLS,s=function(t){var e=o.default.getLocalStorage();if(e)try{var n=e[u(t)];if(n)return JSON.parse(n)}catch(r){c(t)}return null}(n),l=[this.strategy];if(s&&s.timestamp+this.ttl>=r.default.now()){var f=this.transports[s.transport];f&&(this.timeline.info({cached:!0,transport:s.transport,latency:s.latency}),l.push(new i.default([f],{timeout:2*s.latency+1e3,failFast:!0})))}var h=r.default.now(),p=l.pop().connect(t,function i(s,f){s?(c(n),l.length>0?(h=r.default.now(),p=l.pop().connect(t,i)):e(s)):(!function(t,e,n){var i=o.default.getLocalStorage();if(i)try{i[u(t)]=a.safeJSONStringify({timestamp:r.default.now(),transport:e,latency:n})}catch(s){}}(n,f.transport.name,r.default.now()-h),e(null,f))});return{abort:function(){p.abort()},forceMinPriority:function(e){t=e,p&&p.forceMinPriority(e)}}},t}();function u(t){return"pusherTransport"+(t?"TLS":"NonTLS")}function c(t){var e=o.default.getLocalStorage();if(e)try{delete e[u(t)]}catch(n){}}e.__esModule=!0,e.default=s},function(t,e,n){"use strict";var r=n(12),o=function(){function t(t,e){var n=e.delay;this.strategy=t,this.options={delay:n}}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n,o=this.strategy,i=new r.OneOffTimer(this.options.delay,function(){n=o.connect(t,e)});return{abort:function(){i.ensureAborted(),n&&n.abort()},forceMinPriority:function(e){t=e,n&&n.forceMinPriority(e)}}},t}();e.__esModule=!0,e.default=o},function(t,e){"use strict";var n=function(){function t(t,e,n){this.test=t,this.trueBranch=e,this.falseBranch=n}return t.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},t.prototype.connect=function(t,e){return(this.test()?this.trueBranch:this.falseBranch).connect(t,e)},t}();e.__esModule=!0,e.default=n},function(t,e){"use strict";var n=function(){function t(t){this.strategy=t}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.strategy.connect(t,function(t,r){r&&n.abort(),e(t,r)});return n},t}();e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var r=n(5);e.getGlobalConfig=function(){return{wsHost:r.default.host,wsPort:r.default.ws_port,wssPort:r.default.wss_port,wsPath:r.default.ws_path,httpHost:r.default.sockjs_host,httpPort:r.default.sockjs_http_port,httpsPort:r.default.sockjs_https_port,httpPath:r.default.sockjs_path,statsHost:r.default.stats_host,authEndpoint:r.default.channel_auth_endpoint,authTransport:r.default.channel_auth_transport,activity_timeout:r.default.activity_timeout,pong_timeout:r.default.pong_timeout,unavailable_timeout:r.default.unavailable_timeout}},e.getClusterConfig=function(t){return{wsHost:"ws-"+t+".pusher.com",httpHost:"sockjs-"+t+".pusher.com"}}}])},t.exports=r()},256:function(t,e,n){var r=n(214),o=n(215),i=n(213),a=new r(o.talkHost,{"Content-Type":"application/json",Accept:"application/json"});a.params=i.params,a.headers=i.headers,a.handleError=i.handleError,a.beforeEveryRequest=i.beforeEveryRequest,t.exports=a},257:function(t,e,n){var r=n(25),o=n(36);n(258)("keys",function(){return function(t){return o(r(t))}})},258:function(t,e,n){var r=n(11),o=n(19),i=n(18);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},259:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(260);Object.defineProperty(e,"ComposableMap",{enumerable:!0,get:function(){return v(r).default}});var o=n(262);Object.defineProperty(e,"ZoomableGroup",{enumerable:!0,get:function(){return v(o).default}});var i=n(263);Object.defineProperty(e,"ZoomableGlobe",{enumerable:!0,get:function(){return v(i).default}});var a=n(264);Object.defineProperty(e,"Geographies",{enumerable:!0,get:function(){return v(a).default}});var s=n(265);Object.defineProperty(e,"Geography",{enumerable:!0,get:function(){return v(s).default}});var u=n(266);Object.defineProperty(e,"Marker",{enumerable:!0,get:function(){return v(u).default}});var c=n(267);Object.defineProperty(e,"Markers",{enumerable:!0,get:function(){return v(c).default}});var l=n(268);Object.defineProperty(e,"Line",{enumerable:!0,get:function(){return v(l).default}});var f=n(269);Object.defineProperty(e,"Lines",{enumerable:!0,get:function(){return v(f).default}});var h=n(216);Object.defineProperty(e,"MapGroup",{enumerable:!0,get:function(){return v(h).default}});var p=n(270);Object.defineProperty(e,"Annotation",{enumerable:!0,get:function(){return v(p).default}});var d=n(271);Object.defineProperty(e,"Annotations",{enumerable:!0,get:function(){return v(d).default}});var g=n(272);function v(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Graticule",{enumerable:!0,get:function(){return v(g).default}})},260:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),i=u(o),a=u(n(261)),s=u(n(226));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.projection=t.projection.bind(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Component),r(e,[{key:"projection",value:function(){var t=this.props,e=t.projection,n=t.projectionConfig,r=t.width,o=t.height;return"function"!=typeof e?(0,a.default)(r,o,n,e):e(r,o,n)}},{key:"render",value:function(){var t=this.props,e=t.width,n=t.height,r=t.style,o=t.className,a=t.showCenter,s=(t.children,t.aspectRatio),u=t.viewBox,c=t.defs;return i.default.createElement("svg",{width:e,height:n,viewBox:u||"0 0 "+e+" "+n,className:"rsm-svg "+(o||""),style:r,preserveAspectRatio:s},c&&i.default.createElement("defs",null,c),i.default.cloneElement(this.props.children,{projection:this.projection(),width:e,height:n}),a&&i.default.createElement("g",null,i.default.createElement("rect",{x:e/2-.5,y:0,width:1,height:n,fill:"#e91e63"}),i.default.createElement("rect",{x:0,y:n/2-.5,width:e,height:1,fill:"#e91e63"})))}}]),e}();c.defaultProps={width:800,height:450,projection:"times",projectionConfig:s.default,aspectRatio:"xMidYMid",viewBox:null},e.default=c},261:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r){var o=n.scale||s.default.scale,i=n.xOffset||s.default.xOffset,a=n.yOffset||s.default.yOffset,c=n.rotation||s.default.rotation,l=n.precision||s.default.precision,f=u[r]().scale(o).translate([i+t/2,a+e/2]).precision(l);return"albersUsa"===r?f:"orthographic"===r?f.rotate(c).clipAngle(90):f.rotate(c)};var r,o=n(282),i=n(199),a=n(226),s=(r=a)&&r.__esModule?r:{default:r};var u={mercator:i.geoMercator,miller:o.geoMiller,times:o.geoTimes,robinson:o.geoRobinson,winkel3:o.geoWinkel3,eckert4:o.geoEckert4,albersUsa:i.geoAlbersUsa,orthographic:i.geoOrthographic}},262:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s=(n(199),n(210));var u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=(0,s.computeBackdrop)(t.projection,t.backdrop);return n.state={mouseX:(0,s.calculateMousePosition)("x",t.projection,t,t.zoom,1),mouseY:(0,s.calculateMousePosition)("y",t.projection,t,t.zoom,1),mouseXStart:0,mouseYStart:0,isPressed:!1,resizeFactorX:1,resizeFactorY:1,backdrop:{width:Math.round(r.width),height:Math.round(r.height),x:Math.round(r.x),y:Math.round(r.y)}},n.handleMouseMove=n.handleMouseMove.bind(n),n.handleMouseUp=n.handleMouseUp.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.handleResize=n.handleResize.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),o(e,[{key:"handleMouseMove",value:function(t){var e=t.pageX,n=t.pageY;this.props.disablePanning||this.state.isPressed&&this.setState({mouseX:e-this.state.mouseXStart,mouseY:n-this.state.mouseYStart})}},{key:"handleTouchMove",value:function(t){var e=t.touches;this.handleMouseMove(e[0])}},{key:"handleMouseUp",value:function(){if(!this.props.disablePanning&&this.state.isPressed&&(this.setState({isPressed:!1}),this.props.onMoveEnd)){var t=this.state,e=t.mouseX,n=t.mouseY,r=t.resizeFactorX,o=t.resizeFactorY,i=this.props,a=i.zoom,s=i.width,u=i.height,c=i.projection,l=s/2-e*r/a,f=u/2-n*o/a;(0,i.onMoveEnd)(c.invert([l,f]))}}},{key:"handleMouseDown",value:function(t){var e=t.pageX,n=t.pageY;if(!this.props.disablePanning){var r=this.state,o=r.mouseX,i=r.mouseY,a=r.resizeFactorX,s=r.resizeFactorY,u=this.props,c=u.zoom,l=u.width,f=u.height,h=u.projection,p=u.onMoveStart;if(this.setState({isPressed:!0,mouseXStart:e-o,mouseYStart:n-i}),p){var d=l/2-o*a/c,g=f/2-i*s/c;p(h.invert([d,g]))}}}},{key:"handleTouchStart",value:function(t){var e=t.touches;e.length>1?this.handleMouseDown(e[0]):this.handleMouseUp()}},{key:"preventTouchScroll",value:function(t){t.touches.length>1&&t.preventDefault()}},{key:"componentWillReceiveProps",value:function(t){var e=this.state,n=e.mouseX,r=e.mouseY,o=e.resizeFactorX,i=e.resizeFactorY,a=this.props,u=(a.projection,a.center),c=a.zoom,l=t.zoom/c,f=JSON.stringify(t.center)!==JSON.stringify(u);this.setState({zoom:t.zoom,mouseX:f?(0,s.calculateMousePosition)("x",t.projection,t,t.zoom,o):n*l,mouseY:f?(0,s.calculateMousePosition)("y",t.projection,t,t.zoom,i):r*l})}},{key:"handleResize",value:function(){var t=this.props,e=t.width,n=t.height,r=(t.projection,t.zoom,(0,s.calculateResizeFactor)(this.zoomableGroupNode.parentNode.getBoundingClientRect().width,e)),o=(0,s.calculateResizeFactor)(this.zoomableGroupNode.parentNode.getBoundingClientRect().height,n),i=1/r*this.state.resizeFactorX,a=1/o*this.state.resizeFactorY;this.setState({resizeFactorX:r,resizeFactorY:o,mouseX:this.state.mouseX*i,mouseY:this.state.mouseY*a})}},{key:"componentDidMount",value:function(){var t=this.props,e=t.width,n=t.height,r=t.projection,o=t.zoom,i=(0,s.calculateResizeFactor)(this.zoomableGroupNode.parentNode.getBoundingClientRect().width,e),a=(0,s.calculateResizeFactor)(this.zoomableGroupNode.parentNode.getBoundingClientRect().height,n);this.setState({resizeFactorX:i,resizeFactorY:a,mouseX:(0,s.calculateMousePosition)("x",r,this.props,o,i),mouseY:(0,s.calculateMousePosition)("y",r,this.props,o,a)}),window.addEventListener("resize",this.handleResize),window.addEventListener("mouseup",this.handleMouseUp),this.zoomableGroupNode.addEventListener("touchmove",this.preventTouchScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),window.removeEventListener("mouseup",this.handleMouseUp),this.zoomableGroupNode.removeEventListener("touchmove",this.preventTouchScroll)}},{key:"render",value:function(){var t=this,e=this.props,n=e.width,r=e.height,o=e.zoom,i=e.style,u=(e.projection,e.children),c=this.state,l=c.mouseX,f=c.mouseY,h=c.resizeFactorX,p=c.resizeFactorY;return a.default.createElement("g",{className:"rsm-zoomable-group",ref:function(e){return t.zoomableGroupNode=e},transform:"\n           translate(\n             "+Math.round(100*(n/2+h*l))/100+"\n             "+Math.round(100*(r/2+p*f))/100+"\n           )\n           scale("+o+")\n           translate("+-n/2+" "+-r/2+")\n         ",onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleMouseUp,style:i},a.default.createElement("rect",{x:this.state.backdrop.x,y:this.state.backdrop.y,width:this.state.backdrop.width,height:this.state.backdrop.height,fill:"transparent",style:{strokeWidth:0}}),(0,s.createNewChildren)(u,this.props))}}]),e}();u.defaultProps={center:[0,0],backdrop:{x:[-179.9,179.9],y:[89.9,-89.9]},zoom:1,disablePanning:!1},e.default=u},263:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s=(n(199),n(210));var u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=t.projection.rotate();return n.state={mouseX:0,mouseY:0,mouseXStart:0,mouseYStart:0,isPressed:!1,rotation:[r[0]-t.center[0],r[1]-t.center[1],r[2]]},n.handleMouseMove=n.handleMouseMove.bind(n),n.handleMouseUp=n.handleMouseUp.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),o(e,[{key:"handleMouseMove",value:function(t){t.pageX,t.pageY;var e=t.clientX,n=t.clientY;if(!this.props.disablePanning&&this.state.isPressed){var r=e-this.state.mouseXStart,o=n-this.state.mouseYStart;this.setState({mouseX:e,mouseY:n,mouseXStart:e,mouseYStart:n,rotation:[this.state.rotation[0]+r*this.props.sensitivity,this.state.rotation[1]-o*this.props.sensitivity,this.state.rotation[2]]})}}},{key:"handleTouchMove",value:function(t){var e=t.touches;this.handleMouseMove(e[0])}},{key:"handleMouseUp",value:function(){if(!this.props.disablePanning&&this.state.isPressed&&(this.setState({isPressed:!1}),this.props.onMoveEnd)){var t=this.props.projection.invert([this.props.width/2,this.props.height/2]);this.props.onMoveEnd(t)}}},{key:"handleMouseDown",value:function(t){t.pageX,t.pageY;var e=t.clientX,n=t.clientY;if(!this.props.disablePanning&&(this.setState({isPressed:!0,mouseXStart:e,mouseYStart:n}),this.props.onMoveStart)){var r=this.props.projection.invert([this.props.width/2,this.props.height/2]);this.props.onMoveStart(r)}}},{key:"handleTouchStart",value:function(t){var e=t.touches;e.length>1?this.handleMouseDown(e[0]):this.handleMouseUp()}},{key:"preventTouchScroll",value:function(t){t.touches.length>1&&t.preventDefault()}},{key:"componentWillReceiveProps",value:function(t){var e=this.state,n=(e.mouseX,e.mouseY,this.props),r=(n.projection,n.center),o=n.zoom,i=(t.zoom,JSON.stringify(t.center)!==JSON.stringify(r));this.setState({zoom:t.zoom,rotation:i?[-t.center[0],-t.center[1],this.state.rotation[2]]:this.state.rotation})}},{key:"componentDidMount",value:function(){var t=this.props;t.width,t.height,t.projection,t.zoom;window.addEventListener("resize",this.handleResize),window.addEventListener("mouseup",this.handleMouseUp),this.zoomableGlobeNode.addEventListener("touchmove",this.preventTouchScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),window.removeEventListener("mouseup",this.handleMouseUp),this.zoomableGlobeNode.removeEventListener("touchmove",this.preventTouchScroll)}},{key:"render",value:function(){var t=this,e=this.props,n=e.width,r=e.height,o=e.zoom,i=e.style,u=e.projection,c=e.children,l=this.state;l.mouseX,l.mouseY;return a.default.createElement("g",{className:"rsm-zoomable-globe",ref:function(e){return t.zoomableGlobeNode=e},transform:"\n           translate("+n/2+" "+r/2+")\n           scale("+o+")\n           translate("+-n/2+" "+-r/2+")\n         ",onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleMouseUp,style:i},(0,s.createNewChildren)(c,{width:n,height:r,center:this.center,backdrop:this.backdrop,zoom:this.props.zoom,disablePanning:this.props.disablePanning,children:c,projection:u.rotate(this.state.rotation)}))}}]),e}();u.defaultProps={center:[0,0],zoom:1,disablePanning:!1,sensitivity:.25},e.default=u},264:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s=n(283);var u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={geographyPaths:n.shouldFetchGeographies(t.geography)?[]:n.parseGeographies(t.geography)},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),o(e,[{key:"componentWillReceiveProps",value:function(t){t.geography!==this.props.geography&&(this.shouldFetchGeographies(t.geography)?this.fetchGeographies(t.geography):this.setState({geographyPaths:this.parseGeographies(t.geography)}))}},{key:"shouldComponentUpdate",value:function(t,e){return e.geographyPaths.length!==this.state.geographyPaths.length||t.disableOptimization}},{key:"componentDidMount",value:function(){(this.props.geographyUrl||this.props.geographyPaths)&&console.warn("You are using the deprecated geographyUrl or geographyPaths props. Use the new geography prop instead. Check out the new docs here: https://github.com/zcreativelabs/react-simple-maps#Geographies-component"),this.shouldFetchGeographies(this.props.geography)&&this.fetchGeographies(this.props.geography)}},{key:"componentWillUnmount",value:function(){this.cancelPendingRequest()}},{key:"render",value:function(){var t=this.props,e=t.projection,n=t.style,r=t.children;return a.default.createElement("g",{className:"rsm-geographies",style:n},r(this.state.geographyPaths||[],e))}},{key:"shouldFetchGeographies",value:function(t){return"string"==typeof t}},{key:"parseGeographies",value:function(t){return Array.isArray(t)?t:"[object Object]"===Object.prototype.toString.call(t)?(0,s.feature)(t,t.objects[Object.keys(t.objects)[0]]).features:[]}},{key:"fetchGeographies",value:function(t){var e=this,n=new XMLHttpRequest;n.open("GET",t,!0),n.onload=function(){if(n.status>=200&&n.status<400){var t=JSON.parse(n.responseText);e.setState({geographyPaths:e.parseGeographies(t)},function(){e.props.onGeographyPathsLoaded&&e.props.onGeographyPathsLoaded(String(n.status))})}else e.props.onGeographyPathsLoaded&&e.props.onGeographyPathsLoaded(String(n.status))},n.onerror=function(){console.log("There was a connection error...")},n.send(),this.cancelPendingRequest(),this._xhr=n}},{key:"cancelPendingRequest",value:function(){this._xhr&&(this._xhr.abort(),this._xhr=null)}}]),e}();u.defaultProps={componentIdentifier:"Geographies",disableOptimization:!1,geography:""},e.default=u},265:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(0),s=(r=a)&&r.__esModule?r:{default:r},u=n(199),c=n(210);var l={},f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.state={hover:!1,pressed:!1},t.handleMouseEnter=t.handleMouseEnter.bind(t),t.handleMouseMove=t.handleMouseMove.bind(t),t.handleMouseLeave=t.handleMouseLeave.bind(t),t.handleMouseDown=t.handleMouseDown.bind(t),t.handleMouseUp=t.handleMouseUp.bind(t),t.handleMouseClick=t.handleMouseClick.bind(t),t.handleFocus=t.handleFocus.bind(t),t.handleBlur=t.handleBlur.bind(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Component),i(e,[{key:"handleMouseClick",value:function(t){t.persist();var e=this.props,n=e.onClick,r=e.geography;return n&&n(r,t)}},{key:"handleMouseEnter",value:function(t){t.persist();var e=this.props,n=e.onMouseEnter,r=e.geography;this.setState({hover:!0},function(){return n&&n(r,t)})}},{key:"handleMouseMove",value:function(t){if(t.persist(),!this.state.pressed){var e=this.props,n=e.onMouseMove,r=e.geography;if(this.state.hover){if(!n)return;n(r,t)}else this.setState({hover:!0},function(){return n&&n(r,t)})}}},{key:"handleMouseLeave",value:function(t){t.persist();var e=this.props,n=e.onMouseLeave,r=e.geography;this.setState({hover:!1,pressed:!1},function(){return n&&n(r,t)})}},{key:"handleMouseDown",value:function(t){t.persist();var e=this.props,n=e.onMouseDown,r=e.geography;this.setState({pressed:!0},function(){return n&&n(r,t)})}},{key:"handleMouseUp",value:function(t){t.persist();var e=this.props,n=e.onMouseUp,r=e.geography;this.setState({pressed:!1},function(){return n&&n(r,t)})}},{key:"handleFocus",value:function(t){t.persist();var e=this.props,n=e.onFocus,r=e.geography;this.setState({hover:!0},function(){return n&&n(r,t)})}},{key:"handleBlur",value:function(t){t.persist();var e=this.props,n=e.onBlur,r=e.geography;this.setState({hover:!1},function(){return n&&n(r,t)})}},{key:"render",value:function(){var t=this,e=this.props,n=e.geography,r=e.projection,i=e.round,a=e.cacheId,f=e.precision,h=e.tabable,p=e.style,d=this.state,g=d.hover,v=d.pressed,y=function(t,e,n,r,o){if(l[t])return l[t];var i=t&&l[t]?l[t]:r?(0,c.roundPath)((0,u.geoPath)().projection(n)(e),o):(0,u.geoPath)().projection(n)(e);return t&&(l[t]=i),i}(a,n,r,i,f),m=["geography","projection","round","cacheId","precision","tabable","style","onClick","onMouseEnter","onMouseMove","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur"],b=Object.keys(this.props).filter(function(t){return-1===m.indexOf(t)}).reduce(function(e,n){return e[n]=t.props[n],e},{});return s.default.createElement("path",o({d:y,className:"rsm-geography"+(v?" rsm-geography--pressed":"")+(g?" rsm-geography--hover":""),style:p[v||g?v?"pressed":"hover":"default"],onClick:this.handleMouseClick,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:h?0:-1},b))}}]),e}();f.defaultProps={precision:.1,cacheId:null,round:!1,tabable:!0,style:{default:{},hover:{},pressed:{}}},e.default=f},266:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s=n(199);var u=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.state={hover:!1,pressed:!1},t.handleMouseEnter=t.handleMouseEnter.bind(t),t.handleMouseLeave=t.handleMouseLeave.bind(t),t.handleMouseDown=t.handleMouseDown.bind(t),t.handleMouseUp=t.handleMouseUp.bind(t),t.handleMouseClick=t.handleMouseClick.bind(t),t.handleMouseMove=t.handleMouseMove.bind(t),t.handleFocus=t.handleFocus.bind(t),t.handleBlur=t.handleBlur.bind(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),o(e,[{key:"handleMouseEnter",value:function(t){t.persist();var e=this.props,n=e.onMouseEnter,r=e.marker;this.setState({hover:!0},function(){return n&&n(r,t)})}},{key:"handleMouseMove",value:function(t){if(t.persist(),!this.state.pressed){var e=this.props,n=e.onMouseMove,r=e.marker;if(this.state.hover){if(!n)return;n(r,t)}else this.setState({hover:!0},function(){return n&&n(r,t)})}}},{key:"handleMouseLeave",value:function(t){t.persist();var e=this.props,n=e.onMouseLeave,r=e.marker;this.setState({hover:!1},function(){return n&&n(r,t)})}},{key:"handleMouseDown",value:function(t){t.persist();var e=this.props,n=e.onMouseDown,r=e.marker;this.setState({pressed:!0},function(){return n&&n(r,t)})}},{key:"handleMouseUp",value:function(t){t.persist();var e=this.props,n=e.onMouseUp,r=e.marker;this.setState({pressed:!1},function(){return n&&n(r,t)})}},{key:"handleMouseClick",value:function(t){if(this.props.onClick){t.persist();var e=this.props,n=e.onClick,r=e.marker,o=e.projection;return n&&n(r,o(r.coordinates),t)}}},{key:"handleFocus",value:function(t){t.persist();var e=this.props,n=e.onFocus,r=e.marker;this.setState({hover:!0},function(){return n&&n(r,t)})}},{key:"handleBlur",value:function(t){t.persist();var e=this.props,n=e.onBlur,r=e.marker;this.setState({hover:!1},function(){return n&&n(r,t)})}},{key:"render",value:function(){var t=this.props,e=t.projection,n=t.marker,r=t.style,o=t.tabable,i=t.zoom,u=t.children,c=t.preserveMarkerAspect,l=t.width,f=t.height,h=this.state,p=h.pressed,d=h.hover,g=c?" scale("+1/i+")":"",v=e(n.coordinates),y={type:"Feature",geometry:{type:"LineString",coordinates:[e.invert([l/2,f/2]),n.coordinates]}},m=Math.PI/2,b=e.clipAngle&&90===e.clipAngle()&&(0,s.geoLength)(y)>m;return a.default.createElement("g",{className:"rsm-marker"+(p?" rsm-marker--pressed":"")+(d?" rsm-marker--hover":""),transform:"translate(\n           "+v[0]+"\n           "+v[1]+"\n         ) "+g,style:r[b?"hidden":p||d?p?"pressed":"hover":"default"],onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleMouseClick,onMouseMove:this.handleMouseMove,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:o?0:-1},u)}}]),e}();u.defaultProps={style:{default:{},hover:{},pressed:{}},marker:{coordinates:[0,0]},tabable:!0,preserveMarkerAspect:!0},e.default=u},267:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=a(n(0)),i=a(n(216));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){var e=t.groupName,n=t.itemName,a=(t.componentIdentifier,function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["groupName","itemName","componentIdentifier"]));return o.default.createElement(i.default,r({groupName:e,itemName:n},a))};s.defaultProps={componentIdentifier:"Markers",groupName:"markers",itemName:"marker"},e.default=s},268:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s=n(199);var u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={hover:!1,pressed:!1},n.handleMouseEnter=n.handleMouseEnter.bind(n),n.handleMouseLeave=n.handleMouseLeave.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseUp=n.handleMouseUp.bind(n),n.handleMouseClick=n.handleMouseClick.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),o(e,[{key:"handleMouseEnter",value:function(t){t.persist();var e=this.props,n=e.onMouseEnter,r=e.line;this.setState({hover:!0},function(){return n&&n(r,t)})}},{key:"handleMouseMove",value:function(t){if(t.persist(),!this.state.pressed){var e=this.props,n=e.onMouseMove,r=e.line;if(this.state.hover){if(!n)return;n(r,t)}else this.setState({hover:!0},function(){return n&&n(r,t)})}}},{key:"handleMouseLeave",value:function(t){t.persist();var e=this.props,n=e.onMouseLeave,r=e.line;this.setState({hover:!1},function(){return n&&n(r,t)})}},{key:"handleMouseDown",value:function(t){t.persist();var e=this.props,n=e.onMouseDown,r=e.line;this.setState({pressed:!0},function(){return n&&n(r,t)})}},{key:"handleMouseUp",value:function(t){t.persist();var e=this.props,n=e.onMouseUp,r=e.line;this.setState({pressed:!1},function(){return n&&n(r,t)})}},{key:"handleMouseClick",value:function(t){if(this.props.onClick){t.persist();var e=this.props,n=e.onClick,r=e.line,o=e.projection;return n&&n(r,[o(r.coordinates.start),o(r.coordinates.end)],t)}}},{key:"handleFocus",value:function(t){t.persist();var e=this.props,n=e.onFocus,r=e.line;this.setState({hover:!0},function(){return n&&n(r,t)})}},{key:"handleBlur",value:function(t){t.persist();var e=this.props,n=e.onBlur,r=e.line;this.setState({hover:!1},function(){return n&&n(r,t)})}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.projection,r=t.line,o=t.style,i=t.tabable,u=t.zoom,c=t.preserveMarkerAspect,l=t.width,f=t.height,h=t.buildPath,p=t.strokeWidth,d=this.state,g=d.pressed,v=d.hover,y=c?" scale("+1/u+")":"",m=function(t){return{type:"Feature",geometry:{type:"LineString",coordinates:[n.invert([l/2,f/2]),t]}}},b=m(r.coordinates.start),_=m(r.coordinates.end),w=Math.PI/2,k=n.clipAngle&&90===n.clipAngle()&&((0,s.geoLength)(b)>w||(0,s.geoLength)(_)>w),E=n(r.coordinates.start),S=n(r.coordinates.end),O=h?h(E,S,r):"M "+E.join(" ")+" L "+S.join(" ");return a.default.createElement("path",{className:"rsm-line"+(g?" rsm-line--pressed":"")+(v?" rsm-line--hover":"")+" "+e,transform:""+y,style:o[k?"hidden":g||v?g?"pressed":"hover":"default"],onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleMouseClick,onMouseMove:this.handleMouseMove,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:i?0:-1,d:O,strokeWidth:p})}}]),e}();u.defaultProps={style:{default:{},hover:{},pressed:{}},line:{coordinates:{start:[0,0],end:[-99.1,19.4]}},tabable:!0,preserveMarkerAspect:!0,strokeWidth:1,className:""},e.default=u},269:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=a(n(0)),i=a(n(216));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){var e=t.groupName,n=t.itemName,a=(t.componentIdentifier,function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["groupName","itemName","componentIdentifier"]));return o.default.createElement(i.default,r({groupName:e,itemName:n},a))};s.defaultProps={componentIdentifier:"Lines",groupName:"lines",itemName:"line"},e.default=s},270:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(0),s=(r=a)&&r.__esModule?r:{default:r},u=n(199),c=n(210);var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Component),i(e,[{key:"render",value:function(){var t=this.props,e=t.projection,n=t.subject,r=t.style,i=t.hiddenStyle,a=t.dx,l=t.dy,f=t.zoom,h=t.stroke,p=t.strokeWidth,d=t.children,g=t.curve,v=t.markerEnd,y=t.width,m=t.height,b=(0,c.createConnectorPath)(null,[-a/f,-l/f],g),_=e(n),w={type:"Feature",geometry:{type:"LineString",coordinates:[e.invert([y/2,m/2]),n]}},k=Math.PI/2,E=e.clipAngle&&90===e.clipAngle()&&(0,u.geoLength)(w)>k;return s.default.createElement("g",{className:"rsm-annotation",style:E?o({},r,i):r,transform:"translate(\n          "+(_[0]+a/f)+"\n          "+(_[1]+l/f)+"\n        )",textAnchor:(0,c.createTextAnchor)(a)},d,s.default.createElement("path",{d:b,stroke:h,strokeWidth:p,fill:"none",markerEnd:v}))}}]),e}();l.defaultProps={curve:0,markerEnd:"none",componentIdentifier:"Annotation",stroke:"#000000",strokeWidth:1,zoom:1},e.default=l},271:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=a(n(0)),i=a(n(216));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){var e=t.groupName,n=t.itemName,a=(t.componentIdentifier,function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["groupName","itemName","componentIdentifier"]));return o.default.createElement(i.default,r({groupName:e,itemName:n},a))};s.defaultProps={componentIdentifier:"Annotations",groupName:"annotations",itemName:"annotation"},e.default=s},272:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s=n(199),u=n(210);var c=function(t,e){return(0,s.geoPath)().projection(t)((0,s.geoGraticule)().step(e)())},l=function(t){return(0,s.geoPath)().projection(t)((0,s.geoGraticule)().outline())},f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.state={renderGraticule:!1,graticulePath:"",outlinePath:""},t.renderGraticule=t.renderGraticule.bind(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),o(e,[{key:"componentDidMount",value:function(){this.renderGraticule()}},{key:"renderGraticule",value:function(){var t=this.props,e=t.step,n=t.projection,r=t.round,o=t.precision;this.setState({renderGraticule:!0,graticulePath:r?(0,u.roundPath)(c(n,e),o):c(n,e),outlinePath:r?(0,u.roundPath)(l(n),o):l(n)})}},{key:"componentWillReceiveProps",value:function(t){var e=this.props,n=e.step,r=e.projection,o=e.round,i=e.precision,a=e.globe;(t.round!==o||t.precision!==i||a)&&this.setState({graticulePath:t.round?(0,u.roundPath)(c(r,n),i):c(r,n),outlinePath:t.round?(0,u.roundPath)(l(r),i):l(r)})}},{key:"shouldComponentUpdate",value:function(t){return t.disableOptimization}},{key:"render",value:function(){var t=this.props,e=(t.zoom,t.style),n=t.outline,r=t.fill,o=t.stroke;return this.state.renderGraticule&&a.default.createElement("g",{className:"rsm-graticule"},a.default.createElement("path",{fill:r,stroke:o,d:this.state.graticulePath,style:e}),n&&a.default.createElement("path",{fill:r,stroke:o,d:this.state.outlinePath,style:e}))}}]),e}();f.defaultProps={componentIdentifier:"Graticule",disableOptimization:!0,globe:!1,round:!0,precision:.1,step:[10,10],outline:!0,stroke:"#DDDDDD",fill:"transparent",style:{pointerEvents:"none"}},e.default=f},274:function(t,e,n){var r=n(215),o=n(214).makeHTTPRequest,i={query:function(t){if(void 0===t.type||void 0===t.period)return Promise.reject(new Error("Missing required parameter: type and period must be specified."));var e={};t.workflowID&&(e.workflow_id=t.workflowID),t.projectID&&(e.project_id=t.projectID),t.userID&&(e.user_id=t.userID);var n=[r.statHost,"counts",t.type,t.period].join("/");return o("GET",n,e).then(function(t){return JSON.parse(t.text).events_over_time.buckets})}};t.exports=i},282:function(t,e,n){"use strict";n.r(e);var r=n(199),o=Math.abs,i=Math.atan,a=Math.atan2,s=(Math.ceil,Math.cos),u=Math.exp,c=Math.floor,l=Math.log,f=Math.max,h=Math.min,p=Math.pow,d=Math.round,g=Math.sign||function(t){return t>0?1:t<0?-1:0},v=Math.sin,y=Math.tan,m=1e-6,b=1e-12,_=Math.PI,w=_/2,k=_/4,E=Math.SQRT1_2,S=x(2),O=x(_),P=2*_,M=180/_,j=_/180;function T(t){return t>1?w:t<-1?-w:Math.asin(t)}function A(t){return t>1?0:t<-1?_:Math.acos(t)}function x(t){return t>0?Math.sqrt(t):0}function C(t){return(u(t)-u(-t))/2}function R(t){return(u(t)+u(-t))/2}function L(t){var e=y(t/2),n=2*l(s(t/2))/(e*e);function r(t,e){var r=s(t),o=s(e),i=v(e),a=o*r,u=-((1-a?l((1+a)/2)/(1-a):-.5)+n/(1+a));return[u*o*v(t),u*i]}return r.invert=function(e,r){var i,u=x(e*e+r*r),c=-t/2,f=50;if(!u)return[0,0];do{var h=c/2,p=s(h),d=v(h),g=y(h),b=l(1/p);c-=i=(2/g*b-n*g-u)/(-b/(d*d)+1-n/(2*p*p))}while(o(i)>m&&--f>0);var _=v(c);return[a(e*_,u*s(c)),T(r*_/u)]},r}var U=function(){var t=w,e=Object(r.geoProjectionMutator)(L),n=e(t);return n.radius=function(n){return arguments.length?e(t=n*j):t*M},n.scale(179.976).clipAngle(147)};function N(t,e){var n=s(e),r=function(t){return t?t/Math.sin(t):1}(A(n*s(t/=2)));return[2*n*v(t)*r,v(e)*r]}N.invert=function(t,e){if(!(t*t+4*e*e>_*_+m)){var n=t,r=e,i=25;do{var a,u=v(n),c=v(n/2),l=s(n/2),f=v(r),h=s(r),p=v(2*r),d=f*f,g=h*h,y=c*c,b=1-g*l*l,w=b?A(h*l)*x(a=1/b):a=0,k=2*w*h*c-t,E=w*f-e,S=a*(g*y+w*h*l*d),O=a*(.5*u*p-2*w*f*c),P=.25*a*(p*c-w*f*g*u),M=a*(d*l+w*y*h),j=O*P-M*S;if(!j)break;var T=(E*O-k*M)/j,C=(k*P-E*S)/j;n-=T,r-=C}while((o(T)>m||o(C)>m)&&--i>0);return[n,r]}};var I=function(){return Object(r.geoProjection)(N).scale(152.63)};function z(t){var e=v(t),n=s(t),r=t>=0?1:-1,i=y(r*t),u=(1+e-n)/2;function c(t,o){var c=s(o),l=s(t/=2);return[(1+c)*v(t),(r*o>-a(l,i)-.001?0:10*-r)+u+v(o)*n-(1+c)*e*l]}return c.invert=function(t,c){var l=0,f=0,h=50;do{var p=s(l),d=v(l),g=s(f),y=v(f),b=1+g,_=b*d-t,w=u+y*n-b*e*p-c,k=b*p/2,E=-d*y,S=e*b*d/2,O=n*g+e*p*y,P=E*S-O*k,M=(w*E-_*O)/P/2,j=(_*S-w*k)/P;l-=M,f-=j}while((o(M)>m||o(j)>m)&&--h>0);return r*f>-a(s(l),i)-.001?[2*l,f]:null},c}var D=function(){var t=20*j,e=t>=0?1:-1,n=y(e*t),o=Object(r.geoProjectionMutator)(z),i=o(t),u=i.stream;return i.parallel=function(r){return arguments.length?(n=y((e=(t=r*j)>=0?1:-1)*t),o(t)):t*M},i.stream=function(r){var o=i.rotate(),c=u(r),l=(i.rotate([0,0]),u(r));return i.rotate(o),c.sphere=function(){l.polygonStart(),l.lineStart();for(var r=-180*e;e*r<180;r+=90*e)l.point(r,90*e);for(;e*(r-=t)>=-180;)l.point(r,e*-a(s(r*j/2),n)*M);l.lineEnd(),l.polygonEnd()},c},i.scale(218.695).center([0,28.0974])};function B(t,e){var n=y(e/2),r=x(1-n*n),o=1+r*s(t/=2),i=v(t)*r/o,a=n/o,u=i*i,c=a*a;return[4/3*i*(3+u-3*c),4/3*a*(3+3*u-c)]}B.invert=function(t,e){if(e*=3/8,!(t*=3/8)&&o(e)>1)return null;var n=1+t*t+e*e,r=x((n-x(n*n-4*e*e))/2),i=T(r)/3,u=r?function(t){return l(t+x(t*t-1))}(o(e/r))/3:function(t){return l(t+x(t*t+1))}(o(t))/3,c=s(i),f=R(u),h=f*f-c*c;return[2*g(t)*a(C(u)*c,.25-h),2*g(e)*a(f*v(i),.25+h)]};var q=function(){return Object(r.geoProjection)(B).scale(66.1603)},F=x(8),G=l(1+S);function H(t,e){var n=o(e);return n<k?[t,l(y(k+e/2))]:[t*s(n)*(2*S-1/v(n)),g(e)*(2*S*(n-k)-l(y(n/2)))]}H.invert=function(t,e){if((r=o(e))<G)return[t,2*i(u(e))-w];var n,r,a=k,c=25;do{var f=s(a/2),h=y(a/2);a-=n=(F*(a-k)-l(h)-r)/(F-f*f/(2*h))}while(o(n)>b&&--c>0);return[t/(s(a)*(F-1/v(a))),g(e)*a]};var Y=function(){return Object(r.geoProjection)(H).scale(112.314)};function X(t){var e=2*_/t;function n(t,n){var i=Object(r.geoAzimuthalEquidistantRaw)(t,n);if(o(t)>w){var u=a(i[1],i[0]),c=x(i[0]*i[0]+i[1]*i[1]),l=e*d((u-w)/e)+w,f=a(v(u-=l),2-s(u));u=l+T(_/c*v(f))-f,i[0]=c*s(u),i[1]=c*v(u)}return i}return n.invert=function(t,n){var o=x(t*t+n*n);if(o>w){var u=a(n,t),c=e*d((u-w)/e)+w,l=u>c?-1:1,f=o*s(c-u),h=1/y(l*A((f-_)/x(_*(_-2*f)+o*o)));u=c+2*i((h+l*x(h*h-3))/3),t=o*s(u),n=o*v(u)}return r.geoAzimuthalEquidistantRaw.invert(t,n)},n}var J=function(){var t=5,e=Object(r.geoProjectionMutator)(X),n=e(t),o=n.stream,i=-s(.01*j),u=v(.01*j);return n.lobes=function(n){return arguments.length?e(t=+n):t},n.stream=function(e){var r=n.rotate(),c=o(e),l=(n.rotate([0,0]),o(e));return n.rotate(r),c.sphere=function(){l.polygonStart(),l.lineStart();for(var e=0,n=360/t,r=2*_/t,o=90-180/t,c=w;e<t;++e,o-=n,c-=r)l.point(a(u*s(c),i)*M,T(u*v(c))*M),o<-90?(l.point(-90,-180-o-.01),l.point(-90,-180-o+.01)):(l.point(90,o+.01),l.point(90,o-.01));l.lineEnd(),l.polygonEnd()},c},n.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};function K(t,e){var n,r=t*v(e),i=30;do{e-=n=(e+v(e)-r)/(1+s(e))}while(o(n)>m&&--i>0);return e/2}function W(t,e,n){function r(r,o){return[t*r*s(o=K(n,o)),e*v(o)]}return r.invert=function(r,o){return o=T(o/e),[r/(t*s(o)),T((2*o+v(2*o))/n)]},r}var Q=W(S/w,S,_),$=function(){return Object(r.geoProjection)(Q).scale(169.529)},V=2.00276,Z=1.11072;function tt(t,e){var n=K(_,e);return[V*t/(1/s(e)+Z/s(n)),(e+S*v(n))/V]}tt.invert=function(t,e){var n,r,i=V*e,a=e<0?-k:k,u=25;do{r=i-S*v(a),a-=n=(v(2*a)+2*a-_*v(r))/(2*s(2*a)+2+_*s(r)*S*s(a))}while(o(n)>m&&--u>0);return r=i-S*v(a),[t*(1/s(r)+Z/s(a))/V,r]};var et=function(){return Object(r.geoProjection)(tt).scale(160.857)},nt=function(t){var e=0,n=Object(r.geoProjectionMutator)(t),o=n(e);return o.parallel=function(t){return arguments.length?n(e=t*j):e*M},o};function rt(t,e){return[t*s(e),e]}rt.invert=function(t,e){return[t/s(e),e]};var ot=function(){return Object(r.geoProjection)(rt).scale(152.63)};function it(t){if(!t)return rt;var e=1/y(t);function n(n,r){var o=e+t-r,i=o?n*s(r)/o:o;return[o*v(i),e-o*s(i)]}return n.invert=function(n,r){var o=x(n*n+(r=e-r)*r),i=e+t-o;return[o/s(i)*a(n,r),i]},n}var at=function(){return nt(it).scale(123.082).center([0,26.1441]).parallel(45)};function st(t){function e(e,n){var r=w-n,o=r?e*t*v(r)/r:r;return[r*v(o)/t,w-r*s(o)]}return e.invert=function(e,n){var r=e*t,o=w-n,i=x(r*r+o*o),s=a(r,o);return[(i?i/v(i):1)*s/t,w-i]},e}var ut=function(){var t=.5,e=Object(r.geoProjectionMutator)(st),n=e(t);return n.fraction=function(n){return arguments.length?e(t=+n):t},n.scale(158.837)},ct=W(1,4/_,_),lt=function(){return Object(r.geoProjection)(ct).scale(152.63)};function ft(t,e,n,r,i,u){var c,l=s(u);if(o(t)>1||o(u)>1)c=A(n*i+e*r*l);else{var f=v(t/2),h=v(u/2);c=2*T(x(f*f+e*r*h*h))}return o(c)>m?[c,a(r*v(u),e*i-n*r*l)]:[0,0]}function ht(t,e,n){return A((t*t+e*e-n*n)/(2*t*e))}function pt(t){return t-2*_*c((t+_)/(2*_))}function dt(t,e,n){for(var r,o=[[t[0],t[1],v(t[1]),s(t[1])],[e[0],e[1],v(e[1]),s(e[1])],[n[0],n[1],v(n[1]),s(n[1])]],i=o[2],a=0;a<3;++a,i=r)r=o[a],i.v=ft(r[1]-i[1],i[3],i[2],r[3],r[2],r[0]-i[0]),i.point=[0,0];var u=ht(o[0].v[0],o[2].v[0],o[1].v[0]),c=ht(o[0].v[0],o[1].v[0],o[2].v[0]),l=_-u;o[2].point[1]=0,o[0].point[0]=-(o[1].point[0]=o[0].v[0]/2);var f=[o[2].point[0]=o[0].point[0]+o[2].v[0]*s(u),2*(o[0].point[1]=o[1].point[1]=o[2].v[0]*v(u))];return function(t,e){var n,r=v(e),i=s(e),a=new Array(3);for(n=0;n<3;++n){var u=o[n];if(a[n]=ft(e-u[1],u[3],u[2],i,r,t-u[0]),!a[n][0])return u.point;a[n][1]=pt(a[n][1]-u.v[1])}var h=f.slice();for(n=0;n<3;++n){var p=2==n?0:n+1,d=ht(o[n].v[0],a[n][0],a[p][0]);a[n][1]<0&&(d=-d),n?1==n?(d=c-d,h[0]-=a[n][0]*s(d),h[1]-=a[n][0]*v(d)):(d=l-d,h[0]+=a[n][0]*s(d),h[1]+=a[n][0]*v(d)):(h[0]+=a[n][0]*s(d),h[1]-=a[n][0]*v(d))}return h[0]/=3,h[1]/=3,h}}function gt(t){return t[0]*=j,t[1]*=j,t}function vt(){return yt([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function yt(t,e,n){var o=Object(r.geoCentroid)({type:"MultiPoint",coordinates:[t,e,n]}),i=[-o[0],-o[1]],a=Object(r.geoRotation)(i),s=Object(r.geoProjection)(dt(gt(a(t)),gt(a(e)),gt(a(n)))).rotate(i),u=s.center;return delete s.rotate,s.center=function(t){return arguments.length?u(a(t)):a.invert(u())},s.clipAngle(90)}function mt(t,e){var n=x(1-v(e));return[2/O*t*n,O*(1-n)]}mt.invert=function(t,e){var n=(n=e/O-1)*n;return[n>0?t*x(_/n)/2:0,T(1-n)]};var bt=function(){return Object(r.geoProjection)(mt).scale(95.6464).center([0,30])};function _t(t){var e=y(t);function n(t,n){return[t,(t?t/v(t):1)*(v(n)*s(t)-e*s(n))]}return n.invert=e?function(t,n){t&&(n*=v(t)/t);var r=s(t);return[t,2*a(x(r*r+e*e-n*n)-r,e-n)]}:function(t,e){return[t,T(t?e*y(t)/t:e)]},n}var wt=function(){return nt(_t).scale(249.828).clipAngle(90)},kt=x(3);function Et(t,e){return[kt*t*(2*s(2*e/3)-1)/O,kt*O*v(e/3)]}Et.invert=function(t,e){var n=3*T(e/(kt*O));return[O*t/(kt*(2*s(2*n/3)-1)),n]};var St=function(){return Object(r.geoProjection)(Et).scale(156.19)};function Ot(t){var e=s(t);function n(t,n){return[t*e,v(n)/e]}return n.invert=function(t,n){return[t/e,T(n*e)]},n}var Pt=function(){return nt(Ot).parallel(38.58).scale(195.044)};function Mt(t){var e=s(t);function n(t,n){return[t*e,(1+e)*y(n/2)]}return n.invert=function(t,n){return[t/e,2*i(n/(1+e))]},n}var jt=function(){return nt(Mt).scale(124.75)};function Tt(t,e){var n=x(8/(3*_));return[n*t*(1-o(e)/_),n*e]}Tt.invert=function(t,e){var n=x(8/(3*_)),r=e/n;return[t/(n*(1-o(r)/_)),r]};var At=function(){return Object(r.geoProjection)(Tt).scale(165.664)};function xt(t,e){var n=x(4-3*v(o(e)));return[2/x(6*_)*t*n,g(e)*x(2*_/3)*(2-n)]}xt.invert=function(t,e){var n=2-o(e)/x(2*_/3);return[t*x(6*_)/(2*n),g(e)*T((4-n*n)/3)]};var Ct=function(){return Object(r.geoProjection)(xt).scale(165.664)};function Rt(t,e){var n=x(_*(4+_));return[2/n*t*(1+x(1-4*e*e/(_*_))),4/n*e]}Rt.invert=function(t,e){var n=x(_*(4+_))/2;return[t*n/(1+x(1-e*e*(4+_)/(4*_))),e*n/2]};var Lt=function(){return Object(r.geoProjection)(Rt).scale(180.739)};function Ut(t,e){var n=(2+w)*v(e);e/=2;for(var r=0,i=1/0;r<10&&o(i)>m;r++){var a=s(e);e-=i=(e+v(e)*(a+2)-n)/(2*a*(1+a))}return[2/x(_*(4+_))*t*(1+s(e)),2*x(_/(4+_))*v(e)]}Ut.invert=function(t,e){var n=e*x((4+_)/_)/2,r=T(n),o=s(r);return[t/(2/x(_*(4+_))*(1+o)),T((r+n*(o+2))/(2+w))]};var Nt=function(){return Object(r.geoProjection)(Ut).scale(180.739)};function It(t,e){return[t*(1+s(e))/x(2+_),2*e/x(2+_)]}It.invert=function(t,e){var n=x(2+_),r=e*n/2;return[n*t/(1+s(r)),r]};var zt=function(){return Object(r.geoProjection)(It).scale(173.044)};function Dt(t,e){for(var n=(1+w)*v(e),r=0,i=1/0;r<10&&o(i)>m;r++)e-=i=(e+v(e)-n)/(1+s(e));return n=x(2+_),[t*(1+s(e))/n,2*e/n]}Dt.invert=function(t,e){var n=1+w,r=x(n/2);return[2*t*r/(1+s(e*=r)),T((e+v(e))/n)]};var Bt=function(){return Object(r.geoProjection)(Dt).scale(173.044)},qt=3+2*S;function Ft(t,e){var n=v(t/=2),r=s(t),o=x(s(e)),a=s(e/=2),u=v(e)/(a+S*r*o),c=x(2/(1+u*u)),f=x((S*a+(r+n)*o)/(S*a+(r-n)*o));return[qt*(c*(f-1/f)-2*l(f)),qt*(c*u*(f+1/f)-2*i(u))]}Ft.invert=function(t,e){if(!(n=B.invert(t/1.2,1.065*e)))return null;var n,r=n[0],a=n[1],u=20;t/=qt,e/=qt;do{var c=r/2,p=a/2,d=v(c),g=s(c),y=v(p),b=s(p),_=s(a),k=x(_),O=y/(b+S*g*k),P=O*O,M=x(2/(1+P)),j=(S*b+(g+d)*k)/(S*b+(g-d)*k),T=x(j),A=T-1/T,C=T+1/T,R=M*A-2*l(T)-t,L=M*O*C-2*i(O)-e,U=y&&E*k*d*P/y,N=(S*g*b+k)/(2*(b+S*g*k)*(b+S*g*k)*k),I=-.5*O*M*M*M,z=I*U,D=I*N,q=(q=2*b+S*k*(g-d))*q*T,F=(S*g*b*k+_)/q,G=-S*d*y/(k*q),H=A*z-2*F/T+M*(F+F/j),Y=A*D-2*G/T+M*(G+G/j),X=O*C*z-2*U/(1+P)+M*C*U+M*O*(F-F/j),J=O*C*D-2*N/(1+P)+M*C*N+M*O*(G-G/j),K=Y*X-J*H;if(!K)break;var W=(L*Y-R*J)/K,Q=(R*X-L*H)/K;r-=W,a=f(-w,h(w,a-Q))}while((o(W)>m||o(Q)>m)&&--u>0);return o(o(a)-w)<m?[0,a]:u&&[r,a]};var Gt=function(){return Object(r.geoProjection)(Ft).scale(62.5271)},Ht=s(35*j);function Yt(t,e){var n=y(e/2);return[t*Ht*x(1-n*n),(1+Ht)*n]}Yt.invert=function(t,e){var n=e/(1+Ht);return[t&&t/(Ht*x(1-n*n)),2*i(n)]};var Xt=function(){return Object(r.geoProjection)(Yt).scale(137.152)};function Jt(t,e){var n=e/2,r=s(n);return[2*t/O*s(e)*r*r,O*y(n)]}Jt.invert=function(t,e){var n=i(e/O),r=s(n),o=2*n;return[t*O/2/(s(o)*r*r),o]};var Kt=function(){return Object(r.geoProjection)(Jt).scale(135.264)};function Wt(t){return[t[0]/2,T(y(t[1]/2*j))*M]}function Qt(t){return[2*t[0],2*i(v(t[1]*j))*M]}var $t=function(t){null==t&&(t=r.geoOrthographic);var e=t(),n=Object(r.geoEquirectangular)().scale(M).precision(0).clipAngle(null).translate([0,0]);function o(t){return e(Wt(t))}function i(t){o[t]=function(n){return arguments.length?(e[t](n),o):e[t]()}}return e.invert&&(o.invert=function(t){return Qt(e.invert(t))}),o.stream=function(t){var r=e.stream(t),o=n.stream({point:function(t,e){r.point(t/2,T(y(-e/2*j))*M)},lineStart:function(){r.lineStart()},lineEnd:function(){r.lineEnd()},polygonStart:function(){r.polygonStart()},polygonEnd:function(){r.polygonEnd()}});return o.sphere=r.sphere,o},o.rotate=function(t){return arguments.length?(n.rotate(t),o):n.rotate()},o.center=function(t){return arguments.length?(e.center(Wt(t)),o):Qt(e.center())},i("clipAngle"),i("clipExtent"),i("scale"),i("translate"),i("precision"),o.scale(249.5)};function Vt(t,e){var n=2*_/e,i=t*t;function u(e,u){var c=Object(r.geoAzimuthalEquidistantRaw)(e,u),l=c[0],f=c[1],h=l*l+f*f;if(h>i){var p=x(h),g=a(f,l),y=n*d(g/n),b=g-y,k=t*s(b),E=(t*v(b)-b*v(k))/(w-k),S=Zt(b,E),O=(_-t)/te(S,k,_);l=p;var P,M=50;do{l-=P=(t+te(S,k,l)*O-p)/(S(l)*O)}while(o(P)>m&&--M>0);f=b*v(l),l<w&&(f-=E*(l-w));var j=v(y),T=s(y);c[0]=l*T-f*j,c[1]=l*j+f*T}return c}return u.invert=function(e,u){var c=e*e+u*u;if(c>i){var l=x(c),f=a(u,e),h=n*d(f/n),p=f-h;e=l*s(p),u=l*v(p);for(var g=e-w,y=v(e),m=u/y,k=e<w?1/0:0,E=10;;){var S=t*v(m),O=t*s(m),P=v(O),M=w-O,j=(S-m*P)/M,T=Zt(m,j);if(o(k)<b||!--E)break;m-=k=(m*y-j*g-u)/(y-2*g*(M*(O+m*S*s(O)-P)-S*(S-m*P))/(M*M))}e=(l=t+te(T,O,e)*(_-t)/te(T,O,_))*s(f=h+m),u=l*v(f)}return r.geoAzimuthalEquidistantRaw.invert(e,u)},u}function Zt(t,e){return function(n){var r=t*s(n);return n<w&&(r-=e),x(1+r*r)}}function te(t,e,n){for(var r=(n-e)/50,o=t(e)+t(n),i=1,a=e;i<50;++i)o+=2*t(a+=r);return.5*o*r}var ee=function(){var t=6,e=30*j,n=s(e),o=v(e),i=Object(r.geoProjectionMutator)(Vt),u=i(e,t),c=u.stream,l=-s(.01*j),f=v(.01*j);return u.radius=function(r){return arguments.length?(n=s(e=r*j),o=v(e),i(e,t)):e*M},u.lobes=function(n){return arguments.length?i(e,t=+n):t},u.stream=function(e){var r=u.rotate(),i=c(e),h=(u.rotate([0,0]),c(e));return u.rotate(r),i.sphere=function(){h.polygonStart(),h.lineStart();for(var e=0,r=2*_/t,i=0;e<t;++e,i-=r)h.point(a(f*s(i),l)*M,T(f*v(i))*M),h.point(a(o*s(i-r/2),n)*M,T(o*v(i-r/2))*M);h.lineEnd(),h.polygonEnd()},i},u.rotate([90,-40]).scale(91.7095).clipAngle(179.999)},ne=function(t,e,n,r,i,a,u,c){function l(o,l){if(!l)return[t*o/_,0];var f=l*l,h=t+f*(e+f*(n+f*r)),p=l*(i-1+f*(a-c+f*u)),d=(h*h+p*p)/(2*p),g=o*T(h/d)/_;return[d*v(g),l*(1+f*c)+d*(1-s(g))]}return arguments.length<8&&(c=0),l.invert=function(l,f){var h,p,d=_*l/t,g=f,y=50;do{var b=g*g,w=t+b*(e+b*(n+b*r)),k=g*(i-1+b*(a-c+b*u)),E=w*w+k*k,S=2*k,O=E/S,P=O*O,M=T(w/O)/_,j=d*M,A=w*w,C=(2*e+b*(4*n+6*b*r))*g,R=i+b*(3*a+5*b*u),L=(2*(w*C+k*(R-1))*S-E*(2*(R-1)))/(S*S),U=s(j),N=v(j),I=O*U,z=O*N,D=d/_*(1/x(1-A/P))*(C*O-w*L)/P,B=z-l,q=g*(1+b*c)+O-I-f,F=L*N+I*D,G=I*M,H=1+L-(L*U-z*D),Y=z*M,X=F*Y-H*G;if(!X)break;d-=h=(q*F-B*H)/X,g-=p=(B*Y-q*G)/X}while((o(h)>m||o(p)>m)&&--y>0);return[d,g]},l},re=ne(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),oe=function(){return Object(r.geoProjection)(re).scale(149.995)},ie=ne(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),ae=function(){return Object(r.geoProjection)(ie).scale(153.93)},se=ne(5/6*_,-.62636,-.0344,0,1.3493,-.05524,0,.045),ue=function(){return Object(r.geoProjection)(se).scale(130.945)};function ce(t,e){var n=t*t,r=e*e;return[t*(1-.162388*r)*(.87-952426e-9*n*n),e*(1+r/12)]}ce.invert=function(t,e){var n,r=t,i=e,a=50;do{var s=i*i;i-=n=(i*(1+s/12)-e)/(1+s/4)}while(o(n)>m&&--a>0);a=50,t/=1-.162388*s;do{var u=(u=r*r)*u;r-=n=(r*(.87-952426e-9*u)-t)/(.87-.00476213*u)}while(o(n)>m&&--a>0);return[r,i]};var le=function(){return Object(r.geoProjection)(ce).scale(131.747)},fe=ne(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762),he=function(){return Object(r.geoProjection)(fe).scale(131.087)},pe=function(t){var e=t(w,0)[0]-t(-w,0)[0];function n(n,r){var o=n>0?-.5:.5,i=t(n+o*_,r);return i[0]-=o*e,i}return t.invert&&(n.invert=function(n,r){var o=n>0?-.5:.5,i=t.invert(n+o*e,r),a=i[0]-o*_;return a<-_?a+=2*_:a>_&&(a-=2*_),i[0]=a,i}),n};function de(t,e){var n=g(t),r=g(e),i=s(e),u=s(t)*i,c=v(t)*i,l=v(r*e);t=o(a(c,l)),e=T(u),o(t-w)>m&&(t%=w);var f=function(t,e){if(e===w)return[0,0];var n,r,i=v(e),a=i*i,u=a*a,c=1+u,l=1+3*u,f=1-u,h=T(1/x(c)),p=f+a*c*h,d=(1-i)/p,g=x(d),y=d*c,b=x(y),k=g*f;if(0===t)return[0,-(k+a*b)];var E,S=s(e),O=1/S,P=2*i*S,M=(-p*S-(-3*a+h*l)*P*(1-i))/(p*p),j=-O*P,A=-O*(a*c*M+d*l*P),C=-2*O*(f*(.5*M/g)-2*a*g*P),R=4*t/_;if(t>.222*_||e<_/4&&t>.175*_){if(n=(k+a*x(y*(1+u)-k*k))/(1+u),t>_/4)return[n,n];var L=n,U=.5*n;n=.5*(U+L),r=50;do{var N=x(y-n*n),I=n*(C+j*N)+A*T(n/b)-R;if(!I)break;I<0?U=n:L=n,n=.5*(U+L)}while(o(L-U)>m&&--r>0)}else{n=m,r=25;do{var z=n*n,D=x(y-z),B=C+j*D,q=n*B+A*T(n/b)-R,F=B+(A-j*z)/D;n-=E=D?q/F:0}while(o(E)>m&&--r>0)}return[n,-k-a*x(y-n*n)]}(t>_/4?w-t:t,e);return t>_/4&&(l=f[0],f[0]=-f[1],f[1]=-l),f[0]*=n,f[1]*=-r,f}de.invert=function(t,e){var n=g(t),r=g(e),i=-n*t,u=-r*e,c=u/i<1,l=function(t,e){var n=0,r=1,i=.5,a=50;for(;;){var u=i*i,c=x(i),l=T(1/x(1+u)),f=1-u+i*(1+u)*l,h=(1-c)/f,p=x(h),d=h*(1+u),g=p*(1-u),v=d-t*t,y=x(v),m=e+g+i*y;if(o(r-n)<b||0==--a||0===m)break;m>0?n=i:r=i,i=.5*(n+r)}if(!a)return null;var w=T(c),k=s(w),E=1/k,S=2*c*k,O=(-f*k-(-3*i+l*(1+3*u))*S*(1-c))/(f*f);return[_/4*(t*(-2*E*(.5*O/p*(1-u)-2*i*p*S)+-E*S*y)+-E*(i*(1+u)*O+h*(1+3*u)*S)*T(t/x(d))),w]}(c?u:i,c?i:u),f=l[0],h=l[1],p=s(h);return c&&(f=-w-f),[n*(a(v(f)*p,-v(h))+_),r*T(s(f)*p)]};var ge=function(){return Object(r.geoProjection)(pe(de)).scale(239.75)};function ve(t,e){var n,r,a,c,l,f;if(e<m)return[(c=v(t))-(n=e*(t-c*(r=s(t)))/4)*r,r+n*c,1-e*c*c/2,t-n];if(e>=1-m)return n=(1-e)/4,a=1/(r=R(t)),[(c=((f=u(2*(f=t)))-1)/(f+1))+n*((l=r*C(t))-t)/(r*r),a-n*c*a*(l-t),a+n*c*a*(l+t),2*i(u(t))-w+n*(l-t)/r];var h=[1,0,0,0,0,0,0,0,0],p=[x(e),0,0,0,0,0,0,0,0],d=0;for(r=x(1-e),l=1;o(p[d]/h[d])>m&&d<8;)n=h[d++],p[d]=(n-r)/2,h[d]=(n+r)/2,r=x(n*r),l*=2;a=l*h[d]*t;do{a=(T(c=p[d]*v(r=a)/h[d])+a)/2}while(--d);return[v(a),c=s(a),c/s(a-r),a]}function ye(t,e){if(!e)return t;if(1===e)return l(y(t/2+k));for(var n=1,r=x(1-e),a=x(e),s=0;o(a)>m;s++){if(t%_){var u=i(r*y(t)/n);u<0&&(u+=_),t+=u+~~(t/_)*_}else t+=t;a=(n+r)/2,r=x(n*r),a=((n=a)-r)/2}return t/(p(2,s)*n)}function me(t,e){var n=(S-1)/(S+1),r=x(1-n*n),c=ye(w,r*r),f=l(y(_/4+o(e)/2)),h=u(-1*f)/x(n),p=function(t,e){var n=t*t,r=e+1,o=1-n-e*e;return[.5*((t>=0?w:-w)-a(o,2*t)),-.25*l(o*o+4*n)+.5*l(r*r+n)]}(h*s(-1*t),h*v(-1*t)),d=function(t,e,n){var r=o(t),a=C(o(e));if(r){var s=1/v(r),u=1/(y(r)*y(r)),c=-(u+n*(a*a*s*s)-1+n),l=(-c+x(c*c-(n-1)*u*4))/2;return[ye(i(1/x(l)),n)*g(t),ye(i(x((l/u-1)/n)),1-n)*g(e)]}return[0,ye(i(a),1-n)*g(e)]}(p[0],p[1],r*r);return[-d[1],(e>=0?1:-1)*(.5*c-d[0])]}me.invert=function(t,e){var n,r,o,s,c,f,h=(S-1)/(S+1),p=x(1-h*h),d=ye(w,p*p),g=(r=-t,o=p*p,(n=.5*d-e)?(s=ve(n,o),r?(f=(c=ve(r,1-o))[1]*c[1]+o*s[0]*s[0]*c[0]*c[0],[[s[0]*c[2]/f,s[1]*s[2]*c[0]*c[1]/f],[s[1]*c[1]/f,-s[0]*s[2]*c[0]*c[2]/f],[s[2]*c[1]*c[2]/f,-o*s[0]*s[1]*c[0]/f]]):[[s[0],0],[s[1],0],[s[2],0]]):[[0,(c=ve(r,1-o))[0]/c[1]],[1/c[1],0],[c[2]/c[1],0]]),v=function(t,e){var n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}(g[0],g[1]);return[a(v[1],v[0])/-1,2*i(u(-.5*l(h*v[0]*v[0]+h*v[1]*v[1])))-w]};var be=function(){return Object(r.geoProjection)(pe(me)).scale(151.496)};function _e(t,e){if(arguments.length<2&&(e=t),1===e)return r.geoAzimuthalEqualAreaRaw;if(e===1/0)return we;function n(n,o){var i=Object(r.geoAzimuthalEqualAreaRaw)(n/e,o);return i[0]*=t,i}return n.invert=function(n,o){var i=r.geoAzimuthalEqualAreaRaw.invert(n/t,o);return i[0]*=e,i},n}function we(t,e){return[t*s(e)/s(e/=2),2*v(e)]}we.invert=function(t,e){var n=2*T(e/2);return[t*s(n/2)/s(n),n]};var ke=function(){var t=2,e=Object(r.geoProjectionMutator)(_e),n=e(t);return n.coefficient=function(n){return arguments.length?e(t=+n):t},n.scale(169.529)};function Ee(t){var e=v(t),n=s(t),r=Se(t);function i(t,i){var a=r(t,i);t=a[0],i=a[1];var u=v(i),c=s(i),l=s(t),f=A(e*u+n*c*l),h=v(f),p=o(h)>m?f/h:1;return[p*n*v(t),(o(t)>w?p:-p)*(e*c-n*u*l)]}return r.invert=Se(-t),i.invert=function(t,n){var o=x(t*t+n*n),i=-v(o),u=s(o),c=o*u,l=-n*i,f=o*e,h=x(c*c+l*l-f*f),p=a(c*f+l*h,l*f-c*h),d=(o>w?-1:1)*a(t*i,o*s(p)*u+n*v(p)*i);return r.invert(d,p)},i}function Se(t){var e=v(t),n=s(t);return function(t,r){var o=s(r),i=s(t)*o,u=v(t)*o,c=v(r);return[a(u,i*n-c*e),T(c*n+i*e)]}}var Oe=function(){var t=0,e=Object(r.geoProjectionMutator)(Ee),n=e(t),o=n.rotate,i=n.stream,a=Object(r.geoCircle)();return n.parallel=function(r){if(!arguments.length)return t*M;var o=n.rotate();return e(t=r*j).rotate(o)},n.rotate=function(e){return arguments.length?(o.call(n,[e[0],e[1]-t*M]),a.center([-e[0],-e[1]]),n):((e=o.call(n))[1]+=t*M,e)},n.stream=function(t){return(t=i(t)).sphere=function(){t.polygonStart();var e,n=a.radius(89.99)().coordinates[0],r=n.length-1,o=-1;for(t.lineStart();++o<r;)t.point((e=n[o])[0],e[1]);for(t.lineEnd(),r=(n=a.radius(90.01)().coordinates[0]).length-1,t.lineStart();--o>=0;)t.point((e=n[o])[0],e[1]);t.lineEnd(),t.polygonEnd()},t},n.scale(79.4187).parallel(45).clipAngle(179.999)},Pe=n(211),Me=41+48/36+37/3600,je=Ot(0);function Te(t){var e=Me*j,n=mt(_,e)[0]-mt(-_,e)[0],r=je(0,e)[1],i=mt(0,e)[1],a=O-i,s=P/t,u=4/P,l=r+a*a*4/P;function p(p,d){var g,v=o(d);if(v>e){var y=h(t-1,f(0,c((p+_)/s)));(g=mt(p+=_*(t-1)/t-y*s,v))[0]=g[0]*P/n-P*(t-1)/(2*t)+y*P/t,g[1]=r+4*(g[1]-i)*a/P,d<0&&(g[1]=-g[1])}else g=je(p,d);return g[0]*=u,g[1]/=l,g}return p.invert=function(e,p){e/=u;var d=o(p*=l);if(d>r){var g=h(t-1,f(0,c((e+_)/s)));e=(e+_*(t-1)/t-g*s)*n/P;var v=mt.invert(e,.25*(d-r)*P/a+i);return v[0]-=_*(t-1)/t-g*s,p<0&&(v[1]=-v[1]),v}return je.invert(e,p)},p}var Ae=function(){var t=4,e=Object(r.geoProjectionMutator)(Te),n=e(t),o=n.stream;return n.lobes=function(n){return arguments.length?e(t=+n):t},n.stream=function(e){var i=n.rotate(),a=o(e),s=(n.rotate([0,0]),o(e));return n.rotate(i),a.sphere=function(){var e;Object(r.geoStream)((e=180/t,{type:"Polygon",coordinates:[Object(Pe.b)(-180,180+e/2,e).map(function(t,e){return[t,1&e?90-1e-6:Me]}).concat(Object(Pe.b)(180,-180-e/2,-e).map(function(t,e){return[t,1&e?1e-6-90:-Me]}))]}),s)},a},n.scale(239.75)};function xe(t){var e,n=1+t,r=T(v(1/n)),i=2*x(_/(e=_+4*r*n)),u=.5*i*(n+x(t*(2+t))),c=t*t,l=n*n;function f(f,h){var p,d,g=1-v(h);if(g&&g<2){var y,m=w-h,k=25;do{var E=v(m),S=s(m),O=r+a(E,n-S),P=1+l-2*n*S;m-=y=(m-c*r-n*E+P*O-.5*g*e)/(2*n*E*O)}while(o(y)>b&&--k>0);p=i*x(P),d=f*O/_}else p=i*(t+g),d=f*r/_;return[p*v(d),u-p*s(d)]}return f.invert=function(t,o){var s=t*t+(o-=u)*o,f=(1+l-s/(i*i))/(2*n),h=A(f),p=v(h),d=r+a(p,n-f);return[T(t/x(s))*_/d,T(1-2*(h-c*r-n*p+(1+l-2*n*f)*d)/e)]},f}var Ce=function(){var t=1,e=Object(r.geoProjectionMutator)(xe),n=e(t);return n.ratio=function(n){return arguments.length?e(t=+n):t},n.scale(167.774).center([0,18.67])},Re=.7109889596207567,Le=.0528035274542;function Ue(t,e){return e>-Re?((t=Q(t,e))[1]+=Le,t):rt(t,e)}Ue.invert=function(t,e){return e>-Re?Q.invert(t,e-Le):rt.invert(t,e)};var Ne=function(){return Object(r.geoProjection)(Ue).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};function Ie(t,e){return o(e)>Re?((t=Q(t,e))[1]-=e>0?Le:-Le,t):rt(t,e)}Ie.invert=function(t,e){return o(e)>Re?Q.invert(t,e+(e>0?Le:-Le)):rt.invert(t,e)};var ze=function(){return Object(r.geoProjection)(Ie).scale(152.63)};function De(t,e){return o(t[0]-e[0])<m&&o(t[1]-e[1])<m}function Be(t,e){for(var n,r,o,i=-1,a=t.length,s=t[0],u=[];++i<a;){r=((n=t[i])[0]-s[0])/e,o=(n[1]-s[1])/e;for(var c=0;c<e;++c)u.push([s[0]+c*r,s[1]+c*o]);s=n}return u.push(n),u}var qe=function(t,e){var n=function(t){var e,n,r,o,i,a,s,u=[],c=t[0].length;for(s=0;s<c;++s)n=(e=t[0][s])[0][0],r=e[0][1],o=e[1][1],i=e[2][0],a=e[2][1],u.push(Be([[n+m,r+m],[n+m,o-m],[i-m,o-m],[i-m,a+m]],30));for(s=t[1].length-1;s>=0;--s)n=(e=t[1][s])[0][0],r=e[0][1],o=e[1][1],i=e[2][0],a=e[2][1],u.push(Be([[i-m,a-m],[i-m,o+m],[n+m,o+m],[n+m,r-m]],30));return{type:"Polygon",coordinates:[Object(Pe.a)(u)]}}(e),o=(e=e.map(function(t){return t.map(function(t){return[[t[0][0]*j,t[0][1]*j],[t[1][0]*j,t[1][1]*j],[t[2][0]*j,t[2][1]*j]]})})).map(function(e){return e.map(function(e){var n,r=t(e[0][0],e[0][1])[0],o=t(e[2][0],e[2][1])[0],i=t(e[1][0],e[0][1])[1],a=t(e[1][0],e[1][1])[1];return i>a&&(n=i,i=a,a=n),[[r,i],[o,a]]})});function i(n,r){for(var o=r<0?-1:1,i=e[+(r<0)],a=0,s=i.length-1;a<s&&n>i[a][2][0];++a);var u=t(n-i[a][1][0],r);return u[0]+=t(i[a][1][0],o*r>o*i[a][0][1]?i[a][0][1]:r)[0],u}t.invert&&(i.invert=function(n,r){for(var a=o[+(r<0)],s=e[+(r<0)],u=0,c=a.length;u<c;++u){var l=a[u];if(l[0][0]<=n&&n<l[1][0]&&l[0][1]<=r&&r<l[1][1]){var f=t.invert(n-t(s[u][1][0],0)[0],r);return f[0]+=s[u][1][0],De(i(f[0],f[1]),[n,r])?f:null}}});var a=Object(r.geoProjection)(i),s=a.stream;return a.stream=function(t){var e=a.rotate(),o=s(t),i=(a.rotate([0,0]),s(t));return a.rotate(e),o.sphere=function(){Object(r.geoStream)(n,i)},o},a},Fe=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Ge=function(){return qe(tt,Fe).scale(160.857)},He=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Ye=function(){return qe(Ie,He).scale(152.63)},Xe=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Je=function(){return qe(Q,Xe).scale(169.529)},Ke=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],We=function(){return qe(Q,Ke).scale(169.529).rotate([20,0])},Qe=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],$e=function(){return qe(Ue,Qe).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},Ve=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]],Ze=function(){return qe(rt,Ve).scale(152.63).rotate([-20,0])};function tn(t,e){return[3/P*t*x(_*_/3-e*e),e]}tn.invert=function(t,e){return[P/3*t/x(_*_/3-e*e),e]};var en=function(){return Object(r.geoProjection)(tn).scale(158.837)};function nn(t){function e(e,n){if(o(o(n)-w)<m)return[0,n<0?-2:2];var r=v(n),i=p((1+r)/(1-r),t/2),a=.5*(i+1/i)+s(e*=t);return[2*v(e)/a,(i-1/i)/a]}return e.invert=function(e,n){var r=o(n);if(o(r-2)<m)return e?null:[0,g(n)*w];if(r>2)return null;var i=(e/=2)*e,s=(n/=2)*n,u=2*n/(1+i+s);return u=p((1+u)/(1-u),1/t),[a(2*e,1-i-s)/t,T((u-1)/(u+1))]},e}var rn=function(){var t=.5,e=Object(r.geoProjectionMutator)(nn),n=e(t);return n.spacing=function(n){return arguments.length?e(t=+n):t},n.scale(124.75)},on=_/S;function an(t,e){return[t*(1+x(s(e)))/2,e/(s(e/2)*s(t/6))]}an.invert=function(t,e){var n=o(t),r=o(e),i=m,a=w;r<on?a*=r/on:i+=6*A(on/r);for(var u=0;u<25;u++){var c=v(a),l=x(s(a)),f=v(a/2),h=s(a/2),p=v(i/6),d=s(i/6),g=.5*i*(1+l)-n,y=a/(h*d)-r,b=l?-.25*i*c/l:0,_=.5*(1+l),k=(1+.5*a*f/h)/(h*d),E=a/h*(p/6)/(d*d),S=b*E-k*_,O=(g*E-y*_)/S,P=(y*b-g*k)/S;if(a-=O,i-=P,o(O)<m&&o(P)<m)break}return[t<0?-i:i,e<0?-a:a]};var sn=function(){return Object(r.geoProjection)(an).scale(97.2672)};function un(t,e){var n=t*t,r=e*e;return[t*(.975534+r*(-.0143059*n-.119161+-.0547009*r)),e*(1.00384+n*(.0802894+-.02855*r+199025e-9*n)+r*(.0998909+-.0491032*r))]}un.invert=function(t,e){var n=g(t)*_,r=e/2,i=50;do{var a=n*n,s=r*r,u=n*r,c=n*(.975534+s*(-.0143059*a-.119161+-.0547009*s))-t,l=r*(1.00384+a*(.0802894+-.02855*s+199025e-9*a)+s*(.0998909+-.0491032*s))-e,f=.975534-s*(.119161+3*a*.0143059+.0547009*s),h=-u*(.238322+.2188036*s+.0286118*a),p=u*(.1605788+7961e-7*a+-.0571*s),d=1.00384+a*(.0802894+199025e-9*a)+s*(3*(.0998909-.02855*a)-.245516*s),v=h*p-d*f,y=(l*h-c*d)/v,b=(c*p-l*f)/v;n-=y,r-=b}while((o(y)>m||o(b)>m)&&--i>0);return i&&[n,r]};var cn=function(){return Object(r.geoProjection)(un).scale(139.98)};function ln(t,e){return[v(t)/s(e),y(e)*s(t)]}ln.invert=function(t,e){var n=t*t,r=e*e,o=r+1,i=t?E*x((o-x(n*n+2*n*(r-1)+o*o))/n+1):1/x(o);return[T(t*i),g(e)*A(i)]};var fn=function(){return Object(r.geoProjection)(ln).scale(144.049).clipAngle(89.999)};function hn(t){var e=s(t),n=y(k+t/2);function r(r,i){var a=i-t,s=o(a)<m?r*e:o(s=k+i/2)<m||o(o(s)-w)<m?0:r*a/l(y(s)/n);return[s,a]}return r.invert=function(r,i){var a,s=i+t;return[o(i)<m?r/e:o(a=k+s/2)<m||o(o(a)-w)<m?0:r*l(y(a)/n)/i,s]},r}var pn=function(){return nt(hn).parallel(40).scale(158.837)};function dn(t,e){return[t,1.25*l(y(k+.4*e))]}dn.invert=function(t,e){return[t,2.5*i(u(.8*e))-.625*_]};var gn=function(){return Object(r.geoProjection)(dn).scale(108.318)};function vn(t){var e=t.length-1;function n(n,r){for(var o,i=s(r),a=2/(1+i*s(n)),u=a*i*v(n),c=a*v(r),l=e,f=t[l],h=f[0],p=f[1];--l>=0;)h=(f=t[l])[0]+u*(o=h)-c*p,p=f[1]+u*p+c*o;return[h=u*(o=h)-c*p,p=u*p+c*o]}return n.invert=function(n,r){var u=20,c=n,l=r;do{for(var f,h=e,p=t[h],d=p[0],g=p[1],y=0,b=0;--h>=0;)y=d+c*(f=y)-l*b,b=g+c*b+l*f,d=(p=t[h])[0]+c*(f=d)-l*g,g=p[1]+c*g+l*f;var _,w,k=(y=d+c*(f=y)-l*b)*y+(b=g+c*b+l*f)*b;c-=_=((d=c*(f=d)-l*g-n)*y+(g=c*g+l*f-r)*b)/k,l-=w=(g*y-d*b)/k}while(o(_)+o(w)>m*m&&--u>0);if(u){var E=x(c*c+l*l),S=2*i(.5*E),O=v(S);return[a(c*O,E*s(S)),E?T(l*O/E):0]}},n}var yn=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],mn=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],bn=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],_n=[[.9245,0],[0,0],[.01943,0]],wn=[[.721316,0],[0,0],[-.00881625,-.00617325]];function kn(){return Mn(yn,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)}function En(){return Mn(mn,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Sn(){return Mn(bn,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function On(){return Mn(_n,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Pn(){return Mn(wn,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Mn(t,e){var n=Object(r.geoProjection)(vn(t)).rotate(e).clipAngle(90),o=Object(r.geoRotation)(e),i=n.center;return delete n.rotate,n.center=function(t){return arguments.length?i(o(t)):o.invert(i())},n}var jn=x(6),Tn=x(7);function An(t,e){var n=T(7*v(e)/(3*jn));return[jn*t*(2*s(2*n/3)-1)/Tn,9*v(n/3)/Tn]}An.invert=function(t,e){var n=3*T(e*Tn/9);return[t*Tn/(jn*(2*s(2*n/3)-1)),T(3*v(n)*jn/7)]};var xn=function(){return Object(r.geoProjection)(An).scale(164.859)};function Cn(t,e){for(var n,r=(1+E)*v(e),i=e,a=0;a<25&&(i-=n=(v(i/2)+v(i)-r)/(.5*s(i/2)+s(i)),!(o(n)<m));a++);return[t*(1+2*s(i)/s(i/2))/(3*S),2*x(3)*v(i/2)/x(2+S)]}Cn.invert=function(t,e){var n=e*x(2+S)/(2*x(3)),r=2*T(n);return[3*S*t/(1+2*s(r)/s(r/2)),T((n+v(r))/(1+E))]};var Rn=function(){return Object(r.geoProjection)(Cn).scale(188.209)};function Ln(t,e){for(var n,r=x(6/(4+_)),i=(1+_/4)*v(e),a=e/2,u=0;u<25&&(a-=n=(a/2+v(a)-i)/(.5+s(a)),!(o(n)<m));u++);return[r*(.5+s(a))*t/1.5,r*a]}Ln.invert=function(t,e){var n=x(6/(4+_)),r=e/n;return o(o(r)-w)<m&&(r=r<0?-w:w),[1.5*t/(n*(.5+s(r))),T((r/2+v(r))/(1+_/4))]};var Un=function(){return Object(r.geoProjection)(Ln).scale(166.518)};function Nn(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Nn.invert=function(t,e){var n,r=e,i=25;do{var a=r*r,s=a*a;r-=n=(r*(1.007226+a*(.015085+s*(.028874*a-.044475-.005916*s)))-e)/(1.007226+a*(.045255+s*(.259866*a-.311325-.005916*11*s)))}while(o(n)>m&&--i>0);return[t/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]};var In=function(){return Object(r.geoProjection)(Nn).scale(175.295)};function zn(t,e){return[t*(1+s(e))/2,2*(e-y(e/2))]}zn.invert=function(t,e){for(var n=e/2,r=0,i=1/0;r<10&&o(i)>m;++r){var a=s(e/2);e-=i=(e-y(e/2)-n)/(1-.5/(a*a))}return[2*t/(1+s(e)),e]};var Dn=function(){return Object(r.geoProjection)(zn).scale(152.63)},Bn=1.0148,qn=.23185,Fn=-.14499,Gn=.02406,Hn=Bn,Yn=5*qn,Xn=7*Fn,Jn=9*Gn;function Kn(t,e){var n=e*e;return[t,e*(Bn+n*n*(qn+n*(Fn+Gn*n)))]}Kn.invert=function(t,e){e>1.790857183?e=1.790857183:e<-1.790857183&&(e=-1.790857183);var n,r=e;do{var i=r*r;r-=n=(r*(Bn+i*i*(qn+i*(Fn+Gn*i)))-e)/(Hn+i*i*(Yn+i*(Xn+Jn*i)))}while(o(n)>m);return[t,r]};var Wn=function(){return Object(r.geoProjection)(Kn).scale(139.319)};function Qn(t,e){if(o(e)<m)return[t,0];var n=y(e),r=t*v(e);return[v(r)/n,e+(1-s(r))/n]}Qn.invert=function(t,e){if(o(e)<m)return[t,0];var n,r=t*t+e*e,i=.5*e,a=10;do{var u=y(i),c=1/s(i),l=r-2*e*i+i*i;i-=n=(u*l+2*(i-e))/(2+l*c*c+2*(i-e)*u)}while(o(n)>m&&--a>0);return u=y(i),[(o(e)<o(i+1/u)?T(t*u):g(t)*(A(o(t*u))+w))/v(i),i]};var $n=function(){return Object(r.geoProjection)(Qn).scale(103.74)},Vn=function(t,e){var n=tr(t[1],t[0]),r=tr(e[1],e[0]),o=function(t,e){return a(t[0]*e[1]-t[1]*e[0],t[0]*e[0]+t[1]*e[1])}(n,r),i=er(n)/er(r);return Zn([1,0,t[0][0],0,1,t[0][1]],Zn([i,0,0,0,i,0],Zn([s(o),v(o),0,-v(o),s(o),0],[1,0,-e[0][0],0,1,-e[0][1]])))};function Zn(t,e){return[t[0]*e[0]+t[1]*e[3],t[0]*e[1]+t[1]*e[4],t[0]*e[2]+t[1]*e[5]+t[2],t[3]*e[0]+t[4]*e[3],t[3]*e[1]+t[4]*e[4],t[3]*e[2]+t[4]*e[5]+t[5]]}function tr(t,e){return[t[0]-e[0],t[1]-e[1]]}function er(t){return x(t[0]*t[0]+t[1]*t[1])}var nr=function(t,e,n){function i(t,n){var r,o=e(t,n),i=o.project([t*M,n*M]);return(r=o.transform)?[r[0]*i[0]+r[1]*i[1]+r[2],-(r[3]*i[0]+r[4]*i[1]+r[5])]:(i[1]=-i[1],i)}(function t(e,n){e.edges=function(t){for(var e=t.length,n=[],r=t[e-1],o=0;o<e;++o)n.push([r,r=t[o]]);return n}(e.face);if(n.face){var r=e.shared=function(t,e){for(var n,r,o=t.length,i=null,a=0;a<o;++a){n=t[a];for(var s=e.length;--s>=0;)if(r=e[s],n[0]===r[0]&&n[1]===r[1]){if(i)return[i,n];i=n}}}(e.face,n.face),o=Vn(r.map(n.project),r.map(e.project));e.transform=n.transform?Zn(n.transform,o):o;for(var i=n.edges,a=0,s=i.length;a<s;++a)rr(r[0],i[a][1])&&rr(r[1],i[a][0])&&(i[a]=e),rr(r[0],i[a][0])&&rr(r[1],i[a][1])&&(i[a]=e);for(i=e.edges,a=0,s=i.length;a<s;++a)rr(r[0],i[a][0])&&rr(r[1],i[a][1])&&(i[a]=n),rr(r[0],i[a][1])&&rr(r[1],i[a][0])&&(i[a]=n)}else e.transform=n.transform;e.children&&e.children.forEach(function(n){t(n,e)});return e})(t,{transform:[s(n=null==n?-_/6:n),v(n),0,-v(n),s(n),0]}),or(t)&&(i.invert=function(n,r){var o=function t(n,r){var o=n.project.invert,i=n.transform,a=r;i&&(u=1/((s=i)[0]*s[4]-s[1]*s[3]),i=[u*s[4],-u*s[1],u*(s[1]*s[5]-s[2]*s[4]),-u*s[3],u*s[0],u*(s[2]*s[3]-s[0]*s[5])],a=[i[0]*a[0]+i[1]*a[1]+i[2],i[3]*a[0]+i[4]*a[1]+i[5]]);var s,u;if(o&&n===function(t){return e(t[0]*j,t[1]*j)}(c=o(a)))return c;var c,l=n.children;for(var f=0,h=l&&l.length;f<h;++f)if(c=t(l[f],r))return c}(t,[n,-r]);return o&&(o[0]*=j,o[1]*=j,o)});var a=Object(r.geoProjection)(i),u=a.stream;return a.stream=function(e){var n=a.rotate(),i=u(e),s=(a.rotate([0,0]),u(e));return a.rotate(n),i.sphere=function(){s.polygonStart(),s.lineStart(),function t(e,n,i){var a,s,u=n.edges,c=u.length,l={type:"MultiPoint",coordinates:n.face},f=n.face.filter(function(t){return 90!==o(t[1])}),h=Object(r.geoBounds)({type:"MultiPoint",coordinates:f}),p=!1,d=-1,g=h[1][0]-h[0][0];var v=180===g||360===g?[(h[0][0]+h[1][0])/2,(h[0][1]+h[1][1])/2]:Object(r.geoCentroid)(l);if(i)for(;++d<c&&u[d]!==i;);++d;for(var y=0;y<c;++y)s=u[(y+d)%c],Array.isArray(s)?(p||(e.point((a=Object(r.geoInterpolate)(s[0],v)(m))[0],a[1]),p=!0),e.point((a=Object(r.geoInterpolate)(s[1],v)(m))[0],a[1])):(p=!1,s!==i&&t(e,s,n))}(s,t),s.lineEnd(),s.polygonEnd()},i},a};function rr(t,e){return t&&e&&t[0]===e[0]&&t[1]===e[1]}function or(t){return t.project.invert||t.children&&t.children.some(or)}var ir=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],ar=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(t){return t.map(function(t){return ir[t]})}),sr=function(t){t=t||function(t){var e=Object(r.geoCentroid)({type:"MultiPoint",coordinates:t});return Object(r.geoGnomonic)().scale(1).translate([0,0]).rotate([-e[0],-e[1]])};var e=ar.map(function(e){return{face:e,project:t(e)}});return[-1,0,0,1,0,1,4,5].forEach(function(t,n){var r=e[t];r&&(r.children||(r.children=[])).push(e[n])}),nr(e[0],function(t,n){return e[t<-_/2?n<0?6:4:t<0?n<0?2:0:t<_/2?n<0?3:1:n<0?7:5]}).scale(101.858).center([0,45])},ur=2/x(3);function cr(t,e){var n=mt(t,e);return[n[0]*ur,n[1]]}cr.invert=function(t,e){return mt.invert(t/ur,e)};var lr=function(t){t=t||function(t){var e=Object(r.geoCentroid)({type:"MultiPoint",coordinates:t});return Object(r.geoProjection)(cr).translate([0,0]).scale(1).rotate(e[1]>0?[-e[0],0]:[180-e[0],180])};var e=ar.map(function(e){return{face:e,project:t(e)}});return[-1,0,0,1,0,1,4,5].forEach(function(t,n){var r=e[t];r&&(r.children||(r.children=[])).push(e[n])}),nr(e[0],function(t,n){return e[t<-_/2?n<0?6:4:t<0?n<0?2:0:t<_/2?n<0?3:1:n<0?7:5]}).scale(121.906).center([0,48.5904])},fr=function(t){t=t||function(t){var e=6===t.length?Object(r.geoCentroid)({type:"MultiPoint",coordinates:t}):t[0];return Object(r.geoGnomonic)().scale(1).translate([0,0]).rotate([-e[0],-e[1]])};var e=ar.map(function(t){for(var e,n=t.map(dr),r=n.length,o=n[r-1],i=[],a=0;a<r;++a)e=n[a],i.push(pr([.9486832980505138*o[0]+.31622776601683794*e[0],.9486832980505138*o[1]+.31622776601683794*e[1],.9486832980505138*o[2]+.31622776601683794*e[2]]),pr([.9486832980505138*e[0]+.31622776601683794*o[0],.9486832980505138*e[1]+.31622776601683794*o[1],.9486832980505138*e[2]+.31622776601683794*o[2]])),o=e;return i}),n=[],o=[-1,0,0,1,0,1,4,5];e.forEach(function(t,r){for(var i,a,s=ar[r],u=s.length,c=n[r]=[],l=0;l<u;++l)e.push([s[l],t[(2*l+2)%(2*u)],t[(2*l+1)%(2*u)]]),o.push(r),c.push((i=dr(t[(2*l+2)%(2*u)]),a=dr(t[(2*l+1)%(2*u)]),[i[1]*a[2]-i[2]*a[1],i[2]*a[0]-i[0]*a[2],i[0]*a[1]-i[1]*a[0]]))});var i=e.map(function(e){return{project:t(e),face:e}});return o.forEach(function(t,e){var n=i[t];n&&(n.children||(n.children=[])).push(i[e])}),nr(i[0],function(t,e){var r=s(e),o=[r*s(t),r*v(t),v(e)],a=t<-_/2?e<0?6:4:t<0?e<0?2:0:t<_/2?e<0?3:1:e<0?7:5,u=n[a];return i[hr(u[0],o)<0?8+3*a:hr(u[1],o)<0?8+3*a+1:hr(u[2],o)<0?8+3*a+2:a]}).scale(110.625).center([0,45])};function hr(t,e){for(var n=0,r=t.length,o=0;n<r;++n)o+=t[n]*e[n];return o}function pr(t){return[a(t[1],t[0])*M,T(f(-1,h(1,t[2])))*M]}function dr(t){var e=t[0]*j,n=t[1]*j,r=s(n);return[r*s(e),r*v(e),v(n)]}var gr=function(){},vr=function(t,e){var n,r=e.stream;if(!r)throw new Error("invalid projection");switch(t&&t.type){case"Feature":n=mr;break;case"FeatureCollection":n=yr;break;default:n=br}return n(t,r)};function yr(t,e){return{type:"FeatureCollection",features:t.features.map(function(t){return mr(t,e)})}}function mr(t,e){return{type:"Feature",id:t.id,properties:t.properties,geometry:br(t.geometry,e)}}function br(t,e){if(!t)return null;if("GeometryCollection"===t.type)return function(t,e){return{type:"GeometryCollection",geometries:t.geometries.map(function(t){return br(t,e)})}}(t,e);var n;switch(t.type){case"Point":case"MultiPoint":n=kr;break;case"LineString":case"MultiLineString":n=Er;break;case"Polygon":case"MultiPolygon":case"Sphere":n=Sr;break;default:return null}return Object(r.geoStream)(t,e(n)),n.result()}var _r=[],wr=[],kr={point:function(t,e){_r.push([t,e])},result:function(){var t=_r.length?_r.length<2?{type:"Point",coordinates:_r[0]}:{type:"MultiPoint",coordinates:_r}:null;return _r=[],t}},Er={lineStart:gr,point:function(t,e){_r.push([t,e])},lineEnd:function(){_r.length&&(wr.push(_r),_r=[])},result:function(){var t=wr.length?wr.length<2?{type:"LineString",coordinates:wr[0]}:{type:"MultiLineString",coordinates:wr}:null;return wr=[],t}},Sr={polygonStart:gr,lineStart:gr,point:function(t,e){_r.push([t,e])},lineEnd:function(){var t=_r.length;if(t){do{_r.push(_r[0].slice())}while(++t<4);wr.push(_r),_r=[]}},polygonEnd:gr,result:function(){if(!wr.length)return null;var t=[],e=[];return wr.forEach(function(n){!function(t){if((e=t.length)<4)return!1;for(var e,n=0,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r<=0}(n)?e.push(n):t.push([n])}),e.forEach(function(e){var n=e[0];t.some(function(t){if(function(t,e){for(var n=e[0],r=e[1],o=!1,i=0,a=t.length,s=a-1;i<a;s=i++){var u=t[i],c=u[0],l=u[1],f=t[s],h=f[0],p=f[1];l>r^p>r&&n<(h-c)*(r-l)/(p-l)+c&&(o=!o)}return o}(t[0],n))return t.push(e),!0})||t.push([e])}),wr=[],t.length?t.length>1?{type:"MultiPolygon",coordinates:t}:{type:"Polygon",coordinates:t[0]}:null}},Or=function(t){var e=t(w,0)[0]-t(-w,0)[0];function n(n,r){var i=o(n)<w,a=t(i?n:n>0?n-_:n+_,r),s=(a[0]-a[1])*E,u=(a[0]+a[1])*E;if(i)return[s,u];var c=e*E,l=s>0^u>0?-1:1;return[l*s-g(u)*c,l*u-g(s)*c]}return t.invert&&(n.invert=function(n,r){var i=(n+r)*E,a=(r-n)*E,s=o(i)<.5*e&&o(a)<.5*e;if(!s){var u=e*E,c=i>0^a>0?-1:1,l=-c*(n+(a>0?1:-1)*u),f=-c*(r+(i>0?1:-1)*u);i=(-l-f)*E,a=(l-f)*E}var h=t.invert(i,a);return s||(h[0]+=i>0?_:-_),h}),Object(r.geoProjection)(n).rotate([-90,-90,45]).clipAngle(179.999)},Pr=function(){return Or(de).scale(176.423)},Mr=function(){return Or(me).scale(111.48)},jr=function(t,e){if(!(0<=(e=+e)&&e<=20))throw new Error("invalid digits");function n(t){t[0]=+t[0].toFixed(e),t[1]=+t[1].toFixed(e)}function r(t){t.forEach(n)}function o(t){t.forEach(r)}function i(t){if(t)switch(t.type){case"GeometryCollection":t.geometries.forEach(i);break;case"Point":n(t.coordinates);break;case"MultiPoint":case"LineString":r(t.coordinates);break;case"MultiLineString":case"Polygon":o(t.coordinates);break;case"MultiPolygon":t.coordinates.forEach(o);break;default:return}}function a(t){i(t.geometry)}if(t)switch(t.type){case"Feature":a(t);break;case"FeatureCollection":t.features.forEach(a);break;default:i(t)}return t};function Tr(t){var e=v(t);function n(n,r){var o=e?y(n*e/2)/e:n/2;if(!r)return[2*o,-t];var a=2*i(o*v(r)),u=1/y(r);return[v(a)*u,r+(1-s(a))*u-t]}return n.invert=function(n,r){if(o(r+=t)<m)return[e?2*i(e*n/2)/e:n,0];var a,u=n*n+r*r,c=0,l=10;do{var f=y(c),h=1/s(c),p=u-2*r*c+c*c;c-=a=(f*p+2*(c-r))/(2+p*h*h+2*(c-r)*f)}while(o(a)>m&&--l>0);var d=n*(f=y(c)),g=y(o(r)<o(c+1/f)?.5*T(d):.5*A(d)+_/4)/v(c);return[e?2*i(e*g)/e:2*g,c]},n}var Ar=function(){return nt(Tr).scale(131.215)},xr=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function Cr(t,e){var n,r=h(18,36*o(e)/_),i=c(r),a=r-i,s=(n=xr[i])[0],u=n[1],l=(n=xr[++i])[0],f=n[1],p=(n=xr[h(19,++i)])[0],d=n[1];return[t*(l+a*(p-s)/2+a*a*(p-2*l+s)/2),(e>0?w:-w)*(f+a*(d-u)/2+a*a*(d-2*f+u)/2)]}xr.forEach(function(t){t[1]*=1.0144}),Cr.invert=function(t,e){var n=e/w,r=90*n,i=h(18,o(r/5)),a=f(0,c(i));do{var s=xr[a][1],u=xr[a+1][1],l=xr[h(19,a+2)][1],p=l-s,d=l-2*u+s,g=2*(o(n)-u)/p,v=d/p,y=g*(1-v*g*(1-2*v*g));if(y>=0||1===a){r=(e>=0?5:-5)*(y+i);var m,_=50;do{y=(i=h(18,o(r)/5))-(a=c(i)),s=xr[a][1],u=xr[a+1][1],l=xr[h(19,a+2)][1],r-=(m=(e>=0?w:-w)*(u+y*(l-s)/2+y*y*(l-2*u+s)/2)-e)*M}while(o(m)>b&&--_>0);break}}while(--a>=0);var k=xr[a][0],E=xr[a+1][0],S=xr[h(19,a+2)][0];return[t/(E+y*(S-k)/2+y*y*(S-2*E+k)/2),r*j]};var Rr=function(){return Object(r.geoProjection)(Cr).scale(152.63)};function Lr(t,e){var n=function(t){function e(e,n){var r=s(n),o=(t-1)/(t-r*s(e));return[o*r*v(e),o*v(n)]}return e.invert=function(e,n){var r=e*e+n*n,o=x(r),i=(t-x(1-r*(t+1)/(t-1)))/((t-1)/o+o/(t-1));return[a(e*i,o*x(1-i*i)),o?T(n*i/o):0]},e}(t);if(!e)return n;var r=s(e),o=v(e);function i(e,i){var a=n(e,i),s=a[1],u=s*o/(t-1)+r;return[a[0]*r/u,s/u]}return i.invert=function(e,i){var a=(t-1)/(t-1-i*o);return n.invert(a*e,a*i*r)},i}var Ur=function(){var t=2,e=0,n=Object(r.geoProjectionMutator)(Lr),o=n(t,e);return o.distance=function(r){return arguments.length?n(t=+r,e):t},o.tilt=function(r){return arguments.length?n(t,e=r*j):e*M},o.scale(432.147).clipAngle(A(1/t)*M-1e-6)},Nr=1e4,Ir=-180,zr=Ir+1e-4,Dr=180,Br=Dr-1e-4,qr=-90,Fr=qr+1e-4,Gr=90,Hr=Gr-1e-4;function Yr(t){return t===qr||t===Gr?[0,t]:[Ir,(e=t,Math.floor(e*Nr)/Nr)];var e}function Xr(t){t[0]<=zr?t[0]=Ir:t[0]>=Br&&(t[0]=Dr),t[1]<=Fr?t[1]=qr:t[1]>=Hr&&(t[1]=Gr)}function Jr(t){t.forEach(Xr)}function Kr(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n];o.polygon=t,e.push(o);for(var i=0,a=o.length;i<a;++i){var s=o[i],u=s[0],c=s[1];if(u<=zr||u>=Br||c<=Fr||c>=Hr){Xr(s);for(var l=i+1;l<a;++l){var f=o[l],h=f[0],p=f[1];if(h>zr&&h<Br&&p>Fr&&p<Hr)break}if(l===i+1)continue;if(i){var d=o.slice(0,i+1);d.polygon=t,d[d.length-1]=Yr(c),e[e.length-1]=d}else e.pop();if(l>=a)break;e.push(o=o.slice(l-1)),o[0]=Yr(o[0][1]),o.polygon=t,i=-1,a=o.length}}}t.length=0}function Wr(t){Qr(t.geometry)}function Qr(t){if(t){var e,n,r;switch(t.type){case"GeometryCollection":return void t.geometries.forEach(Qr);case"Point":Xr(t.coordinates);break;case"MultiPoint":case"LineString":Jr(t.coordinates);break;case"MultiLineString":t.coordinates.forEach(Jr);break;case"Polygon":Kr(t.coordinates,e=[]);break;case"MultiPolygon":for(e=[],n=-1,r=t.coordinates.length;++n<r;)Kr(t.coordinates[n],e);break;default:return}!function(t){var e,n,r,o,i,a,s=t.length,u={},c={};for(e=0;e<s;++e)r=(n=t[e])[0],i=n[n.length-1],r[0]!==i[0]||r[1]!==i[1]?(n.index=e,u[r]=c[i]=n):(n.polygon.push(n),t[e]=null);for(e=0;e<s;++e)if(n=t[e]){if(r=n[0],i=n[n.length-1],o=c[r],a=u[i],delete u[r],delete c[i],r[0]===i[0]&&r[1]===i[1]){n.polygon.push(n);continue}o?(delete c[r],delete u[o[0]],o.pop(),t[o.index]=null,(n=o.concat(n)).polygon=o.polygon,o===a?n.polygon.push(n):(n.index=s++,t.push(u[n[0]]=c[n[n.length-1]]=n))):a?(delete u[i],delete c[a[a.length-1]],n.pop(),(n=n.concat(a)).polygon=a.polygon,n.index=s++,t[a.index]=null,t.push(u[n[0]]=c[n[n.length-1]]=n)):(n.push(n[0]),n.polygon.push(n))}}(e)}}var $r=function(t){if(t)switch(t.type){case"Feature":Wr(t);break;case"FeatureCollection":t.features.forEach(Wr);break;default:Qr(t)}return t};function Vr(t,e){var n=y(e/2),r=v(k*n);return[t*(.74482-.34588*r*r),1.70711*n]}Vr.invert=function(t,e){var n=e/1.70711,r=v(k*n);return[t/(.74482-.34588*r*r),2*i(n)]};var Zr=function(){return Object(r.geoProjection)(Vr).scale(146.153)},to=function(t,e,n){var o=Object(r.geoInterpolate)(e,n),i=o(.5),a=Object(r.geoRotation)([-i[0],-i[1]])(e),s=o.distance/2,u=-T(v(a[1]*j)/v(s)),c=[-i[0],-i[1],-(a[0]>0?_-u:u)*M],l=Object(r.geoProjection)(t(s)).rotate(c),f=Object(r.geoRotation)(c),h=l.center;return delete l.rotate,l.center=function(t){return arguments.length?h(f(t)):f.invert(h())},l.clipAngle(90)};function eo(t){var e=s(t);function n(t,n){var o=Object(r.geoGnomonicRaw)(t,n);return o[0]*=e,o}return n.invert=function(t,n){return r.geoGnomonicRaw.invert(t/e,n)},n}function no(){return ro([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function ro(t,e){return to(eo,t,e)}function oo(t){if(!(t*=2))return r.geoAzimuthalEquidistantRaw;var e=-t/2,n=-e,o=t*t,i=y(n),u=.5/v(n);function c(r,i){var a=A(s(i)*s(r-e)),u=A(s(i)*s(r-n));return[((a*=a)-(u*=u))/(2*t),(i<0?-1:1)*x(4*o*u-(o-a+u)*(o-a+u))/(2*t)]}return c.invert=function(t,r){var o,c,l=r*r,f=s(x(l+(o=t+e)*o)),h=s(x(l+(o=t+n)*o));return[a(c=f-h,o=(f+h)*i),(r<0?-1:1)*A(x(o*o+c*c)*u)]},c}function io(){return ao([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function ao(t,e){return to(oo,t,e)}function so(t,e){if(o(e)<m)return[t,0];var n=o(e/w),r=T(n);if(o(t)<m||o(o(e)-w)<m)return[0,g(e)*_*y(r/2)];var i=s(r),a=o(_/t-t/_)/2,u=a*a,c=i/(n+i-1),l=c*(2/n-1),f=l*l,h=f+u,p=c-f,d=u+c;return[g(t)*_*(a*p+x(u*p*p-h*(c*c-f)))/h,g(e)*_*(l*d-a*x((u+1)*h-d*d))/h]}so.invert=function(t,e){if(o(e)<m)return[t,0];if(o(t)<m)return[0,w*v(2*i(e/_))];var n=(t/=_)*t,r=(e/=_)*e,a=n+r,u=a*a,c=-o(e)*(1+a),l=c-2*r+n,f=-2*c+1+2*r+u,h=r/f+(2*l*l*l/(f*f*f)-9*c*l/(f*f))/27,p=(c-l*l/(3*f))/f,d=2*x(-p/3),y=A(3*h/(p*d))/3;return[_*(a-1+x(1+2*(n-r)+u))/(2*t),g(e)*_*(-d*s(y+_/3)-l/(3*f))]};var uo=function(){return Object(r.geoProjection)(so).scale(79.4183)};function co(t,e){if(o(e)<m)return[t,0];var n=o(e/w),r=T(n);if(o(t)<m||o(o(e)-w)<m)return[0,g(e)*_*y(r/2)];var i=s(r),a=o(_/t-t/_)/2,u=a*a,c=i*(x(1+u)-a*i)/(1+u*n*n);return[g(t)*_*c,g(e)*_*x(1-c*(2*a+c))]}co.invert=function(t,e){if(!t)return[0,w*v(2*i(e/_))];var n=o(t/_),r=(1-n*n-(e/=_)*e)/(2*n),s=x(r*r+1);return[g(t)*_*(s-r),g(e)*w*v(2*a(x((1-2*r*n)*(r+s)-n),x(s+r+n)))]};var lo=function(){return Object(r.geoProjection)(co).scale(79.4183)};function fo(t,e){if(o(e)<m)return[t,0];var n=e/w,r=T(n);if(o(t)<m||o(o(e)-w)<m)return[0,_*y(r/2)];var i=(_/t-t/_)/2,a=n/(1+s(r));return[_*(g(t)*x(i*i+1-a*a)-i),_*a]}fo.invert=function(t,e){if(!e)return[t,0];var n=e/_,r=(_*_*(1-n*n)-t*t)/(2*_*t);return[t?_*(g(t)*x(r*r+1)-r):0,w*v(2*i(n))]};var ho=function(){return Object(r.geoProjection)(fo).scale(79.4183)};function po(t,e){if(!e)return[t,0];var n=o(e);if(!t||n===w)return[0,e];var r=n/w,i=r*r,a=(8*r-i*(i+2)-5)/(2*i*(r-1)),s=a*a,u=r*a,c=i+s+2*u,l=r+3*a,f=t/w,h=f+1/f,p=g(o(t)-w)*x(h*h-4),d=p*p,v=(p*(c+s-1)+2*x(c*(i+s*d-1)+(1-i)*(i*(l*l+4*s)+12*u*s+4*s*s)))/(4*c+d);return[g(t)*w*v,g(e)*w*x(1+p*o(v)-v*v)]}po.invert=function(t,e){var n;if(!t||!e)return[t,e];e/=_;var r=g(t)*t/w,i=(r*r-1+4*e*e)/o(r),a=i*i,s=2*e,u=50;do{var c=s*s,l=(8*s-c*(c+2)-5)/(2*c*(s-1)),f=(3*s-c*s-10)/(2*c*s),h=l*l,p=s*l,d=s+l,v=d*d,y=s+3*l,b=-2*d*(4*p*h+(1-4*c+3*c*c)*(1+f)+h*(14*c-6-a+(8*c-8-2*a)*f)+p*(12*c-8+(10*c-10-a)*f)),k=x(v*(c+h*a-1)+(1-c)*(c*(y*y+4*h)+h*(12*p+4*h)));s-=n=(i*(v+h-1)+2*k-r*(4*v+a))/(i*(2*l*f+2*d*(1+f))+b/k-8*d*(i*(-1+h+v)+2*k)*(1+f)/(a+4*v))}while(n>m&&--u>0);return[g(t)*(x(i*i+4)+i)*_/4,w*s]};var go=function(){return Object(r.geoProjection)(po).scale(127.16)},vo=4*_+3*x(3),yo=2*x(2*_*x(3)/vo),mo=W(yo*x(3)/_,yo,vo/6),bo=function(){return Object(r.geoProjection)(mo).scale(176.84)};function _o(t,e){return[t*x(1-3*e*e/(_*_)),e]}_o.invert=function(t,e){return[t/x(1-3*e*e/(_*_)),e]};var wo=function(){return Object(r.geoProjection)(_o).scale(152.63)};function ko(t,e){var n=.90631*v(e),r=x(1-n*n),o=x(2/(1+r*s(t/=3)));return[2.66723*r*o*v(t),1.24104*n*o]}ko.invert=function(t,e){var n=t/2.66723,r=e/1.24104,o=x(n*n+r*r),i=2*T(o/2);return[3*a(t*y(i),2.66723*o),o&&T(e*v(i)/(1.24104*.90631*o))]};var Eo=function(){return Object(r.geoProjection)(ko).scale(172.632)};function So(t,e){var n=s(e),r=s(t)*n,o=1-r,i=s(t=a(v(t)*n,-v(e))),u=v(t);return[u*(n=x(1-r*r))-i*o,-i*n-u*o]}So.invert=function(t,e){var n=(t*t+e*e)/-2,r=x(-n*(2+n)),o=e*n+t*r,i=t*n-e*r,s=x(i*i+o*o);return[a(r*o,s*(1+n)),s?-T(r*i/s):0]};var Oo=function(){return Object(r.geoProjection)(So).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)};function Po(t,e){var n=N(t,e);return[(n[0]+t/w)/2,(n[1]+e)/2]}Po.invert=function(t,e){var n=t,r=e,i=25;do{var a,u=s(r),c=v(r),l=v(2*r),f=c*c,h=u*u,p=v(n),d=s(n/2),g=v(n/2),y=g*g,b=1-h*d*d,_=b?A(u*d)*x(a=1/b):a=0,k=.5*(2*_*u*g+n/w)-t,E=.5*(_*c+r)-e,S=.5*a*(h*y+_*u*d*f)+.5/w,O=a*(p*l/4-_*c*g),P=.125*a*(l*g-_*c*h*p),M=.5*a*(f*d+_*y*u)+.5,j=O*P-M*S,T=(E*O-k*M)/j,C=(k*P-E*S)/j;n-=T,r-=C}while((o(T)>m||o(C)>m)&&--i>0);return[n,r]};var Mo=function(){return Object(r.geoProjection)(Po).scale(158.837)};n.d(e,"geoAiry",function(){return U}),n.d(e,"geoAiryRaw",function(){return L}),n.d(e,"geoAitoff",function(){return I}),n.d(e,"geoAitoffRaw",function(){return N}),n.d(e,"geoArmadillo",function(){return D}),n.d(e,"geoArmadilloRaw",function(){return z}),n.d(e,"geoAugust",function(){return q}),n.d(e,"geoAugustRaw",function(){return B}),n.d(e,"geoBaker",function(){return Y}),n.d(e,"geoBakerRaw",function(){return H}),n.d(e,"geoBerghaus",function(){return J}),n.d(e,"geoBerghausRaw",function(){return X}),n.d(e,"geoBoggs",function(){return et}),n.d(e,"geoBoggsRaw",function(){return tt}),n.d(e,"geoBonne",function(){return at}),n.d(e,"geoBonneRaw",function(){return it}),n.d(e,"geoBottomley",function(){return ut}),n.d(e,"geoBottomleyRaw",function(){return st}),n.d(e,"geoBromley",function(){return lt}),n.d(e,"geoBromleyRaw",function(){return ct}),n.d(e,"geoChamberlin",function(){return yt}),n.d(e,"geoChamberlinRaw",function(){return dt}),n.d(e,"geoChamberlinAfrica",function(){return vt}),n.d(e,"geoCollignon",function(){return bt}),n.d(e,"geoCollignonRaw",function(){return mt}),n.d(e,"geoCraig",function(){return wt}),n.d(e,"geoCraigRaw",function(){return _t}),n.d(e,"geoCraster",function(){return St}),n.d(e,"geoCrasterRaw",function(){return Et}),n.d(e,"geoCylindricalEqualArea",function(){return Pt}),n.d(e,"geoCylindricalEqualAreaRaw",function(){return Ot}),n.d(e,"geoCylindricalStereographic",function(){return jt}),n.d(e,"geoCylindricalStereographicRaw",function(){return Mt}),n.d(e,"geoEckert1",function(){return At}),n.d(e,"geoEckert1Raw",function(){return Tt}),n.d(e,"geoEckert2",function(){return Ct}),n.d(e,"geoEckert2Raw",function(){return xt}),n.d(e,"geoEckert3",function(){return Lt}),n.d(e,"geoEckert3Raw",function(){return Rt}),n.d(e,"geoEckert4",function(){return Nt}),n.d(e,"geoEckert4Raw",function(){return Ut}),n.d(e,"geoEckert5",function(){return zt}),n.d(e,"geoEckert5Raw",function(){return It}),n.d(e,"geoEckert6",function(){return Bt}),n.d(e,"geoEckert6Raw",function(){return Dt}),n.d(e,"geoEisenlohr",function(){return Gt}),n.d(e,"geoEisenlohrRaw",function(){return Ft}),n.d(e,"geoFahey",function(){return Xt}),n.d(e,"geoFaheyRaw",function(){return Yt}),n.d(e,"geoFoucaut",function(){return Kt}),n.d(e,"geoFoucautRaw",function(){return Jt}),n.d(e,"geoGilbert",function(){return $t}),n.d(e,"geoGingery",function(){return ee}),n.d(e,"geoGingeryRaw",function(){return Vt}),n.d(e,"geoGinzburg4",function(){return oe}),n.d(e,"geoGinzburg4Raw",function(){return re}),n.d(e,"geoGinzburg5",function(){return ae}),n.d(e,"geoGinzburg5Raw",function(){return ie}),n.d(e,"geoGinzburg6",function(){return ue}),n.d(e,"geoGinzburg6Raw",function(){return se}),n.d(e,"geoGinzburg8",function(){return le}),n.d(e,"geoGinzburg8Raw",function(){return ce}),n.d(e,"geoGinzburg9",function(){return he}),n.d(e,"geoGinzburg9Raw",function(){return fe}),n.d(e,"geoGringorten",function(){return ge}),n.d(e,"geoGringortenRaw",function(){return de}),n.d(e,"geoGuyou",function(){return be}),n.d(e,"geoGuyouRaw",function(){return me}),n.d(e,"geoHammer",function(){return ke}),n.d(e,"geoHammerRaw",function(){return _e}),n.d(e,"geoHammerRetroazimuthal",function(){return Oe}),n.d(e,"geoHammerRetroazimuthalRaw",function(){return Ee}),n.d(e,"geoHealpix",function(){return Ae}),n.d(e,"geoHealpixRaw",function(){return Te}),n.d(e,"geoHill",function(){return Ce}),n.d(e,"geoHillRaw",function(){return xe}),n.d(e,"geoHomolosine",function(){return ze}),n.d(e,"geoHomolosineRaw",function(){return Ie}),n.d(e,"geoInterrupt",function(){return qe}),n.d(e,"geoInterruptedBoggs",function(){return Ge}),n.d(e,"geoInterruptedHomolosine",function(){return Ye}),n.d(e,"geoInterruptedMollweide",function(){return Je}),n.d(e,"geoInterruptedMollweideHemispheres",function(){return We}),n.d(e,"geoInterruptedSinuMollweide",function(){return $e}),n.d(e,"geoInterruptedSinusoidal",function(){return Ze}),n.d(e,"geoKavrayskiy7",function(){return en}),n.d(e,"geoKavrayskiy7Raw",function(){return tn}),n.d(e,"geoLagrange",function(){return rn}),n.d(e,"geoLagrangeRaw",function(){return nn}),n.d(e,"geoLarrivee",function(){return sn}),n.d(e,"geoLarriveeRaw",function(){return an}),n.d(e,"geoLaskowski",function(){return cn}),n.d(e,"geoLaskowskiRaw",function(){return un}),n.d(e,"geoLittrow",function(){return fn}),n.d(e,"geoLittrowRaw",function(){return ln}),n.d(e,"geoLoximuthal",function(){return pn}),n.d(e,"geoLoximuthalRaw",function(){return hn}),n.d(e,"geoMiller",function(){return gn}),n.d(e,"geoMillerRaw",function(){return dn}),n.d(e,"geoModifiedStereographic",function(){return Mn}),n.d(e,"geoModifiedStereographicRaw",function(){return vn}),n.d(e,"geoModifiedStereographicAlaska",function(){return kn}),n.d(e,"geoModifiedStereographicGs48",function(){return En}),n.d(e,"geoModifiedStereographicGs50",function(){return Sn}),n.d(e,"geoModifiedStereographicMiller",function(){return On}),n.d(e,"geoModifiedStereographicLee",function(){return Pn}),n.d(e,"geoMollweide",function(){return $}),n.d(e,"geoMollweideRaw",function(){return Q}),n.d(e,"geoMtFlatPolarParabolic",function(){return xn}),n.d(e,"geoMtFlatPolarParabolicRaw",function(){return An}),n.d(e,"geoMtFlatPolarQuartic",function(){return Rn}),n.d(e,"geoMtFlatPolarQuarticRaw",function(){return Cn}),n.d(e,"geoMtFlatPolarSinusoidal",function(){return Un}),n.d(e,"geoMtFlatPolarSinusoidalRaw",function(){return Ln}),n.d(e,"geoNaturalEarth",function(){return In}),n.d(e,"geoNaturalEarthRaw",function(){return Nn}),n.d(e,"geoNellHammer",function(){return Dn}),n.d(e,"geoNellHammerRaw",function(){return zn}),n.d(e,"geoPatterson",function(){return Wn}),n.d(e,"geoPattersonRaw",function(){return Kn}),n.d(e,"geoPolyconic",function(){return $n}),n.d(e,"geoPolyconicRaw",function(){return Qn}),n.d(e,"geoPolyhedral",function(){return nr}),n.d(e,"geoPolyhedralButterfly",function(){return sr}),n.d(e,"geoPolyhedralCollignon",function(){return lr}),n.d(e,"geoPolyhedralWaterman",function(){return fr}),n.d(e,"geoProject",function(){return vr}),n.d(e,"geoGringortenQuincuncial",function(){return Pr}),n.d(e,"geoPeirceQuincuncial",function(){return Mr}),n.d(e,"geoPierceQuincuncial",function(){return Mr}),n.d(e,"geoQuantize",function(){return jr}),n.d(e,"geoQuincuncial",function(){return Or}),n.d(e,"geoRectangularPolyconic",function(){return Ar}),n.d(e,"geoRectangularPolyconicRaw",function(){return Tr}),n.d(e,"geoRobinson",function(){return Rr}),n.d(e,"geoRobinsonRaw",function(){return Cr}),n.d(e,"geoSatellite",function(){return Ur}),n.d(e,"geoSatelliteRaw",function(){return Lr}),n.d(e,"geoSinuMollweide",function(){return Ne}),n.d(e,"geoSinuMollweideRaw",function(){return Ue}),n.d(e,"geoSinusoidal",function(){return ot}),n.d(e,"geoSinusoidalRaw",function(){return rt}),n.d(e,"geoStitch",function(){return $r}),n.d(e,"geoTimes",function(){return Zr}),n.d(e,"geoTimesRaw",function(){return Vr}),n.d(e,"geoTwoPointAzimuthal",function(){return ro}),n.d(e,"geoTwoPointAzimuthalRaw",function(){return eo}),n.d(e,"geoTwoPointAzimuthalUsa",function(){return no}),n.d(e,"geoTwoPointEquidistant",function(){return ao}),n.d(e,"geoTwoPointEquidistantRaw",function(){return oo}),n.d(e,"geoTwoPointEquidistantUsa",function(){return io}),n.d(e,"geoVanDerGrinten",function(){return uo}),n.d(e,"geoVanDerGrintenRaw",function(){return so}),n.d(e,"geoVanDerGrinten2",function(){return lo}),n.d(e,"geoVanDerGrinten2Raw",function(){return co}),n.d(e,"geoVanDerGrinten3",function(){return ho}),n.d(e,"geoVanDerGrinten3Raw",function(){return fo}),n.d(e,"geoVanDerGrinten4",function(){return go}),n.d(e,"geoVanDerGrinten4Raw",function(){return po}),n.d(e,"geoWagner4",function(){return bo}),n.d(e,"geoWagner4Raw",function(){return mo}),n.d(e,"geoWagner6",function(){return wo}),n.d(e,"geoWagner6Raw",function(){return _o}),n.d(e,"geoWagner7",function(){return Eo}),n.d(e,"geoWagner7Raw",function(){return ko}),n.d(e,"geoWiechel",function(){return Oo}),n.d(e,"geoWiechelRaw",function(){return So}),n.d(e,"geoWinkel3",function(){return Mo}),n.d(e,"geoWinkel3Raw",function(){return Po})},283:function(t,e,n){"use strict";n.r(e);var r=function(t){return t},o=function(t){if(null==(e=t.transform))return r;var e,n,o,i=e.scale[0],a=e.scale[1],s=e.translate[0],u=e.translate[1];return function(t,e){return e||(n=o=0),t[0]=(n+=t[0])*i+s,t[1]=(o+=t[1])*a+u,t}},i=function(t){var e=t.bbox;function n(t){u[0]=t[0],u[1]=t[1],s(u),u[0]<c&&(c=u[0]),u[0]>f&&(f=u[0]),u[1]<l&&(l=u[1]),u[1]>h&&(h=u[1])}function r(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(r);break;case"Point":n(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(n)}}if(!e){var i,a,s=o(t),u=new Array(2),c=1/0,l=c,f=-c,h=-c;for(a in t.arcs.forEach(function(t){for(var e=-1,n=t.length;++e<n;)i=t[e],u[0]=i[0],u[1]=i[1],s(u,e),u[0]<c&&(c=u[0]),u[0]>f&&(f=u[0]),u[1]<l&&(l=u[1]),u[1]>h&&(h=u[1])}),t.objects)r(t.objects[a]);e=t.bbox=[c,l,f,h]}return e},a=function(t,e){for(var n,r=t.length,o=r-e;o<--r;)n=t[o],t[o++]=t[r],t[r]=n},s=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return u(t,e)})}:u(t,e)};function u(t,e){var n=e.id,r=e.bbox,o=null==e.properties?{}:e.properties,i=c(t,e);return null==n&&null==r?{type:"Feature",properties:o,geometry:i}:null==r?{type:"Feature",id:n,properties:o,geometry:i}:{type:"Feature",id:n,bbox:r,properties:o,geometry:i}}function c(t,e){var n=o(t),r=t.arcs;function i(t,e){e.length&&e.pop();for(var o=r[t<0?~t:t],i=0,s=o.length;i<s;++i)e.push(n(o[i].slice(),i));t<0&&a(e,s)}function s(t){return n(t.slice())}function u(t){for(var e=[],n=0,r=t.length;n<r;++n)i(t[n],e);return e.length<2&&e.push(e[0].slice()),e}function c(t){for(var e=u(t);e.length<4;)e.push(e[0].slice());return e}function l(t){return t.map(c)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=s(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(s);break;case"LineString":n=u(e.arcs);break;case"MultiLineString":n=e.arcs.map(u);break;case"Polygon":n=l(e.arcs);break;case"MultiPolygon":n=e.arcs.map(l);break;default:return null}return{type:r,coordinates:n}}(e)}var l=function(t,e){var n={},r={},o={},i=[],a=-1;function s(t,e){for(var r in t){var o=t[r];delete e[o.start],delete o.start,delete o.end,o.forEach(function(t){n[t<0?~t:t]=1}),i.push(o)}}return e.forEach(function(n,r){var o,i=t.arcs[n<0?~n:n];i.length<3&&!i[1][0]&&!i[1][1]&&(o=e[++a],e[a]=n,e[r]=o)}),e.forEach(function(e){var n,i,a=function(e){var n,r=t.arcs[e<0?~e:e],o=r[0];t.transform?(n=[0,0],r.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=r[r.length-1];return e<0?[n,o]:[o,n]}(e),s=a[0],u=a[1];if(n=o[s])if(delete o[n.end],n.push(e),n.end=u,i=r[u]){delete r[i.start];var c=i===n?n:n.concat(i);r[c.start=n.start]=o[c.end=i.end]=c}else r[n.start]=o[n.end]=n;else if(n=r[u])if(delete r[n.start],n.unshift(e),n.start=s,i=o[s]){delete o[i.end];var l=i===n?n:i.concat(n);r[l.start=i.start]=o[l.end=n.end]=l}else r[n.start]=o[n.end]=n;else r[(n=[e]).start=s]=o[n.end=u]=n}),s(o,r),s(r,o),e.forEach(function(t){n[t<0?~t:t]||i.push([t])}),i},f=function(t){return c(t,h.apply(this,arguments))};function h(t,e,n){var r,o,i;if(arguments.length>1)r=function(t,e,n){var r,o=[],i=[];function a(t){var e=t<0?~t:t;(i[e]||(i[e]=[])).push({i:t,g:r})}function s(t){t.forEach(a)}function u(t){t.forEach(s)}return function t(e){switch(r=e,e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":s(e.arcs);break;case"MultiLineString":case"Polygon":u(e.arcs);break;case"MultiPolygon":e.arcs.forEach(u)}}(e),i.forEach(null==n?function(t){o.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&o.push(t[0].i)}),o}(0,e,n);else for(o=0,r=new Array(i=t.arcs.length);o<i;++o)r[o]=o;return{type:"MultiLineString",arcs:l(t,r)}}var p=function(t){return c(t,d.apply(this,arguments))};function d(t,e){var n={},r=[],o=[];function i(t){t.forEach(function(e){e.forEach(function(e){(n[e=e<0?~e:e]||(n[e]=[])).push(t)})}),r.push(t)}function a(e){return function(t){for(var e,n=-1,r=t.length,o=t[r-1],i=0;++n<r;)e=o,o=t[n],i+=e[0]*o[1]-e[1]*o[0];return Math.abs(i)}(c(t,{type:"Polygon",arcs:[e]}).coordinates[0])}return e.forEach(function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":i(e.arcs);break;case"MultiPolygon":e.arcs.forEach(i)}}),r.forEach(function(t){if(!t._){var e=[],r=[t];for(t._=1,o.push(e);t=r.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){n[t<0?~t:t].forEach(function(t){t._||(t._=1,r.push(t))})})})}}),r.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:o.map(function(e){var r,o=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){n[t<0?~t:t].length<2&&o.push(t)})})}),(r=(o=l(t,o)).length)>1)for(var i,s,u=1,c=a(o[0]);u<r;++u)(i=a(o[u]))>c&&(s=o[0],o[0]=o[u],o[u]=s,c=i);return o})}}var g=function(t,e){for(var n=0,r=t.length;n<r;){var o=n+r>>>1;t[o]<e?n=o+1:r=o}return n},v=function(t){var e={},n=t.map(function(){return[]});function r(t,n){t.forEach(function(t){t<0&&(t=~t);var r=e[t];r?r.push(n):e[t]=[n]})}function o(t,e){t.forEach(function(t){r(t,e)})}var i={LineString:r,MultiLineString:o,Polygon:o,MultiPolygon:function(t,e){t.forEach(function(t){o(t,e)})}};for(var a in t.forEach(function t(e,n){"GeometryCollection"===e.type?e.geometries.forEach(function(e){t(e,n)}):e.type in i&&i[e.type](e.arcs,n)}),e)for(var s=e[a],u=s.length,c=0;c<u;++c)for(var l=c+1;l<u;++l){var f,h=s[c],p=s[l];(f=n[h])[a=g(f,p)]!==p&&f.splice(a,0,p),(f=n[p])[a=g(f,h)]!==h&&f.splice(a,0,h)}return n},y=function(t,e){if(!((e=Math.floor(e))>=2))throw new Error("n must be 2");if(t.transform)throw new Error("already quantized");var n,r=i(t),o=r[0],a=(r[2]-o)/(e-1)||1,s=r[1],u=(r[3]-s)/(e-1)||1;function c(t){t[0]=Math.round((t[0]-o)/a),t[1]=Math.round((t[1]-s)/u)}function l(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(l);break;case"Point":c(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(c)}}for(n in t.arcs.forEach(function(t){for(var e,n,r,i=1,c=1,l=t.length,f=t[0],h=f[0]=Math.round((f[0]-o)/a),p=f[1]=Math.round((f[1]-s)/u);i<l;++i)f=t[i],n=Math.round((f[0]-o)/a),r=Math.round((f[1]-s)/u),n===h&&r===p||((e=t[c++])[0]=n-h,h=n,e[1]=r-p,p=r);c<2&&((e=t[c++])[0]=0,e[1]=0),t.length=c}),t.objects)l(t.objects[n]);return t.transform={scale:[a,u],translate:[o,s]},t},m=function(t){if(null==(e=t.transform))return r;var e,n,o,i=e.scale[0],a=e.scale[1],s=e.translate[0],u=e.translate[1];return function(t,e){e||(n=o=0);var r=Math.round((t[0]-s)/i),c=Math.round((t[1]-u)/a);return t[0]=r-n,n=r,t[1]=c-o,o=c,t}};n.d(e,"bbox",function(){return i}),n.d(e,"feature",function(){return s}),n.d(e,"mesh",function(){return f}),n.d(e,"meshArcs",function(){return h}),n.d(e,"merge",function(){return p}),n.d(e,"mergeArcs",function(){return d}),n.d(e,"neighbors",function(){return v}),n.d(e,"quantize",function(){return y}),n.d(e,"transform",function(){return o}),n.d(e,"untransform",function(){return m})},284:function(t,e,n){"use strict";function r(t){return t.replace(/^\s+|\s+$/g,"")}var o=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function i(t){console.warn("[react-ga]",t)}var a="REDACTED (Potential Email Address)";function s(t,e){return function(t){return/[^@]+@[^@]+/.test(t)}(t)?(i("This arg looks like an email address, redacting."),a):e?r(t).replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(t,e,n){return e>0&&e+t.length!==n.length&&t.search(o)>-1&&":"!==n.charAt(e-2)&&("-"!==n.charAt(e+t.length)||"-"===n.charAt(e-1))&&n.charAt(e-1).search(/[^\s-]/)<0?t.toLowerCase():t.substr(1).search(/[A-Z]|\../)>-1?t:t.charAt(0).toUpperCase()+t.substr(1)}):t}var u=function(t){var e,n,r,o,i,a,s,u="https://www.google-analytics.com/analytics.js";t&&t.gaAddress?u=t.gaAddress:t&&t.debug&&(u="https://www.google-analytics.com/analytics_debug.js"),e=window,n=document,r="script",o=u,i="ga",e.GoogleAnalyticsObject=i,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,a=n.createElement(r),s=n.getElementsByTagName(r)[0],a.async=1,a.src=o,s.parentNode.insertBefore(a,s)};function c(t){console.info("[react-ga]",t)}var l=[],f={calls:l,ga:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];l.push(e.concat())},resetCalls:function(){l.length=0}},h=n(0),p=n.n(h),d=n(4),g=n.n(d);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E="_blank",S=1,O=function(t){function e(){var t,n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(t=b(e)).call.apply(t,[this].concat(a)),n=!o||"object"!==v(o)&&"function"!=typeof o?w(r):o,k(w(w(n)),"handleClick",function(t){var r=n.props,o=r.target,i=r.eventLabel,a=r.to,s=r.onClick,u={label:i},c=o!==E,l=!(t.ctrlKey||t.shiftKey||t.metaKey||t.button===S);c&&l?(t.preventDefault(),e.trackLink(u,function(){window.location.href=a})):e.trackLink(u,function(){}),s&&s(t)}),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(e,h["Component"]),n=e,(r=[{key:"render",value:function(){var t=this.props,e=t.to,n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){k(t,e,n[e])})}return t}({},y(t,["to"]),{href:e,onClick:this.handleClick});return this.props.target===E&&(n.rel="noopener noreferrer"),delete n.eventLabel,p.a.createElement("a",n)}}])&&m(n.prototype,r),o&&m(n,o),e}();function P(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}k(O,"trackLink",function(){i("ga tracking not enabled")}),k(O,"propTypes",{eventLabel:g.a.string.isRequired,target:g.a.string,to:g.a.string,onClick:g.a.func}),k(O,"defaultProps",{target:null,to:null,onClick:null});var A=!1,x=!0,C=!1,R=!0,L=function(){var t;return C?f.ga.apply(f,arguments):"undefined"!=typeof window&&(window.ga?(t=window).ga.apply(t,arguments):i("ReactGA.initialize must be called first or GoogleAnalytics should be loaded manually"))};function U(t){return s(t,x)}function N(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=n[0];if("function"==typeof L){if("string"!=typeof o)return void i("ga command must be a string");!R&&Array.isArray(t)||L.apply(void 0,n),Array.isArray(t)&&t.forEach(function(t){L.apply(void 0,T(["".concat(t,".").concat(o)].concat(n.slice(1))))})}}function I(t,e){t?(e&&(e.debug&&!0===e.debug&&(A=!0),!1===e.titleCase&&(x=!1)),e&&e.gaOptions?L("create",t,e.gaOptions):L("create",t,"auto")):i("gaTrackingID is required in initialize()")}function z(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length>0&&(L.apply(void 0,e),A&&(c("called ga('arguments');"),c("with arguments: ".concat(JSON.stringify(e))))),window.ga}function D(t,e){N(e,"send",t),A&&(c("called ga('send', fieldObject);"),c("with fieldObject: ".concat(JSON.stringify(t))),c("with trackers: ".concat(JSON.stringify(e))))}var B={require:function(t,e){if(t){var n=r(t);if(""!==n)if(e){if("object"!==j(e))return void i("Expected `options` arg to be an Object");0===Object.keys(e).length&&i("Empty `options` given to .require()"),z("require",n,e),A&&c("called ga('require', '".concat(n,"', ").concat(JSON.stringify(e)))}else z("require",n),A&&c("called ga('require', '".concat(n,"');"));else i("`name` cannot be an empty string in .require()")}else i("`name` is required in .require()")},execute:function(t,e){var n,r;if(1==(arguments.length<=2?0:arguments.length-2)?n=arguments.length<=2?void 0:arguments[2]:(r=arguments.length<=2?void 0:arguments[2],n=arguments.length<=3?void 0:arguments[3]),"string"!=typeof t)i("Expected `pluginName` arg to be a String.");else if("string"!=typeof e)i("Expected `action` arg to be a String.");else{var o="".concat(t,":").concat(e);n=n||null,r&&n?(z(o,r,n),A&&(c("called ga('".concat(o,"');")),c('actionType: "'.concat(r,'" with payload: ').concat(JSON.stringify(n))))):n?(z(o,n),A&&(c("called ga('".concat(o,"');")),c("with payload: ".concat(JSON.stringify(n))))):(z(o),A&&c("called ga('".concat(o,"');")))}}};function q(t,e,n){if("function"==typeof e)if(t&&t.label){var r={hitType:"event",eventCategory:"Outbound",eventAction:"Click",eventLabel:U(t.label)},o=!1,a=setTimeout(function(){o=!0,e()},250);r.hitCallback=function(){clearTimeout(a),o||e()},D(r,n)}else i("args.label is required in outboundLink()");else i("hitCallback function is required")}O.origTrackLink=O.trackLink,O.trackLink=q;var F=O;e.a={initialize:function(t,e){if(e&&!0===e.testMode)C=!0;else{if("undefined"==typeof window)return!1;e&&!0===e.standardImplementation||u(e)}return R=!e||"boolean"!=typeof e.alwaysSendToDefaultTracker||e.alwaysSendToDefaultTracker,Array.isArray(t)?t.forEach(function(t){"object"===j(t)?I(t.trackingId,t):i("All configs must be an object")}):I(t,e),!0},ga:z,set:function(t,e){t?"object"===j(t)?(0===Object.keys(t).length&&i("empty `fieldsObject` given to .set()"),N(e,"set",t),A&&(c("called ga('set', fieldsObject);"),c("with fieldsObject: ".concat(JSON.stringify(t))))):i("Expected `fieldsObject` arg to be an Object"):i("`fieldsObject` is required in .set()")},send:D,pageview:function(t,e,n){if(t){var o=r(t);if(""!==o){var a={};if(n&&(a.title=n),N(e,"send",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){M(t,e,n[e])})}return t}({hitType:"pageview",page:o},a)),A){c("called ga('send', 'pageview', path);");var s="";n&&(s=" and title: ".concat(n)),c("with path: ".concat(o).concat(s))}}else i("path cannot be an empty string in .pageview()")}else i("path is required in .pageview()")},modalview:function(t,e){if(t){var n,o="/"===(n=r(t)).substring(0,1)?n.substring(1):n;if(""!==o){var a="/modal/".concat(o);N(e,"send","pageview",a),A&&(c("called ga('send', 'pageview', path);"),c("with path: ".concat(a)))}else i("modalName cannot be an empty string or a single / in .modalview()")}else i("modalName is required in .modalview(modalName)")},timing:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.category,n=t.variable,r=t.value,o=t.label,a=arguments.length>1?arguments[1]:void 0;if(e&&n&&r&&"number"==typeof r){var s={hitType:"timing",timingCategory:U(e),timingVar:U(n),timingValue:r};o&&(s.timingLabel=U(o)),D(s,a)}else i("args.category, args.variable AND args.value are required in timing() AND args.value has to be a number")},event:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.category,n=t.action,r=t.label,o=t.value,a=t.nonInteraction,s=t.transport,u=P(t,["category","action","label","value","nonInteraction","transport"]),c=arguments.length>1?arguments[1]:void 0;if(e&&n){var l={hitType:"event",eventCategory:U(e),eventAction:U(n)};r&&(l.eventLabel=U(r)),void 0!==o&&("number"!=typeof o?i("Expected `args.value` arg to be a Number."):l.eventValue=o),void 0!==a&&("boolean"!=typeof a?i("`args.nonInteraction` must be a boolean."):l.nonInteraction=a),void 0!==s&&("string"!=typeof s?i("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(s)&&i("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),l.transport=s)),Object.keys(u).filter(function(t){return"dimension"===t.substr(0,"dimension".length)}).forEach(function(t){l[t]=u[t]}),Object.keys(u).filter(function(t){return"metric"===t.substr(0,"metric".length)}).forEach(function(t){l[t]=u[t]}),D(l,c)}else i("args.category AND args.action are required in event()")},exception:function(t,e){var n=t.description,r=t.fatal,o={hitType:"exception"};n&&(o.exDescription=U(n)),void 0!==r&&("boolean"!=typeof r?i("`args.fatal` must be a boolean."):o.exFatal=r),D(o,e)},plugin:B,outboundLink:q,OutboundLink:F,testModeAPI:f}}}]);
//# sourceMappingURL=8-3fb8d50b2efd0a209ab0.js.map